(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-665bfe7a"],{"1e4b":function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:t.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"数据范围",prop:"scope"}},[a("el-select",{attrs:{placeholder:"请选择数据范围",clearable:"",size:"small"},model:{value:t.queryParams.scope,callback:function(e){t.$set(t.queryParams,"scope",e)},expression:"queryParams.scope"}},t._l(t.scopeOptions,(function(t){return a("el-option",{key:t.dictValue,attrs:{label:t.dictLabel,value:t.dictValue}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"采集频率",prop:"isUpload"}},[a("el-select",{attrs:{placeholder:"请选择采集频率",clearable:"",size:"small"},on:{change:t.statTypeChange},model:{value:t.queryParams.statType,callback:function(e){t.$set(t.queryParams,"statType",e)},expression:"queryParams.statType"}},t._l(t.statTypeOptions,(function(t){return a("el-option",{key:t.dictValue,attrs:{label:t.dictLabel,value:t.dictValue}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"统计时间",prop:"statDate"}},["0"==t.queryParams.statType?a("el-date-picker",{staticStyle:{width:"200px"},attrs:{clearable:"",size:"small",type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择统计时间"},model:{value:t.queryParams.statDate,callback:function(e){t.$set(t.queryParams,"statDate",e)},expression:"queryParams.statDate"}}):t._e(),t._v(" "),"1"==t.queryParams.statType?a("el-date-picker",{staticStyle:{width:"200px"},attrs:{clearable:"",size:"small",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择统计时间"},model:{value:t.queryParams.statDate,callback:function(e){t.$set(t.queryParams,"statDate",e)},expression:"queryParams.statDate"}}):t._e(),t._v(" "),"2"==t.queryParams.statType?a("el-date-picker",{staticStyle:{width:"200px"},attrs:{clearable:"",size:"small",type:"month","value-format":"yyyy-MM",placeholder:"选择统计时间"},model:{value:t.queryParams.statDate,callback:function(e){t.$set(t.queryParams,"statDate",e)},expression:"queryParams.statDate"}}):t._e(),t._v(" "),"3"==t.queryParams.statType?a("el-date-picker",{staticStyle:{width:"200px"},attrs:{clearable:"",size:"small",type:"year","value-format":"yyyy",placeholder:"选择统计时间"},model:{value:t.queryParams.statDate,callback:function(e){t.$set(t.queryParams,"statDate",e)},expression:"queryParams.statDate"}}):t._e()],1),t._v(" "),a("el-form-item",{attrs:{label:"是否上传",prop:"isUpload"}},[a("el-select",{attrs:{placeholder:"请选择是否上传",clearable:"",size:"small"},model:{value:t.queryParams.isUpload,callback:function(e){t.$set(t.queryParams,"isUpload",e)},expression:"queryParams.isUpload"}},t._l(t.isUploadOptions,(function(t){return a("el-option",{key:t.dictValue,attrs:{label:t.dictLabel,value:t.dictValue}})})),1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:t.handleQuery}},[t._v("搜索")]),t._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:t.resetQuery}},[t._v("重置")])],1)],1),t._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}}),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.dataList,"row-style":t.TableRowStyle},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{label:"数据标号",align:"center",prop:"dataCode"}}),t._v(" "),a("el-table-column",{attrs:{label:"数据项",align:"center",prop:"dataValue"}}),t._v(" "),a("el-table-column",{attrs:{label:"采集类型",align:"center",prop:"inputType",formatter:t.inputTypeFormat}}),t._v(" "),a("el-table-column",{attrs:{label:"采集频率",align:"center",prop:"statType",formatter:t.statTypeFormat}}),t._v(" "),a("el-table-column",{attrs:{label:"统计周期起始时间",align:"center",prop:"statDate"}}),t._v(" "),a("el-table-column",{attrs:{label:"数据范围",align:"center",prop:"scope",formatter:t.scopeFormat}}),t._v(" "),a("el-table-column",{attrs:{label:"数据有效性",align:"center",prop:"valid",formatter:t.validFormat}}),t._v(" "),a("el-table-column",{attrs:{label:"是否上传",align:"center",prop:"isUpload",formatter:t.isUploadFormat}}),t._v(" "),a("el-table-column",{attrs:{label:"上传状态",align:"center",prop:"uploadStatus",formatter:t.uploadStatusFormat}})],1),t._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],attrs:{total:t.total,page:t.queryParams.pageNum,limit:t.queryParams.pageSize},on:{"update:page":function(e){return t.$set(t.queryParams,"pageNum",e)},"update:limit":function(e){return t.$set(t.queryParams,"pageSize",e)},pagination:t.getList}}),t._v(" "),a("el-dialog",{attrs:{title:t.title,visible:t.open,width:"500px","append-to-body":""},on:{"update:visible":function(e){t.open=e}}},[a("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"数据标号",prop:"dataCode"}},[a("el-input",{attrs:{placeholder:"请输入数据标号"},model:{value:t.form.dataCode,callback:function(e){t.$set(t.form,"dataCode",e)},expression:"form.dataCode"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"数据项",prop:"dataValue"}},[a("el-input",{attrs:{placeholder:"请输入数据项"},model:{value:t.form.dataValue,callback:function(e){t.$set(t.form,"dataValue",e)},expression:"form.dataValue"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"采集类型"}},[a("el-select",{attrs:{placeholder:"请选择采集类型"},model:{value:t.form.inputType,callback:function(e){t.$set(t.form,"inputType",e)},expression:"form.inputType"}},t._l(t.inputTypeOptions,(function(t){return a("el-option",{key:t.dictValue,attrs:{label:t.dictLabel,value:t.dictValue}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"采集频率"}},[a("el-select",{attrs:{placeholder:"请选择采集频率"},model:{value:t.form.statType,callback:function(e){t.$set(t.form,"statType",e)},expression:"form.statType"}},t._l(t.statTypeOptions,(function(t){return a("el-option",{key:t.dictValue,attrs:{label:t.dictLabel,value:t.dictValue}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"统计周期起始时间",prop:"statDate"}},[a("el-date-picker",{staticStyle:{width:"200px"},attrs:{clearable:"",size:"small",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择统计周期起始时间"},model:{value:t.form.statDate,callback:function(e){t.$set(t.form,"statDate",e)},expression:"form.statDate"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"数据范围"}},[a("el-select",{attrs:{placeholder:"请选择数据范围"},model:{value:t.form.scope,callback:function(e){t.$set(t.form,"scope",e)},expression:"form.scope"}},t._l(t.scopeOptions,(function(t){return a("el-option",{key:t.dictValue,attrs:{label:t.dictLabel,value:t.dictValue}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"数据有效性",prop:"valid"}},[a("el-input",{attrs:{placeholder:"请输入数据有效性"},model:{value:t.form.valid,callback:function(e){t.$set(t.form,"valid",e)},expression:"form.valid"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"是否上传"}},[a("el-select",{attrs:{placeholder:"请选择是否上传"},model:{value:t.form.isUpload,callback:function(e){t.$set(t.form,"isUpload",e)},expression:"form.isUpload"}},t._l(t.isUploadOptions,(function(t){return a("el-option",{key:t.dictValue,attrs:{label:t.dictLabel,value:t.dictValue}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"上传状态"}},[a("el-select",{attrs:{placeholder:"请选择上传状态"},model:{value:t.form.uploadStatus,callback:function(e){t.$set(t.form,"uploadStatus",e)},expression:"form.uploadStatus"}},t._l(t.uploadStatusOptions,(function(t){return a("el-option",{key:t.dictValue,attrs:{label:t.dictLabel,value:t.dictValue}})})),1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.submitForm}},[t._v("确 定")]),t._v(" "),a("el-button",{on:{click:t.cancel}},[t._v("取 消")])],1)],1)],1)},r=[],s=a("75c8"),i={name:"Data",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,dataList:[],title:"",open:!1,inputTypeOptions:[],statTypeOptions:[],scopeOptions:[],validOptions:[],isUploadOptions:[],uploadStatusOptions:[],queryParams:{pageNum:1,pageSize:10,scope:void 0,statType:void 0,isUpload:void 0,uploadStatus:void 0},form:{},rules:{id:[{required:!0,message:"ID不能为空",trigger:"blur"}],dataCode:[{required:!0,message:"数据标号不能为空",trigger:"blur"}],dataValue:[{required:!0,message:"数据项不能为空",trigger:"blur"}],inputType:[{required:!0,message:"采集类型不能为空",trigger:"blur"}],statType:[{required:!0,message:"采集频率不能为空",trigger:"blur"}],statDate:[{required:!0,message:"统计周期起始时间不能为空",trigger:"blur"}],scope:[{required:!0,message:"数据范围不能为空",trigger:"blur"}],valid:[{required:!0,message:"数据有效性不能为空",trigger:"blur"}]}}},created:function(){var t=this;this.getList(),this.getDicts("sr_sjsc_inputType").then((function(e){t.inputTypeOptions=e.data})),this.getDicts("sr_sjsc_statType").then((function(e){t.statTypeOptions=e.data})),this.getDicts("sr_sjsc_scope").then((function(e){t.scopeOptions=e.data})),this.getDicts("sr_sjsc_isUpload").then((function(e){t.isUploadOptions=e.data})),this.getDicts("sr_sjsc_uploadStatus").then((function(e){t.uploadStatusOptions=e.data})),this.getDicts("sirui_valid").then((function(e){t.validOptions=e.data}))},methods:{statTypeChange:function(){this.form.statDate=""},TableRowStyle:function(t){var e={};if(t.row.dataValue<=0)return e.color="red",e},getList:function(){var t=this;this.loading=!0,Object(s["f"])(this.queryParams).then((function(e){t.dataList=e.rows,t.total=e.total,t.loading=!1}))},inputTypeFormat:function(t,e){return this.selectDictLabel(this.inputTypeOptions,t.inputType)},statTypeFormat:function(t,e){return this.selectDictLabel(this.statTypeOptions,t.statType)},scopeFormat:function(t,e){return this.selectDictLabel(this.scopeOptions,t.scope)},validFormat:function(t,e){return this.selectDictLabel(this.validOptions,t.valid)},isUploadFormat:function(t,e){return this.selectDictLabel(this.isUploadOptions,t.isUpload)},uploadStatusFormat:function(t,e){return this.selectDictLabel(this.uploadStatusOptions,t.uploadStatus)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,dataCode:void 0,dataValue:void 0,inputType:void 0,statType:void 0,statDate:void 0,scope:void 0,valid:void 0,isUpload:void 0,uploadStatus:void 0,createBy:void 0,createTime:void 0,updateBy:void 0,updateTime:void 0,remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(t){this.ids=t.map((function(t){return t.id})),this.single=1!=t.length,this.multiple=!t.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加上传数据"},handleUpdate:function(t){var e=this;this.reset();var a=t.id||this.ids;Object(s["e"])(a).then((function(t){e.form=t.data,e.open=!0,e.title="修改上传数据"}))},submitForm:function(){var t=this;this.$refs["form"].validate((function(e){e&&(void 0!=t.form.id?Object(s["h"])(t.form).then((function(e){200===e.code&&(t.msgSuccess("修改成功"),t.open=!1,t.getList())})):Object(s["a"])(t.form).then((function(e){200===e.code&&(t.msgSuccess("新增成功"),t.open=!1,t.getList())})))}))},handleDelete:function(t){var e=this,a=t.id||this.ids;this.$confirm('是否确认删除上传数据编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(s["c"])(a)})).then((function(){e.getList(),e.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var t=this,e=this.queryParams;this.$confirm("是否确认导出所有上传数据数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(s["d"])(e)})).then((function(e){t.download(e.msg)})).catch((function(){}))}}},o=i,n=a("2877"),u=Object(n["a"])(o,l,r,!1,null,null,null);e["default"]=u.exports},"75c8":function(t,e,a){"use strict";a.d(e,"f",(function(){return r})),a.d(e,"e",(function(){return s})),a.d(e,"a",(function(){return i})),a.d(e,"h",(function(){return o})),a.d(e,"c",(function(){return n})),a.d(e,"d",(function(){return u})),a.d(e,"g",(function(){return c})),a.d(e,"b",(function(){return p}));var l=a("b775");function r(t){return Object(l["a"])({url:"/sirui/data/list",method:"get",params:t})}function s(t){return Object(l["a"])({url:"/sirui/data/"+t,method:"get"})}function i(t){return Object(l["a"])({url:"/sirui/data",method:"post",data:t})}function o(t){return Object(l["a"])({url:"/sirui/data",method:"put",data:t})}function n(t){return Object(l["a"])({url:"/sirui/data/"+t,method:"delete"})}function u(t){return Object(l["a"])({url:"/sirui/data/export",method:"get",params:t})}function c(t){return Object(l["a"])({url:"/sirui/config/srUpCIConfig",method:"post",data:t})}function p(t){return Object(l["a"])({url:"/sirui/data/addList",method:"post",data:t})}}}]);