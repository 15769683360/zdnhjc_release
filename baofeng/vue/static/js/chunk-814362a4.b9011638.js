(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-814362a4","chunk-768fe99a","chunk-680f17d1","chunk-08486bce","chunk-adde61aa","chunk-68d5bf9e","chunk-4e60716b","chunk-665bfe7a","chunk-685ca9f8","chunk-d19c1a98","chunk-2d0f012d"],{"0062":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"任务名称",prop:"jobName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入任务名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.jobName,callback:function(t){e.$set(e.queryParams,"jobName",t)},expression:"queryParams.jobName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"任务组名",prop:"jobGroup"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"请任务组名",clearable:"",size:"small"},model:{value:e.queryParams.jobGroup,callback:function(t){e.$set(e.queryParams,"jobGroup",t)},expression:"queryParams.jobGroup"}},e._l(e.jobGroupOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"执行状态",prop:"status"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"请选择执行状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"执行时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:remove"],expression:"['monitor:job:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:remove"],expression:"['monitor:job:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:e.handleClean}},[e._v("清空")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:jobLog:export"],expression:"['monitor:jobLog:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.jobLogList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"日志编号",width:"80",align:"center",prop:"jobLogId"}}),e._v(" "),a("el-table-column",{attrs:{label:"任务名称",align:"center",prop:"jobName","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"任务组名",align:"center",prop:"jobGroup",formatter:e.jobGroupFormat,"show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"调用目标字符串",align:"center",prop:"invokeTarget","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"日志信息",align:"center",prop:"jobMessage","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"执行状态",align:"center",prop:"status",formatter:e.statusFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"执行时间",align:"center",prop:"createTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:query"],expression:"['monitor:job:query']"}],attrs:{size:"mini",type:"text",icon:"el-icon-view"},on:{click:function(a){return e.handleView(t.row)}}},[e._v("详细")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:"调度日志详细",visible:e.open,width:"700px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px",size:"mini"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"日志序号："}},[e._v(e._s(e.form.jobLogId))]),e._v(" "),a("el-form-item",{attrs:{label:"任务名称："}},[e._v(e._s(e.form.jobName))])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"任务分组："}},[e._v(e._s(e.form.jobGroup))]),e._v(" "),a("el-form-item",{attrs:{label:"执行时间："}},[e._v(e._s(e.form.createTime))])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"调用方法："}},[e._v(e._s(e.form.invokeTarget))])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"日志信息："}},[e._v(e._s(e.form.jobMessage))])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"执行状态："}},[0==e.form.status?a("div",[e._v("正常")]):1==e.form.status?a("div",[e._v("失败")]):e._e()])],1),e._v(" "),a("el-col",{attrs:{span:24}},[1==e.form.status?a("el-form-item",{attrs:{label:"异常信息："}},[e._v(e._s(e.form.exceptionInfo))]):e._e()],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.open=!1}}},[e._v("关 闭")])],1)],1)],1)},r=[],n=a("ade3"),o=a("65f2"),l={name:"JobLog",data:function(){return Object(n["a"])({loading:!0,ids:[],multiple:!0,total:0,jobLogList:[],open:!1,dateRange:[],form:{},statusOptions:[],jobGroupOptions:[],queryParams:{pageNum:1,pageSize:10,jobName:void 0,jobGroup:void 0,status:void 0}},"form",{})},created:function(){var e=this;this.getList(),this.getDicts("sys_job_status").then((function(t){e.statusOptions=t.data})),this.getDicts("sys_job_group").then((function(t){e.jobGroupOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,Object(o["d"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.jobLogList=t.rows,e.total=t.total,e.loading=!1}))},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},jobGroupFormat:function(e,t){return this.selectDictLabel(this.jobGroupOptions,e.jobGroup)},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.jobLogId})),this.multiple=!e.length},handleView:function(e){this.open=!0,this.form=e},handleDelete:function(e){var t=this,a=this.ids;this.$confirm('是否确认删除调度日志编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["b"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleClean:function(){var e=this;this.$confirm("是否确认清空所有调度日志数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["a"])()})).then((function(){e.getList(),e.msgSuccess("清空成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有调度日志数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["c"])(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},s=l,c=a("2877"),u=Object(c["a"])(s,i,r,!1,null,null,null);t["default"]=u.exports},"0191":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"能源类型",prop:"energy"}},[a("el-select",{attrs:{placeholder:"请选择能源类型",clearable:"",size:"small"},model:{value:e.queryParams.energy,callback:function(t){e.$set(e.queryParams,"energy",t)},expression:"queryParams.energy"}},e._l(e.energyOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"测点名称",prop:"point"}},[a("el-input",{attrs:{placeholder:"请输入测点名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.point,callback:function(t){e.$set(e.queryParams,"point",t)},expression:"queryParams.point"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:RealtimeMain:add"],expression:"['sirui:RealtimeMain:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:RealtimeMain:edit"],expression:"['sirui:RealtimeMain:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.RealtimeMainList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"能源类型",align:"center",prop:"energy"}}),e._v(" "),a("el-table-column",{attrs:{label:"测点名称",align:"center","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{staticClass:"link-type",attrs:{to:"/RealtimeMain/type/data/"+t.row.id}},[a("span",[e._v(e._s(t.row.point))])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:RealtimeMain:edit"],expression:"['sirui:RealtimeMain:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:RealtimeMain:remove"],expression:"['sirui:RealtimeMain:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"能源类型"}},[a("el-select",{attrs:{placeholder:"请选择能源类型"},model:{value:e.form.energy,callback:function(t){e.$set(e.form,"energy",t)},expression:"form.energy"}},e._l(e.energyOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"测点名称",prop:"point"}},[a("el-input",{attrs:{placeholder:"请输入测点名称"},model:{value:e.form.point,callback:function(t){e.$set(e.form,"point",t)},expression:"form.point"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=a("550d"),o={name:"RealtimeMain",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,RealtimeMainList:[],title:"",open:!1,energyOptions:[],queryParams:{pageNum:1,pageSize:10,lpname:void 0,energy:void 0,point:void 0},form:{},rules:{}}},created:function(){var e=this;this.getList(),this.getDicts("sirui_energy_variety").then((function(t){e.energyOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,Object(n["e"])(this.queryParams).then((function(t){e.RealtimeMainList=t.rows,e.total=t.total,e.loading=!1}))},energyFormat:function(e,t){return this.selectDictLabel(this.energyOptions,e.energy)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,lpname:void 0,energy:void 0,point:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加实时数据配置主"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;Object(n["d"])(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改实时数据配置主"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?Object(n["f"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):Object(n["a"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除实时数据配置主编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["b"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有实时数据配置主数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["c"])(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},l=o,s=a("2877"),c=Object(s["a"])(l,i,r,!1,null,null,null);t["default"]=c.exports},"02f2":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"系统模块",prop:"title"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入系统模块",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.title,callback:function(t){e.$set(e.queryParams,"title",t)},expression:"queryParams.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"操作人员",prop:"operName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入操作人员",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.operName,callback:function(t){e.$set(e.queryParams,"operName",t)},expression:"queryParams.operName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"类型",prop:"businessType"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"操作类型",clearable:"",size:"small"},model:{value:e.queryParams.businessType,callback:function(t){e.$set(e.queryParams,"businessType",t)},expression:"queryParams.businessType"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"操作状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"操作时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:operlog:remove"],expression:"['monitor:operlog:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:operlog:remove"],expression:"['monitor:operlog:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:e.handleClean}},[e._v("清空")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:config:export"],expression:"['system:config:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.list},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"日志编号",align:"center",prop:"operId"}}),e._v(" "),a("el-table-column",{attrs:{label:"系统模块",align:"center",prop:"title"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作类型",align:"center",prop:"businessType",formatter:e.typeFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"请求方式",align:"center",prop:"requestMethod"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作人员",align:"center",prop:"operName"}}),e._v(" "),a("el-table-column",{attrs:{label:"主机",align:"center",prop:"operIp",width:"130","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"操作地点",align:"center",prop:"operLocation","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"操作状态",align:"center",prop:"status",formatter:e.statusFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"操作日期",align:"center",prop:"operTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.operTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:operlog:query"],expression:"['monitor:operlog:query']"}],attrs:{size:"mini",type:"text",icon:"el-icon-view"},on:{click:function(a){return e.handleView(t.row,t.index)}}},[e._v("详细")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:"操作日志详细",visible:e.open,width:"700px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px",size:"mini"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"操作模块："}},[e._v(e._s(e.form.title)+" / "+e._s(e.typeFormat(e.form)))]),e._v(" "),a("el-form-item",{attrs:{label:"登录信息："}},[e._v(e._s(e.form.operName)+" / "+e._s(e.form.operIp)+" / "+e._s(e.form.operLocation))])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"请求地址："}},[e._v(e._s(e.form.operUrl))]),e._v(" "),a("el-form-item",{attrs:{label:"请求方式："}},[e._v(e._s(e.form.requestMethod))])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"操作方法："}},[e._v(e._s(e.form.method))])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"请求参数："}},[e._v(e._s(e.form.operParam))])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"返回参数："}},[e._v(e._s(e.form.jsonResult))])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"操作状态："}},[0===e.form.status?a("div",[e._v("正常")]):1===e.form.status?a("div",[e._v("失败")]):e._e()])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"操作时间："}},[e._v(e._s(e.parseTime(e.form.operTime)))])],1),e._v(" "),a("el-col",{attrs:{span:24}},[1===e.form.status?a("el-form-item",{attrs:{label:"异常信息："}},[e._v(e._s(e.form.errorMsg))]):e._e()],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.open=!1}}},[e._v("关 闭")])],1)],1)],1)},r=[],n=a("b775");function o(e){return Object(n["a"])({url:"/monitor/operlog/list",method:"get",params:e})}function l(e){return Object(n["a"])({url:"/monitor/operlog/"+e,method:"delete"})}function s(){return Object(n["a"])({url:"/monitor/operlog/clean",method:"delete"})}function c(e){return Object(n["a"])({url:"/monitor/operlog/export",method:"get",params:e})}var u={name:"Operlog",data:function(){return{loading:!0,ids:[],multiple:!0,total:0,list:[],open:!1,typeOptions:[],statusOptions:[],dateRange:[],form:{},queryParams:{pageNum:1,pageSize:10,title:void 0,operName:void 0,businessType:void 0,status:void 0}}},created:function(){var e=this;this.getList(),this.getDicts("sys_oper_type").then((function(t){e.typeOptions=t.data})),this.getDicts("sys_common_status").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,o(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.list=t.rows,e.total=t.total,e.loading=!1}))},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},typeFormat:function(e,t){return this.selectDictLabel(this.typeOptions,e.businessType)},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.operId})),this.multiple=!e.length},handleView:function(e){this.open=!0,this.form=e},handleDelete:function(e){var t=this,a=e.operId||this.ids;this.$confirm('是否确认删除日志编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return l(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleClean:function(){var e=this;this.$confirm("是否确认清空所有操作日志数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return s()})).then((function(){e.getList(),e.msgSuccess("清空成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有操作日志数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return c(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},d=u,m=a("2877"),p=Object(m["a"])(d,i,r,!1,null,null,null);t["default"]=p.exports},"0304":function(e,t,a){},"0407":function(e,t,a){"use strict";a.d(t,"d",(function(){return r})),a.d(t,"a",(function(){return n})),a.d(t,"g",(function(){return o})),a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return s})),a.d(t,"f",(function(){return c}));var i=a("b775");function r(e){return Object(i["a"])({url:"/sirui/report/"+e,method:"get"})}function n(e){return console.log(e),Object(i["a"])({url:"/sirui/report/addList",method:"post",data:e})}function o(e){return Object(i["a"])({url:"/sirui/report",method:"put",data:e})}function l(e){return Object(i["a"])({url:"/sirui/report/"+e,method:"delete"})}function s(e){return Object(i["a"])({url:"/sirui/report/export",method:"get",params:e})}function c(e){return Object(i["a"])({url:"/sirui/report/cycleList",method:"post",data:e})}},"046a":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"字典名称",prop:"dictName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入字典名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.dictName,callback:function(t){e.$set(e.queryParams,"dictName",t)},expression:"queryParams.dictName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"字典类型",prop:"dictType"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入字典类型",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.dictType,callback:function(t){e.$set(e.queryParams,"dictType",t)},expression:"queryParams.dictType"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"字典状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:add"],expression:"['system:dict:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:edit"],expression:"['system:dict:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:remove"],expression:"['system:dict:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:export"],expression:"['system:dict:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:remove"],expression:"['system:dict:remove']"}],attrs:{type:"danger",icon:"el-icon-refresh",size:"mini"},on:{click:e.handleClearCache}},[e._v("清理缓存")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.typeList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"字典编号",align:"center",prop:"dictId"}}),e._v(" "),a("el-table-column",{attrs:{label:"字典名称",align:"center",prop:"dictName","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"字典类型",align:"center","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{staticClass:"link-type",attrs:{to:"/dict/type/data/"+t.row.dictId}},[a("span",[e._v(e._s(t.row.dictType))])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"status",formatter:e.statusFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:edit"],expression:"['system:dict:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:remove"],expression:"['system:dict:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"字典名称",prop:"dictName"}},[a("el-input",{attrs:{placeholder:"请输入字典名称"},model:{value:e.form.dictName,callback:function(t){e.$set(e.form,"dictName",t)},expression:"form.dictName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"字典类型",prop:"dictType"}},[a("el-input",{attrs:{placeholder:"请输入字典类型"},model:{value:e.form.dictType,callback:function(t){e.$set(e.form,"dictType",t)},expression:"form.dictType"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=a("ed45"),o={name:"Dict",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,typeList:[],title:"",open:!1,statusOptions:[],dateRange:[],queryParams:{pageNum:1,pageSize:10,dictName:void 0,dictType:void 0,status:void 0},form:{},rules:{dictName:[{required:!0,message:"字典名称不能为空",trigger:"blur"}],dictType:[{required:!0,message:"字典类型不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,Object(n["f"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.typeList=t.rows,e.total=t.total,e.loading=!1}))},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={dictId:void 0,dictName:void 0,dictType:void 0,status:"0",remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加字典类型"},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.dictId})),this.single=1!=e.length,this.multiple=!e.length},handleUpdate:function(e){var t=this;this.reset();var a=e.dictId||this.ids;Object(n["e"])(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改字典类型"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.dictId?Object(n["h"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):Object(n["a"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this,a=e.dictId||this.ids;this.$confirm('是否确认删除字典编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["c"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有类型数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["d"])(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))},handleClearCache:function(){var e=this;Object(n["b"])().then((function(t){200===t.code&&e.msgSuccess("清理成功")}))}}},l=o,s=a("2877"),c=Object(s["a"])(l,i,r,!1,null,null,null);t["default"]=c.exports},"04c8":function(e,t,a){"use strict";var i=a("af78"),r=a.n(i);r.a},"07b4":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"工序名称",prop:"process"}},[a("el-input",{attrs:{placeholder:"请输入工序名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.process,callback:function(t){e.$set(e.queryParams,"process",t)},expression:"queryParams.process"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"能源品种",prop:"energy"}},[a("el-select",{attrs:{placeholder:"请选择能源品种",clearable:"",filterable:"",size:"small"},model:{value:e.queryParams.energy,callback:function(t){e.$set(e.queryParams,"energy",t)},expression:"queryParams.energy"}},e._l(e.energyOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"统计时间",prop:"selectDate"}},[a("el-date-picker",{staticStyle:{width:"200px"},attrs:{clearable:"",size:"small",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择统计时间"},model:{value:e.queryParams.selectDate,callback:function(t){e.$set(e.queryParams,"selectDate",t)},expression:"queryParams.selectDate"}})],1),e._v(" "),a("el-form-item",[a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.companyOneTotalData5List,"row-key":"id","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{label:"工序名称",align:"center",prop:"process"}}),e._v(" "),a("el-table-column",{attrs:{label:"能源品种",align:"center",prop:"energy"}}),e._v(" "),a("el-table-column",{attrs:{label:"能源用途",align:"center",prop:"usee"}}),e._v(" "),a("el-table-column",{attrs:{label:"测点名称",align:"center",prop:"point"}}),e._v(" "),a("el-table-column",{attrs:{label:"数值",align:"center",prop:"startValue"}}),e._v(" "),a("el-table-column",{attrs:{label:"折标量",align:"center",prop:"endValue"}}),e._v(" "),a("el-table-column",{attrs:{label:"折标系数",align:"center",prop:"coefficient"}}),e._v(" "),a("el-table-column",{attrs:{label:"统计时间",align:"center",prop:"selectDate"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:companyOneTotalData5:edit"],expression:"['sirui:companyOneTotalData5:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:companyOneTotalData5:remove"],expression:"['sirui:companyOneTotalData5:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"父级菜单",prop:"parentId"}},[a("treeselect",{attrs:{options:e.companyOneTotalData5Options,normalizer:e.normalizer,placeholder:"请选择父级菜单"},model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"工序名称",prop:"process"}},[a("el-input",{attrs:{placeholder:"请输入工序名称"},model:{value:e.form.process,callback:function(t){e.$set(e.form,"process",t)},expression:"form.process"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"工序编号",prop:"processCode"}},[a("el-input",{attrs:{placeholder:"请输入工序编号"},model:{value:e.form.processCode,callback:function(t){e.$set(e.form,"processCode",t)},expression:"form.processCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"能源品种",prop:"energy"}},[a("el-input",{attrs:{placeholder:"请输入能源品种"},model:{value:e.form.energy,callback:function(t){e.$set(e.form,"energy",t)},expression:"form.energy"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"能源品种编号",prop:"energyCode"}},[a("el-input",{attrs:{placeholder:"请输入能源品种编号"},model:{value:e.form.energyCode,callback:function(t){e.$set(e.form,"energyCode",t)},expression:"form.energyCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"测点名称",prop:"point"}},[a("el-input",{attrs:{placeholder:"请输入测点名称"},model:{value:e.form.point,callback:function(t){e.$set(e.form,"point",t)},expression:"form.point"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"测点位号",prop:"pointCode"}},[a("el-input",{attrs:{placeholder:"请输入测点位号"},model:{value:e.form.pointCode,callback:function(t){e.$set(e.form,"pointCode",t)},expression:"form.pointCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"倍数",prop:"multiple"}},[a("el-input",{attrs:{placeholder:"请输入倍数"},model:{value:e.form.multiple,callback:function(t){e.$set(e.form,"multiple",t)},expression:"form.multiple"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"单位换算系数",prop:"xs"}},[a("el-input",{attrs:{placeholder:"请输入单位换算系数"},model:{value:e.form.xs,callback:function(t){e.$set(e.form,"xs",t)},expression:"form.xs"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=(a("6b54"),a("f576"),a("a6d1")),o=a("ca17"),l=a.n(o),s=(a("542c"),{name:"CompanyOneTotalData5",components:{Treeselect:l.a},data:function(){return{loading:!0,companyOneTotalData5List:[],companyOneTotalData5Options:[],energyOptions:[],title:"",open:!1,queryParams:{process:void 0,device:void 0,statDate:void 0,selectDate:void 0,energy:void 0,type:"2",statType:"2"},form:{},rules:{}}},created:function(){var e=this;this.getList(),this.getBeforeDate(),this.getDicts("sirui_energy_variety").then((function(t){e.energyOptions=t.data}))},updated:function(){this.expandAll()},methods:{expandAll:function(){for(var e=document.getElementsByClassName("el-table__expand-icon--expanded"),t=0;t<e.length;t++)e[t].click()},getBeforeDate:function(){var e=new Date;e.setTime(e.getTime()-864e5);var t=e.getFullYear(),a=e.getMonth(),i=e.getDate();a+=1,a=a.toString().padStart(2,"0"),i=i.toString().padStart(2,"0");var r="".concat(t,"-").concat(a,"-").concat(i);this.$set(this.queryParams,"selectDate",r)},energyFormat:function(e,t){return this.selectDictLabel(this.energyOptions,e.energy)},getList:function(){var e=this;this.loading=!0,Object(n["f"])(this.queryParams).then((function(t){e.companyOneTotalData5List=e.handleTree(t.data,"id","parentId"),e.loading=!1}))},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.id,label:e.process,children:e.children}},getTreeselect:function(){var e=this;Object(n["f"])().then((function(t){e.companyOneTotalData5Options=[];var a={id:0,process:"顶级节点",children:[]};a.children=e.handleTree(t.data,"id","parentId"),e.companyOneTotalData5Options.push(a)}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,parentId:void 0,process:void 0,processCode:void 0,type:"2",device:void 0,deviceCode:void 0,energy:void 0,energyCode:void 0,point:void 0,pointCode:void 0,multiple:void 0,xs:void 0,company:void 0,usee:void 0,createTime:void 0,updateTime:void 0,dId:void 0,number:void 0,startValue:void 0,endValue:void 0,inputType:void 0,statType:"2",scope:void 0,statDate:void 0},this.resetForm("form")},handleQuery:function(){this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.getTreeselect(),this.open=!0,this.title="添加二级数据测点配置"},handleUpdate:function(e){var t=this;this.reset(),this.getTreeselect(),void 0!=e&&(this.form.parentId=e.id),Object(n["c"])(e.id).then((function(e){t.form=e.data,t.open=!0,t.title="修改二级数据测点配置"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?Object(n["h"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):Object(n["a"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this;this.$confirm('是否确认删除二级数据测点配置编号为"'+e.id+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["b"])(e.id)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}}),c=s,u=(a("cef9"),a("2877")),d=Object(u["a"])(c,i,r,!1,null,null,null);t["default"]=d.exports},"0a5c":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},r=[],n=a("313e"),o=a.n(n),l=a("feb2");a("817d");var s=3e3,c={mixins:[l["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=o.a.init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},radar:{radius:"66%",center:["50%","42%"],splitNumber:8,splitArea:{areaStyle:{color:"rgba(127,95,132,.3)",opacity:1,shadowBlur:45,shadowColor:"rgba(0,0,0,.5)",shadowOffsetX:0,shadowOffsetY:15}},indicator:[{name:"Sales",max:1e4},{name:"Administration",max:2e4},{name:"Information Techology",max:2e4},{name:"Customer Support",max:2e4},{name:"Development",max:2e4},{name:"Marketing",max:2e4}]},legend:{left:"center",bottom:"10",data:["Allocated Budget","Expected Spending","Actual Spending"]},series:[{type:"radar",symbolSize:0,areaStyle:{normal:{shadowBlur:13,shadowColor:"rgba(0,0,0,.2)",shadowOffsetX:0,shadowOffsetY:10,opacity:1}},data:[{value:[5e3,7e3,12e3,11e3,15e3,14e3],name:"Allocated Budget"},{value:[4e3,9e3,15e3,15e3,13e3,11e3],name:"Expected Spending"},{value:[5500,11e3,12e3,15e3,12e3,12e3],name:"Actual Spending"}],animationDuration:s}]})}}},u=c,d=a("2877"),m=Object(d["a"])(u,i,r,!1,null,null,null);t["default"]=m.exports},"0c87":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"编码",prop:"code"}},[a("el-input",{attrs:{placeholder:"请输入编码",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.code,callback:function(t){e.$set(e.queryParams,"code",t)},expression:"queryParams.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.name,callback:function(t){e.$set(e.queryParams,"name",t)},expression:"queryParams.name"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}}),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.usageList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{label:"编码",align:"center",prop:"code"}}),e._v(" "),a("el-table-column",{attrs:{label:"名称",align:"center",prop:"name"}})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"编码",prop:"code"}},[a("el-input",{attrs:{placeholder:"请输入编码"},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=a("b775");function o(e){return Object(n["a"])({url:"/sirui/usage/list",method:"get",params:e})}function l(e){return Object(n["a"])({url:"/sirui/usage/"+e,method:"get"})}function s(e){return Object(n["a"])({url:"/sirui/usage",method:"post",data:e})}function c(e){return Object(n["a"])({url:"/sirui/usage",method:"put",data:e})}function u(e){return Object(n["a"])({url:"/sirui/usage/"+e,method:"delete"})}function d(e){return Object(n["a"])({url:"/sirui/usage/export",method:"get",params:e})}var m={name:"Usage",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,usageList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,code:void 0,name:void 0},form:{},rules:{}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,o(this.queryParams).then((function(t){e.usageList=t.rows,e.total=t.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,code:void 0,name:void 0,createBy:void 0,createTime:void 0,updateBy:void 0,updateTime:void 0,remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加采集数据项数据用途"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;l(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改采集数据项数据用途"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?c(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):s(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除采集数据项数据用途编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有采集数据项数据用途数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return d(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},p=m,f=a("2877"),v=Object(f["a"])(p,i,r,!1,null,null,null);t["default"]=v.exports},"0f20":function(e,t,a){"use strict";var i=a("7952"),r=a.n(i);r.a},"0ffd":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},r=[],n=a("313e"),o=a.n(n),l=a("bab2");a("817d");var s={mixins:[l["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"350px"},autoResize:{type:Boolean,default:!0},chartData:{type:Object,required:!0}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(e){this.setOptionsss(e)}}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=o.a.init(this.$el,"macarons"),this.setOptionsss(this.chartData)},setOptionsss:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.expectedData,a=e.datasss;this.chart.setOption({xAxis:{data:JSON.parse(a),boundaryGap:!1,axisTick:{show:!1}},grid:{left:10,right:10,bottom:20,top:30,containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross"},padding:[5,10]},yAxis:{name:"万元",axisTick:{show:!1}},legend:{data:["工业增加值"]},series:[{name:"工业增加值",itemStyle:{normal:{color:"#FF005A",lineStyle:{color:"#FF005A",width:2}}},smooth:!0,type:"line",data:t,animationDuration:2800,animationEasing:"cubicInOut"}]})}}},c=s,u=a("2877"),d=Object(u["a"])(c,i,r,!1,null,null,null);t["default"]=d.exports},"10fc":function(e,t,a){"use strict";var i=a("6b4a"),r=a.n(i);r.a},"116c":function(e,t,a){},"11af":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"创建时间",prop:"createTime"}},[a("el-date-picker",{staticStyle:{width:"200px"},attrs:{clearable:"",size:"small",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择创建时间"},model:{value:e.queryParams.createTime,callback:function(t){e.$set(e.queryParams,"createTime",t)},expression:"queryParams.createTime"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:eMachine:add"],expression:"['sirui:eMachine:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:eMachine:edit"],expression:"['sirui:eMachine:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:eMachine:remove"],expression:"['sirui:eMachine:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:eMachine:export"],expression:"['sirui:eMachine:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.eMachineList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"ID",align:"center",prop:"meeiId"}}),e._v(" "),a("el-table-column",{attrs:{label:"供电标准煤耗率",align:"center",prop:"gdbzmhl"}}),e._v(" "),a("el-table-column",{attrs:{label:"发电标准煤耗率",align:"center",prop:"fdbzmhl"}}),e._v(" "),a("el-table-column",{attrs:{label:"供热标准煤耗率",align:"center",prop:"grbzmhl"}}),e._v(" "),a("el-table-column",{attrs:{label:"综合热效率",align:"center",prop:"zhrxy"}}),e._v(" "),a("el-table-column",{attrs:{label:"热电比 ",align:"center",prop:"rzb"}}),e._v(" "),a("el-table-column",{attrs:{label:"锅炉热效率",align:"center",prop:"glrxl"}}),e._v(" "),a("el-table-column",{attrs:{label:"供热机组发电热耗率 ",align:"center",prop:"grjzfdrhl"}}),e._v(" "),a("el-table-column",{attrs:{label:"汽轮机热耗率",align:"center",prop:"qljrhl"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime,"{y}-{m}-{d}")))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:eMachine:edit"],expression:"['sirui:eMachine:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:eMachine:remove"],expression:"['sirui:eMachine:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"供电标准煤耗率",prop:"gdbzmhl"}},[a("el-input",{attrs:{placeholder:"请输入供电标准煤耗率"},model:{value:e.form.gdbzmhl,callback:function(t){e.$set(e.form,"gdbzmhl",t)},expression:"form.gdbzmhl"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"发电标准煤耗率",prop:"fdbzmhl"}},[a("el-input",{attrs:{placeholder:"请输入发电标准煤耗率"},model:{value:e.form.fdbzmhl,callback:function(t){e.$set(e.form,"fdbzmhl",t)},expression:"form.fdbzmhl"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"供热标准煤耗率",prop:"grbzmhl"}},[a("el-input",{attrs:{placeholder:"请输入供热标准煤耗率"},model:{value:e.form.grbzmhl,callback:function(t){e.$set(e.form,"grbzmhl",t)},expression:"form.grbzmhl"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"综合热效率",prop:"zhrxy"}},[a("el-input",{attrs:{placeholder:"请输入综合热效率"},model:{value:e.form.zhrxy,callback:function(t){e.$set(e.form,"zhrxy",t)},expression:"form.zhrxy"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"热电比 ",prop:"rzb"}},[a("el-input",{attrs:{placeholder:"请输入热电比 "},model:{value:e.form.rzb,callback:function(t){e.$set(e.form,"rzb",t)},expression:"form.rzb"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"锅炉热效率",prop:"glrxl"}},[a("el-input",{attrs:{placeholder:"请输入锅炉热效率"},model:{value:e.form.glrxl,callback:function(t){e.$set(e.form,"glrxl",t)},expression:"form.glrxl"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"供热机组发电热耗率 ",prop:"grjzfdrhl"}},[a("el-input",{attrs:{placeholder:"请输入供热机组发电热耗率 "},model:{value:e.form.grjzfdrhl,callback:function(t){e.$set(e.form,"grjzfdrhl",t)},expression:"form.grjzfdrhl"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"汽轮机热耗率",prop:"qljrhl"}},[a("el-input",{attrs:{placeholder:"请输入汽轮机热耗率"},model:{value:e.form.qljrhl,callback:function(t){e.$set(e.form,"qljrhl",t)},expression:"form.qljrhl"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=a("b775");function o(e){return Object(n["a"])({url:"/sirui/eMachine/list",method:"get",params:e})}function l(e){return Object(n["a"])({url:"/sirui/eMachine/"+e,method:"get"})}function s(e){return Object(n["a"])({url:"/sirui/eMachine",method:"post",data:e})}function c(e){return Object(n["a"])({url:"/sirui/eMachine",method:"put",data:e})}function u(e){return Object(n["a"])({url:"/sirui/eMachine/"+e,method:"delete"})}function d(e){return Object(n["a"])({url:"/sirui/eMachine/export",method:"get",params:e})}var m={name:"EMachine",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,eMachineList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,createTime:void 0},form:{},rules:{gdbzmhl:[{required:!0,message:"供电标准煤耗率不能为空",trigger:"blur"}],fdbzmhl:[{required:!0,message:"发电标准煤耗率不能为空",trigger:"blur"}],grbzmhl:[{required:!0,message:"供热标准煤耗率不能为空",trigger:"blur"}],zhrxy:[{required:!0,message:"综合热效率不能为空",trigger:"blur"}]}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,o(this.queryParams).then((function(t){e.eMachineList=t.rows,e.total=t.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={meeiId:void 0,gdbzmhl:void 0,fdbzmhl:void 0,grbzmhl:void 0,zhrxy:void 0,rzb:void 0,glrxl:void 0,grjzfdrhl:void 0,qljrhl:void 0,createBy:void 0,createTime:void 0,updateBy:void 0,updateTime:void 0,remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.meeiId})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加机组能效指标"},handleUpdate:function(e){var t=this;this.reset();var a=e.meeiId||this.ids;l(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改机组能效指标"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.meeiId?c(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):s(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this,a=e.meeiId||this.ids;this.$confirm('是否确认删除机组能效指标编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有机组能效指标数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return d(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},p=m,f=a("2877"),v=Object(f["a"])(p,i,r,!1,null,null,null);t["default"]=v.exports},1498:function(e,t,a){"use strict";var i=a("163b"),r=a.n(i);r.a},1598:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"数据范围",prop:"scope"}},[a("el-select",{attrs:{placeholder:"请选择数据范围",clearable:"",size:"small"},model:{value:e.queryParams.scope,callback:function(t){e.$set(e.queryParams,"scope",t)},expression:"queryParams.scope"}},e._l(e.scopeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"采集频率",prop:"isUpload"}},[a("el-select",{attrs:{placeholder:"请选择采集频率",clearable:"",size:"small"},on:{change:e.statTypeChange},model:{value:e.queryParams.statType,callback:function(t){e.$set(e.queryParams,"statType",t)},expression:"queryParams.statType"}},e._l(e.statTypeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"统计时间",prop:"statDate"}},["0"==e.queryParams.statType?a("el-date-picker",{staticStyle:{width:"200px"},attrs:{clearable:"",size:"small",type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择统计时间"},model:{value:e.queryParams.statDate,callback:function(t){e.$set(e.queryParams,"statDate",t)},expression:"queryParams.statDate"}}):e._e(),e._v(" "),"1"==e.queryParams.statType?a("el-date-picker",{staticStyle:{width:"200px"},attrs:{clearable:"",size:"small",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择统计时间"},model:{value:e.queryParams.statDate,callback:function(t){e.$set(e.queryParams,"statDate",t)},expression:"queryParams.statDate"}}):e._e(),e._v(" "),"2"==e.queryParams.statType?a("el-date-picker",{staticStyle:{width:"200px"},attrs:{clearable:"",size:"small",type:"month","value-format":"yyyy-MM",placeholder:"选择统计时间"},model:{value:e.queryParams.statDate,callback:function(t){e.$set(e.queryParams,"statDate",t)},expression:"queryParams.statDate"}}):e._e(),e._v(" "),"3"==e.queryParams.statType?a("el-date-picker",{staticStyle:{width:"200px"},attrs:{clearable:"",size:"small",type:"year","value-format":"yyyy",placeholder:"选择统计时间"},model:{value:e.queryParams.statDate,callback:function(t){e.$set(e.queryParams,"statDate",t)},expression:"queryParams.statDate"}}):e._e()],1),e._v(" "),a("el-form-item",{attrs:{label:"是否上传",prop:"isUpload"}},[a("el-select",{attrs:{placeholder:"请选择是否上传",clearable:"",size:"small"},model:{value:e.queryParams.isUpload,callback:function(t){e.$set(e.queryParams,"isUpload",t)},expression:"queryParams.isUpload"}},e._l(e.isUploadOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}}),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.dataList,"row-style":e.TableRowStyle},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{label:"数据标号",align:"center",prop:"dataCode"}}),e._v(" "),a("el-table-column",{attrs:{label:"数据项",align:"center",prop:"dataValue"}}),e._v(" "),a("el-table-column",{attrs:{label:"采集类型",align:"center",prop:"inputType",formatter:e.inputTypeFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"采集频率",align:"center",prop:"statType",formatter:e.statTypeFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"数据项",align:"center",prop:"statDate"}}),e._v(" "),a("el-table-column",{attrs:{label:"数据范围",align:"center",prop:"scope",formatter:e.scopeFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"数据有效性",align:"center",prop:"valid",formatter:e.validFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"是否上传",align:"center",prop:"isUpload",formatter:e.isUploadFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"上传状态",align:"center",prop:"uploadStatus",formatter:e.uploadStatusFormat}})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"数据标号",prop:"dataCode"}},[a("el-input",{attrs:{placeholder:"请输入数据标号"},model:{value:e.form.dataCode,callback:function(t){e.$set(e.form,"dataCode",t)},expression:"form.dataCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"数据项",prop:"dataValue"}},[a("el-input",{attrs:{placeholder:"请输入数据项"},model:{value:e.form.dataValue,callback:function(t){e.$set(e.form,"dataValue",t)},expression:"form.dataValue"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"采集类型"}},[a("el-select",{attrs:{placeholder:"请选择采集类型"},model:{value:e.form.inputType,callback:function(t){e.$set(e.form,"inputType",t)},expression:"form.inputType"}},e._l(e.inputTypeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"采集频率"}},[a("el-select",{attrs:{placeholder:"请选择采集频率"},model:{value:e.form.statType,callback:function(t){e.$set(e.form,"statType",t)},expression:"form.statType"}},e._l(e.statTypeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"统计周期起始时间",prop:"statDate"}},[a("el-date-picker",{staticStyle:{width:"200px"},attrs:{clearable:"",size:"small",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择统计周期起始时间"},model:{value:e.form.statDate,callback:function(t){e.$set(e.form,"statDate",t)},expression:"form.statDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"数据范围"}},[a("el-select",{attrs:{placeholder:"请选择数据范围"},model:{value:e.form.scope,callback:function(t){e.$set(e.form,"scope",t)},expression:"form.scope"}},e._l(e.scopeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"数据有效性",prop:"valid"}},[a("el-input",{attrs:{placeholder:"请输入数据有效性"},model:{value:e.form.valid,callback:function(t){e.$set(e.form,"valid",t)},expression:"form.valid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否上传"}},[a("el-select",{attrs:{placeholder:"请选择是否上传"},model:{value:e.form.isUpload,callback:function(t){e.$set(e.form,"isUpload",t)},expression:"form.isUpload"}},e._l(e.isUploadOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"上传状态"}},[a("el-select",{attrs:{placeholder:"请选择上传状态"},model:{value:e.form.uploadStatus,callback:function(t){e.$set(e.form,"uploadStatus",t)},expression:"form.uploadStatus"}},e._l(e.uploadStatusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=a("75c8"),o={name:"Data",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,dataList:[],title:"",open:!1,inputTypeOptions:[],statTypeOptions:[],scopeOptions:[],validOptions:[],isUploadOptions:[],uploadStatusOptions:[],queryParams:{pageNum:1,pageSize:10,scope:void 0,statType:void 0,isUpload:void 0,uploadStatus:void 0},form:{},rules:{id:[{required:!0,message:"ID不能为空",trigger:"blur"}],dataCode:[{required:!0,message:"数据标号不能为空",trigger:"blur"}],dataValue:[{required:!0,message:"数据项不能为空",trigger:"blur"}],inputType:[{required:!0,message:"采集类型不能为空",trigger:"blur"}],statType:[{required:!0,message:"采集频率不能为空",trigger:"blur"}],statDate:[{required:!0,message:"统计周期起始时间不能为空",trigger:"blur"}],scope:[{required:!0,message:"数据范围不能为空",trigger:"blur"}],valid:[{required:!0,message:"数据有效性不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sr_sjsc_inputType").then((function(t){e.inputTypeOptions=t.data})),this.getDicts("sr_sjsc_statType").then((function(t){e.statTypeOptions=t.data})),this.getDicts("sr_sjsc_scope").then((function(t){e.scopeOptions=t.data})),this.getDicts("sr_sjsc_isUpload").then((function(t){e.isUploadOptions=t.data})),this.getDicts("sr_sjsc_uploadStatus").then((function(t){e.uploadStatusOptions=t.data})),this.getDicts("sirui_valid").then((function(t){e.validOptions=t.data}))},methods:{statTypeChange:function(){this.form.statDate=""},TableRowStyle:function(e){var t={};if(e.row.dataValue<=0)return t.color="red",t},getList:function(){var e=this;this.loading=!0,Object(n["f"])(this.queryParams).then((function(t){e.dataList=t.rows,e.total=t.total,e.loading=!1}))},inputTypeFormat:function(e,t){return this.selectDictLabel(this.inputTypeOptions,e.inputType)},statTypeFormat:function(e,t){return this.selectDictLabel(this.statTypeOptions,e.statType)},scopeFormat:function(e,t){return this.selectDictLabel(this.scopeOptions,e.scope)},validFormat:function(e,t){return this.selectDictLabel(this.validOptions,e.valid)},isUploadFormat:function(e,t){return this.selectDictLabel(this.isUploadOptions,e.isUpload)},uploadStatusFormat:function(e,t){return this.selectDictLabel(this.uploadStatusOptions,e.uploadStatus)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,dataCode:void 0,dataValue:void 0,inputType:void 0,statType:void 0,statDate:void 0,scope:void 0,valid:void 0,isUpload:void 0,uploadStatus:void 0,createBy:void 0,createTime:void 0,updateBy:void 0,updateTime:void 0,remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加上传数据"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;Object(n["e"])(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改上传数据"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?Object(n["h"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):Object(n["a"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除上传数据编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["c"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有上传数据数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["d"])(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},l=o,s=a("2877"),c=Object(s["a"])(l,i,r,!1,null,null,null);t["default"]=c.exports},"163b":function(e,t,a){},"186b":function(e,t,a){},"1a2c":function(e,t,a){"use strict";var i=a("77e1"),r=a.n(i);r.a},"1a35":function(e,t,a){"use strict";a.d(t,"f",(function(){return r})),a.d(t,"e",(function(){return n})),a.d(t,"g",(function(){return o})),a.d(t,"h",(function(){return l})),a.d(t,"c",(function(){return s})),a.d(t,"d",(function(){return c})),a.d(t,"a",(function(){return u})),a.d(t,"i",(function(){return d})),a.d(t,"b",(function(){return m})),a.d(t,"j",(function(){return p}));var i=a("b775");function r(e){return Object(i["a"])({url:"/sirui/companyOneTotalData3/config",method:"get",params:e})}function n(e){return Object(i["a"])({url:"/sirui/companyOneTotalData3/isInterface",method:"get",params:e})}function o(e){return Object(i["a"])({url:"/sirui/companyOneTotalData3/list",method:"get",params:e})}function l(e){return Object(i["a"])({url:"/sirui/companyOneTotalData3/list",method:"get",params:e})}function s(e){return Object(i["a"])({url:"/sirui/companyOneTotalData3/"+e,method:"get"})}function c(e){return Object(i["a"])({url:"/sirui/companyOneTotalData3/getInfo/"+e,method:"get"})}function u(e){return Object(i["a"])({url:"/sirui/companyOneTotalData3",method:"post",data:e})}function d(e){return Object(i["a"])({url:"/sirui/companyOneTotalData3",method:"put",data:e})}function m(e){return Object(i["a"])({url:"/sirui/companyOneTotalData3/"+e,method:"delete"})}function p(e){return Object(i["a"])({url:"/sirui/companyOneTotalData3/updateIsOk/"+e,method:"get"})}},"1a40":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},r=[],n=a("313e"),o=a.n(n),l=a("bab2");a("817d");var s={mixins:[l["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"350px"},autoResize:{type:Boolean,default:!0},chartData:{type:Object,required:!0}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(e){this.setOptionssss(e)}}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=o.a.init(this.$el,"macarons"),this.setOptionssss(this.chartData)},setOptionssss:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.expectedData,a=e.datasss;this.chart.setOption({xAxis:{data:JSON.parse(a),boundaryGap:!1,axisTick:{show:!1}},grid:{left:10,right:10,bottom:20,top:30,containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross"},padding:[5,10]},yAxis:{name:"万元",axisTick:{show:!1}},legend:{data:["工业总产值"]},series:[{name:"工业总产值",itemStyle:{normal:{color:"#FF005A",lineStyle:{color:"#FF005A",width:2}}},smooth:!0,type:"line",data:t,animationDuration:2800,animationEasing:"cubicInOut"}]})}}},c=s,u=a("2877"),d=Object(u["a"])(c,i,r,!1,null,null,null);t["default"]=d.exports},"1acf":function(e,t,a){"use strict";var i=a("3bc9"),r=a.n(i);r.a},"1ae6":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},r=[],n=a("313e"),o=a.n(n),l=a("8e41"),s=a("bc3a"),c=a.n(s);a("817d");var u={mixins:[l["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"350px"}},data:function(){return{chart:null,tuBiaoData2:""}},mounted:function(){},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},created:function(){var e=this;this.getTuBiao(c.a.get("/prod-api/xxrd/nyjkSeriesGlfph",{params:{}}).then((function(t){e.tuBiaoData2=t.data.data.glfphSeries,e.$nextTick((function(){e.initChart()}))})).catch((function(e){console.log("获取数据失败")})))},methods:{initChart:function(){this.chart=o.a.init(this.$el,"macarons"),this.chart.setOption({xAxis:{type:"time",splitLine:{show:!1}},grid:{left:10,right:10,bottom:20,top:30,containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross"},padding:[5,10]},yAxis:{axisTick:{show:!1}},legend:{data:[this.tuBiaoData2[0].seriesName,this.tuBiaoData2[1].seriesName,this.tuBiaoData2[2].seriesName,this.tuBiaoData2[3].seriesName]},series:[{name:this.tuBiaoData2[0].seriesName,itemStyle:{normal:{color:"#FF005A",lineStyle:{color:"#FF005A",width:2}}},smooth:!0,type:"line",data:this.tuBiaoData2[0].seriesDataEchart,animationDuration:2800,animationEasing:"cubicInOut"},{name:this.tuBiaoData2[1].seriesName,smooth:!0,type:"line",itemStyle:{normal:{color:"#3888fa",lineStyle:{color:"#3888fa",width:2},areaStyle:{color:"#f3f8ff"}}},data:this.tuBiaoData2[1].seriesDataEchart,animationDuration:2800,animationEasing:"quadraticOut"},{name:this.tuBiaoData2[2].seriesName,smooth:!0,type:"line",itemStyle:{normal:{color:"#dd960f",lineStyle:{color:"#dd960f",width:2},areaStyle:{color:"#f3f8ff"}}},data:this.tuBiaoData2[2].seriesDataEchart,animationDuration:2800,animationEasing:"quadraticOut"},{name:this.tuBiaoData2[3].seriesName,smooth:!0,type:"line",itemStyle:{normal:{color:"#8b0037",lineStyle:{color:"#8b0037",width:2},areaStyle:{color:"#f3f8ff"}}},data:this.tuBiaoData2[3].seriesDataEchart,animationDuration:2800,animationEasing:"quadraticOut"}]})}}},d=u,m=a("2877"),p=Object(m["a"])(d,i,r,!1,null,null,null);t["default"]=p.exports},"1d88":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"工序名称",prop:"process"}},[a("el-input",{attrs:{placeholder:"请输入工序名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.process,callback:function(t){e.$set(e.queryParams,"process",t)},expression:"queryParams.process"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"能源品种",prop:"energy"}},[a("el-select",{attrs:{placeholder:"请选择能源品种",clearable:"",filterable:"",size:"small"},model:{value:e.queryParams.energy,callback:function(t){e.$set(e.queryParams,"energy",t)},expression:"queryParams.energy"}},e._l(e.energyOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"统计时间",prop:"selectDate"}},[a("el-date-picker",{staticStyle:{width:"200px"},attrs:{clearable:"",size:"small",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择统计时间"},model:{value:e.queryParams.selectDate,callback:function(t){e.$set(e.queryParams,"selectDate",t)},expression:"queryParams.selectDate"}})],1),e._v(" "),a("el-form-item",[a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.companyOneTotalData5List,"row-key":"id","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{label:"工序名称",align:"center",prop:"process"}}),e._v(" "),a("el-table-column",{attrs:{label:"能源品种",align:"center",prop:"energy"}}),e._v(" "),a("el-table-column",{attrs:{label:"能源用途",align:"center",prop:"usee"}}),e._v(" "),a("el-table-column",{attrs:{label:"测点名称",align:"center",prop:"point"}}),e._v(" "),a("el-table-column",{attrs:{label:"数值",align:"center",prop:"startValue"}}),e._v(" "),a("el-table-column",{attrs:{label:"折标量",align:"center",prop:"endValue"}}),e._v(" "),a("el-table-column",{attrs:{label:"折标系数",align:"center",prop:"coefficient"}}),e._v(" "),a("el-table-column",{attrs:{label:"统计时间",align:"center",prop:"selectDate"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:companyOneTotalData5:edit"],expression:"['sirui:companyOneTotalData5:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:companyOneTotalData5:remove"],expression:"['sirui:companyOneTotalData5:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"父级菜单",prop:"parentId"}},[a("treeselect",{attrs:{options:e.companyOneTotalData5Options,normalizer:e.normalizer,placeholder:"请选择父级菜单"},model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"工序名称",prop:"process"}},[a("el-input",{attrs:{placeholder:"请输入工序名称"},model:{value:e.form.process,callback:function(t){e.$set(e.form,"process",t)},expression:"form.process"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"工序编号",prop:"processCode"}},[a("el-input",{attrs:{placeholder:"请输入工序编号"},model:{value:e.form.processCode,callback:function(t){e.$set(e.form,"processCode",t)},expression:"form.processCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"能源品种",prop:"energy"}},[a("el-input",{attrs:{placeholder:"请输入能源品种"},model:{value:e.form.energy,callback:function(t){e.$set(e.form,"energy",t)},expression:"form.energy"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"能源品种编号",prop:"energyCode"}},[a("el-input",{attrs:{placeholder:"请输入能源品种编号"},model:{value:e.form.energyCode,callback:function(t){e.$set(e.form,"energyCode",t)},expression:"form.energyCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"测点名称",prop:"point"}},[a("el-input",{attrs:{placeholder:"请输入测点名称"},model:{value:e.form.point,callback:function(t){e.$set(e.form,"point",t)},expression:"form.point"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"测点位号",prop:"pointCode"}},[a("el-input",{attrs:{placeholder:"请输入测点位号"},model:{value:e.form.pointCode,callback:function(t){e.$set(e.form,"pointCode",t)},expression:"form.pointCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"倍数",prop:"multiple"}},[a("el-input",{attrs:{placeholder:"请输入倍数"},model:{value:e.form.multiple,callback:function(t){e.$set(e.form,"multiple",t)},expression:"form.multiple"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"单位换算系数",prop:"xs"}},[a("el-input",{attrs:{placeholder:"请输入单位换算系数"},model:{value:e.form.xs,callback:function(t){e.$set(e.form,"xs",t)},expression:"form.xs"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=(a("6b54"),a("f576"),a("a6d1")),o=a("ca17"),l=a.n(o),s=(a("542c"),{name:"CompanyOneTotalData5",components:{Treeselect:l.a},data:function(){return{loading:!0,companyOneTotalData5List:[],companyOneTotalData5Options:[],energyOptions:[],title:"",open:!1,queryParams:{process:void 0,device:void 0,statDate:void 0,selectDate:void 0,energy:void 0,type:"2",statType:"1"},form:{},rules:{}}},created:function(){var e=this;this.getList(),this.getBeforeDate(),this.getDicts("sirui_energy_variety").then((function(t){e.energyOptions=t.data}))},updated:function(){this.expandAll()},methods:{expandAll:function(){for(var e=document.getElementsByClassName("el-table__expand-icon--expanded"),t=0;t<e.length;t++)e[t].click()},getBeforeDate:function(){var e=new Date;e.setTime(e.getTime()-864e5);var t=e.getFullYear(),a=e.getMonth(),i=e.getDate();a+=1,a=a.toString().padStart(2,"0"),i=i.toString().padStart(2,"0");var r="".concat(t,"-").concat(a,"-").concat(i);this.$set(this.queryParams,"selectDate",r)},energyFormat:function(e,t){return this.selectDictLabel(this.energyOptions,e.energy)},getList:function(){var e=this;this.loading=!0,Object(n["f"])(this.queryParams).then((function(t){e.companyOneTotalData5List=e.handleTree(t.data,"id","parentId"),e.loading=!1}))},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.id,label:e.process,children:e.children}},getTreeselect:function(){var e=this;Object(n["f"])().then((function(t){e.companyOneTotalData5Options=[];var a={id:0,process:"顶级节点",children:[]};a.children=e.handleTree(t.data,"id","parentId"),e.companyOneTotalData5Options.push(a)}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,parentId:void 0,process:void 0,processCode:void 0,type:"2",device:void 0,deviceCode:void 0,energy:void 0,energyCode:void 0,point:void 0,pointCode:void 0,multiple:void 0,xs:void 0,company:void 0,usee:void 0,createTime:void 0,updateTime:void 0,dId:void 0,number:void 0,startValue:void 0,endValue:void 0,inputType:void 0,statType:"1",scope:void 0,statDate:void 0},this.resetForm("form")},handleQuery:function(){this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.getTreeselect(),this.open=!0,this.title="添加二级数据测点配置"},handleUpdate:function(e){var t=this;this.reset(),this.getTreeselect(),void 0!=e&&(this.form.parentId=e.id),Object(n["c"])(e.id).then((function(e){t.form=e.data,t.open=!0,t.title="修改二级数据测点配置"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?Object(n["h"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):Object(n["a"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this;this.$confirm('是否确认删除二级数据测点配置编号为"'+e.id+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["b"])(e.id)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}}),c=s,u=(a("2c37"),a("2877")),d=Object(u["a"])(c,i,r,!1,null,null,null);t["default"]=d.exports},"1de6":function(e,t,a){},"1e4b":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"数据范围",prop:"scope"}},[a("el-select",{attrs:{placeholder:"请选择数据范围",clearable:"",size:"small"},model:{value:e.queryParams.scope,callback:function(t){e.$set(e.queryParams,"scope",t)},expression:"queryParams.scope"}},e._l(e.scopeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"采集频率",prop:"isUpload"}},[a("el-select",{attrs:{placeholder:"请选择采集频率",clearable:"",size:"small"},on:{change:e.statTypeChange},model:{value:e.queryParams.statType,callback:function(t){e.$set(e.queryParams,"statType",t)},expression:"queryParams.statType"}},e._l(e.statTypeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"统计时间",prop:"statDate"}},["0"==e.queryParams.statType?a("el-date-picker",{staticStyle:{width:"200px"},attrs:{clearable:"",size:"small",type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择统计时间"},model:{value:e.queryParams.statDate,callback:function(t){e.$set(e.queryParams,"statDate",t)},expression:"queryParams.statDate"}}):e._e(),e._v(" "),"1"==e.queryParams.statType?a("el-date-picker",{staticStyle:{width:"200px"},attrs:{clearable:"",size:"small",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择统计时间"},model:{value:e.queryParams.statDate,callback:function(t){e.$set(e.queryParams,"statDate",t)},expression:"queryParams.statDate"}}):e._e(),e._v(" "),"2"==e.queryParams.statType?a("el-date-picker",{staticStyle:{width:"200px"},attrs:{clearable:"",size:"small",type:"month","value-format":"yyyy-MM",placeholder:"选择统计时间"},model:{value:e.queryParams.statDate,callback:function(t){e.$set(e.queryParams,"statDate",t)},expression:"queryParams.statDate"}}):e._e(),e._v(" "),"3"==e.queryParams.statType?a("el-date-picker",{staticStyle:{width:"200px"},attrs:{clearable:"",size:"small",type:"year","value-format":"yyyy",placeholder:"选择统计时间"},model:{value:e.queryParams.statDate,callback:function(t){e.$set(e.queryParams,"statDate",t)},expression:"queryParams.statDate"}}):e._e()],1),e._v(" "),a("el-form-item",{attrs:{label:"是否上传",prop:"isUpload"}},[a("el-select",{attrs:{placeholder:"请选择是否上传",clearable:"",size:"small"},model:{value:e.queryParams.isUpload,callback:function(t){e.$set(e.queryParams,"isUpload",t)},expression:"queryParams.isUpload"}},e._l(e.isUploadOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}}),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.dataList,"row-style":e.TableRowStyle},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{label:"数据标号",align:"center",prop:"dataCode"}}),e._v(" "),a("el-table-column",{attrs:{label:"数据项",align:"center",prop:"dataValue"}}),e._v(" "),a("el-table-column",{attrs:{label:"采集类型",align:"center",prop:"inputType",formatter:e.inputTypeFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"采集频率",align:"center",prop:"statType",formatter:e.statTypeFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"统计周期起始时间",align:"center",prop:"statDate"}}),e._v(" "),a("el-table-column",{attrs:{label:"数据范围",align:"center",prop:"scope",formatter:e.scopeFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"数据有效性",align:"center",prop:"valid",formatter:e.validFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"是否上传",align:"center",prop:"isUpload",formatter:e.isUploadFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"上传状态",align:"center",prop:"uploadStatus",formatter:e.uploadStatusFormat}})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"数据标号",prop:"dataCode"}},[a("el-input",{attrs:{placeholder:"请输入数据标号"},model:{value:e.form.dataCode,callback:function(t){e.$set(e.form,"dataCode",t)},expression:"form.dataCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"数据项",prop:"dataValue"}},[a("el-input",{attrs:{placeholder:"请输入数据项"},model:{value:e.form.dataValue,callback:function(t){e.$set(e.form,"dataValue",t)},expression:"form.dataValue"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"采集类型"}},[a("el-select",{attrs:{placeholder:"请选择采集类型"},model:{value:e.form.inputType,callback:function(t){e.$set(e.form,"inputType",t)},expression:"form.inputType"}},e._l(e.inputTypeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"采集频率"}},[a("el-select",{attrs:{placeholder:"请选择采集频率"},model:{value:e.form.statType,callback:function(t){e.$set(e.form,"statType",t)},expression:"form.statType"}},e._l(e.statTypeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"统计周期起始时间",prop:"statDate"}},[a("el-date-picker",{staticStyle:{width:"200px"},attrs:{clearable:"",size:"small",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择统计周期起始时间"},model:{value:e.form.statDate,callback:function(t){e.$set(e.form,"statDate",t)},expression:"form.statDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"数据范围"}},[a("el-select",{attrs:{placeholder:"请选择数据范围"},model:{value:e.form.scope,callback:function(t){e.$set(e.form,"scope",t)},expression:"form.scope"}},e._l(e.scopeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"数据有效性",prop:"valid"}},[a("el-input",{attrs:{placeholder:"请输入数据有效性"},model:{value:e.form.valid,callback:function(t){e.$set(e.form,"valid",t)},expression:"form.valid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否上传"}},[a("el-select",{attrs:{placeholder:"请选择是否上传"},model:{value:e.form.isUpload,callback:function(t){e.$set(e.form,"isUpload",t)},expression:"form.isUpload"}},e._l(e.isUploadOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"上传状态"}},[a("el-select",{attrs:{placeholder:"请选择上传状态"},model:{value:e.form.uploadStatus,callback:function(t){e.$set(e.form,"uploadStatus",t)},expression:"form.uploadStatus"}},e._l(e.uploadStatusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=a("75c8"),o={name:"Data",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,dataList:[],title:"",open:!1,inputTypeOptions:[],statTypeOptions:[],scopeOptions:[],validOptions:[],isUploadOptions:[],uploadStatusOptions:[],queryParams:{pageNum:1,pageSize:10,scope:void 0,statType:void 0,isUpload:void 0,uploadStatus:void 0},form:{},rules:{id:[{required:!0,message:"ID不能为空",trigger:"blur"}],dataCode:[{required:!0,message:"数据标号不能为空",trigger:"blur"}],dataValue:[{required:!0,message:"数据项不能为空",trigger:"blur"}],inputType:[{required:!0,message:"采集类型不能为空",trigger:"blur"}],statType:[{required:!0,message:"采集频率不能为空",trigger:"blur"}],statDate:[{required:!0,message:"统计周期起始时间不能为空",trigger:"blur"}],scope:[{required:!0,message:"数据范围不能为空",trigger:"blur"}],valid:[{required:!0,message:"数据有效性不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sr_sjsc_inputType").then((function(t){e.inputTypeOptions=t.data})),this.getDicts("sr_sjsc_statType").then((function(t){e.statTypeOptions=t.data})),this.getDicts("sr_sjsc_scope").then((function(t){e.scopeOptions=t.data})),this.getDicts("sr_sjsc_isUpload").then((function(t){e.isUploadOptions=t.data})),this.getDicts("sr_sjsc_uploadStatus").then((function(t){e.uploadStatusOptions=t.data})),this.getDicts("sirui_valid").then((function(t){e.validOptions=t.data}))},methods:{statTypeChange:function(){this.form.statDate=""},TableRowStyle:function(e){var t={};if(e.row.dataValue<=0)return t.color="red",t},getList:function(){var e=this;this.loading=!0,Object(n["f"])(this.queryParams).then((function(t){e.dataList=t.rows,e.total=t.total,e.loading=!1}))},inputTypeFormat:function(e,t){return this.selectDictLabel(this.inputTypeOptions,e.inputType)},statTypeFormat:function(e,t){return this.selectDictLabel(this.statTypeOptions,e.statType)},scopeFormat:function(e,t){return this.selectDictLabel(this.scopeOptions,e.scope)},validFormat:function(e,t){return this.selectDictLabel(this.validOptions,e.valid)},isUploadFormat:function(e,t){return this.selectDictLabel(this.isUploadOptions,e.isUpload)},uploadStatusFormat:function(e,t){return this.selectDictLabel(this.uploadStatusOptions,e.uploadStatus)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,dataCode:void 0,dataValue:void 0,inputType:void 0,statType:void 0,statDate:void 0,scope:void 0,valid:void 0,isUpload:void 0,uploadStatus:void 0,createBy:void 0,createTime:void 0,updateBy:void 0,updateTime:void 0,remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加上传数据"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;Object(n["e"])(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改上传数据"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?Object(n["h"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):Object(n["a"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除上传数据编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["c"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有上传数据数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["d"])(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},l=o,s=a("2877"),c=Object(s["a"])(l,i,r,!1,null,null,null);t["default"]=c.exports},"1e8b":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{model:e.user,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"用户昵称",prop:"nickName"}},[a("el-input",{model:{value:e.user.nickName,callback:function(t){e.$set(e.user,"nickName",t)},expression:"user.nickName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号码",prop:"phonenumber"}},[a("el-input",{attrs:{maxlength:"11"},model:{value:e.user.phonenumber,callback:function(t){e.$set(e.user,"phonenumber",t)},expression:"user.phonenumber"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{maxlength:"50"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别"}},[a("el-radio-group",{model:{value:e.user.sex,callback:function(t){e.$set(e.user,"sex",t)},expression:"user.sex"}},[a("el-radio",{attrs:{label:"0"}},[e._v("男")]),e._v(" "),a("el-radio",{attrs:{label:"1"}},[e._v("女")])],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.submit}},[e._v("保存")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.close}},[e._v("关闭")])],1)],1)},r=[],n=a("c0c7"),o={props:{user:{type:Object}},data:function(){return{rules:{nickName:[{required:!0,message:"用户昵称不能为空",trigger:"blur"}],email:[{required:!0,message:"邮箱地址不能为空",trigger:"blur"},{type:"email",message:"'请输入正确的邮箱地址",trigger:["blur","change"]}],phonenumber:[{required:!0,message:"手机号码不能为空",trigger:"blur"},{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的手机号码",trigger:"blur"}]}}},methods:{submit:function(){var e=this;this.$refs["form"].validate((function(t){t&&Object(n["k"])(e.user).then((function(t){200===t.code&&e.msgSuccess("修改成功")}))}))},close:function(){this.$store.dispatch("tagsView/delView",this.$route),this.$router.push({path:"/index"})}}},l=o,s=a("2877"),c=Object(s["a"])(l,i,r,!1,null,null,null);t["default"]=c.exports},"1ef6":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"工序名称",prop:"process"}},[a("el-input",{attrs:{placeholder:"请输入工序名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.process,callback:function(t){e.$set(e.queryParams,"process",t)},expression:"queryParams.process"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"能源品种",prop:"energy"}},[a("el-select",{attrs:{placeholder:"请选择能源品种",clearable:"",filterable:"",size:"small"},model:{value:e.queryParams.energy,callback:function(t){e.$set(e.queryParams,"energy",t)},expression:"queryParams.energy"}},e._l(e.energyOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"统计时间",prop:"selectDate"}},[a("el-date-picker",{staticStyle:{width:"200px"},attrs:{clearable:"",size:"small",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择统计时间"},model:{value:e.queryParams.selectDate,callback:function(t){e.$set(e.queryParams,"selectDate",t)},expression:"queryParams.selectDate"}})],1),e._v(" "),a("el-form-item",[a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.companyOneTotalData5List,"row-key":"id","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{label:"工序名称",align:"center",prop:"process"}}),e._v(" "),a("el-table-column",{attrs:{label:"设备名称",align:"center",prop:"device"}}),e._v(" "),a("el-table-column",{attrs:{label:"能源品种",align:"center",prop:"energy"}}),e._v(" "),a("el-table-column",{attrs:{label:"能源用途",align:"center",prop:"usee"}}),e._v(" "),a("el-table-column",{attrs:{label:"测点名称",align:"center",prop:"point"}}),e._v(" "),a("el-table-column",{attrs:{label:"数值",align:"center",prop:"startValue"}}),e._v(" "),a("el-table-column",{attrs:{label:"折标量",align:"center",prop:"endValue"}}),e._v(" "),a("el-table-column",{attrs:{label:"折标系数",align:"center",prop:"coefficient"}}),e._v(" "),a("el-table-column",{attrs:{label:"统计时间",align:"center",prop:"selectDate"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:companyOneTotalData5:edit"],expression:"['sirui:companyOneTotalData5:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:companyOneTotalData5:remove"],expression:"['sirui:companyOneTotalData5:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"父级菜单",prop:"parentId"}},[a("treeselect",{attrs:{options:e.companyOneTotalData5Options,normalizer:e.normalizer,placeholder:"请选择父级菜单"},model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"工序名称",prop:"process"}},[a("el-input",{attrs:{placeholder:"请输入工序名称"},model:{value:e.form.process,callback:function(t){e.$set(e.form,"process",t)},expression:"form.process"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"工序编号",prop:"processCode"}},[a("el-input",{attrs:{placeholder:"请输入工序编号"},model:{value:e.form.processCode,callback:function(t){e.$set(e.form,"processCode",t)},expression:"form.processCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"能源品种",prop:"energy"}},[a("el-input",{attrs:{placeholder:"请输入能源品种"},model:{value:e.form.energy,callback:function(t){e.$set(e.form,"energy",t)},expression:"form.energy"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"能源品种编号",prop:"energyCode"}},[a("el-input",{attrs:{placeholder:"请输入能源品种编号"},model:{value:e.form.energyCode,callback:function(t){e.$set(e.form,"energyCode",t)},expression:"form.energyCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"测点名称",prop:"point"}},[a("el-input",{attrs:{placeholder:"请输入测点名称"},model:{value:e.form.point,callback:function(t){e.$set(e.form,"point",t)},expression:"form.point"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"测点位号",prop:"pointCode"}},[a("el-input",{attrs:{placeholder:"请输入测点位号"},model:{value:e.form.pointCode,callback:function(t){e.$set(e.form,"pointCode",t)},expression:"form.pointCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"倍数",prop:"multiple"}},[a("el-input",{attrs:{placeholder:"请输入倍数"},model:{value:e.form.multiple,callback:function(t){e.$set(e.form,"multiple",t)},expression:"form.multiple"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"单位换算系数",prop:"xs"}},[a("el-input",{attrs:{placeholder:"请输入单位换算系数"},model:{value:e.form.xs,callback:function(t){e.$set(e.form,"xs",t)},expression:"form.xs"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=(a("6b54"),a("f576"),a("a6d1")),o=a("ca17"),l=a.n(o),s=(a("542c"),{name:"CompanyOneTotalData5",components:{Treeselect:l.a},data:function(){return{loading:!0,companyOneTotalData5List:[],companyOneTotalData5Options:[],energyOptions:[],title:"",open:!1,queryParams:{process:void 0,device:void 0,statDate:void 0,selectDate:void 0,energy:void 0,type:"3",statType:"1"},form:{},rules:{}}},created:function(){var e=this;this.getList(),this.getBeforeDate(),this.getDicts("sirui_energy_variety").then((function(t){e.energyOptions=t.data}))},updated:function(){this.expandAll()},methods:{expandAll:function(){for(var e=document.getElementsByClassName("el-table__expand-icon--expanded"),t=0;t<e.length;t++)e[t].click()},getBeforeDate:function(){var e=new Date;e.setTime(e.getTime()-864e5);var t=e.getFullYear(),a=e.getMonth(),i=e.getDate();a+=1,a=a.toString().padStart(2,"0"),i=i.toString().padStart(2,"0");var r="".concat(t,"-").concat(a,"-").concat(i);this.$set(this.queryParams,"selectDate",r)},energyFormat:function(e,t){return this.selectDictLabel(this.energyOptions,e.energy)},getList:function(){var e=this;this.loading=!0,Object(n["f"])(this.queryParams).then((function(t){e.companyOneTotalData5List=e.handleTree(t.data,"id","parentId"),e.loading=!1}))},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.id,label:e.process,children:e.children}},getTreeselect:function(){var e=this;Object(n["f"])().then((function(t){e.companyOneTotalData5Options=[];var a={id:0,process:"顶级节点",children:[]};a.children=e.handleTree(t.data,"id","parentId"),e.companyOneTotalData5Options.push(a)}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,parentId:void 0,process:void 0,processCode:void 0,type:"3",device:void 0,deviceCode:void 0,energy:void 0,energyCode:void 0,point:void 0,pointCode:void 0,multiple:void 0,xs:void 0,company:void 0,usee:void 0,createTime:void 0,updateTime:void 0,dId:void 0,number:void 0,startValue:void 0,endValue:void 0,inputType:void 0,statType:"1",scope:void 0,statDate:void 0},this.resetForm("form")},handleQuery:function(){this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.getTreeselect(),this.open=!0,this.title="添加二级数据测点配置"},handleUpdate:function(e){var t=this;this.reset(),this.getTreeselect(),void 0!=e&&(this.form.parentId=e.id),Object(n["c"])(e.id).then((function(e){t.form=e.data,t.open=!0,t.title="修改二级数据测点配置"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?Object(n["h"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):Object(n["a"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this;this.$confirm('是否确认删除二级数据测点配置编号为"'+e.id+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["b"])(e.id)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}}),c=s,u=(a("37e7"),a("2877")),d=Object(u["a"])(c,i,r,!1,null,null,null);t["default"]=d.exports},"1f16":function(e,t,a){"use strict";var i=a("ed083"),r=a.n(i);r.a},"1f34":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4,xs:24}},[a("div",{staticClass:"head-container"},[a("el-input",{staticStyle:{"margin-bottom":"20px"},attrs:{placeholder:"请输入部门名称",clearable:"",size:"small","prefix-icon":"el-icon-search"},model:{value:e.deptName,callback:function(t){e.deptName=t},expression:"deptName"}})],1),e._v(" "),a("div",{staticClass:"head-container"},[a("el-tree",{ref:"tree",attrs:{data:e.deptOptions,props:e.defaultProps,"expand-on-click-node":!1,"filter-node-method":e.filterNode,"default-expand-all":""},on:{"node-click":e.handleNodeClick}})],1)]),e._v(" "),a("el-col",{attrs:{span:20,xs:24}},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"用户名称",prop:"userName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入用户名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.userName,callback:function(t){e.$set(e.queryParams,"userName",t)},expression:"queryParams.userName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号码",prop:"phonenumber"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入手机号码",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.phonenumber,callback:function(t){e.$set(e.queryParams,"phonenumber",t)},expression:"queryParams.phonenumber"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"用户状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:user:add"],expression:"['system:user:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:user:edit"],expression:"['system:user:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:user:remove"],expression:"['system:user:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:user:import"],expression:"['system:user:import']"}],attrs:{type:"info",icon:"el-icon-upload2",size:"mini"},on:{click:e.handleImport}},[e._v("导入")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:user:export"],expression:"['system:user:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.userList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"50",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"用户编号",align:"center",prop:"userId"}}),e._v(" "),a("el-table-column",{attrs:{label:"用户名称",align:"center",prop:"userName","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"用户昵称",align:"center",prop:"nickName","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"部门",align:"center",prop:"dept.deptName","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"手机号码",align:"center",prop:"phonenumber",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":"0","inactive-value":"1"},on:{change:function(a){return e.handleStatusChange(t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"180","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:user:edit"],expression:"['system:user:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),1!==t.row.userId?a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:user:remove"],expression:"['system:user:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")]):e._e(),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:user:resetPwd"],expression:"['system:user:resetPwd']"}],attrs:{size:"mini",type:"text",icon:"el-icon-key"},on:{click:function(a){return e.handleResetPwd(t.row)}}},[e._v("重置")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"600px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"用户昵称",prop:"nickName"}},[a("el-input",{attrs:{placeholder:"请输入用户昵称"},model:{value:e.form.nickName,callback:function(t){e.$set(e.form,"nickName",t)},expression:"form.nickName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"归属部门",prop:"deptId"}},[a("treeselect",{attrs:{options:e.deptOptions,"disable-branch-nodes":!0,"show-count":!0,placeholder:"请选择归属部门"},model:{value:e.form.deptId,callback:function(t){e.$set(e.form,"deptId",t)},expression:"form.deptId"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"手机号码",prop:"phonenumber"}},[a("el-input",{attrs:{placeholder:"请输入手机号码",maxlength:"11"},model:{value:e.form.phonenumber,callback:function(t){e.$set(e.form,"phonenumber",t)},expression:"form.phonenumber"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{placeholder:"请输入邮箱",maxlength:"50"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[void 0==e.form.userId?a("el-form-item",{attrs:{label:"用户名称",prop:"userName"}},[a("el-input",{attrs:{placeholder:"请输入用户名称"},model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}})],1):e._e()],1),e._v(" "),a("el-col",{attrs:{span:12}},[void 0==e.form.userId?a("el-form-item",{attrs:{label:"用户密码",prop:"password"}},[a("el-input",{attrs:{placeholder:"请输入用户密码",type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1):e._e()],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"用户性别"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},e._l(e.sexOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"岗位"}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.form.postIds,callback:function(t){e.$set(e.form,"postIds",t)},expression:"form.postIds"}},e._l(e.postOptions,(function(e){return a("el-option",{key:e.postId,attrs:{label:e.postName,value:e.postId,disabled:1==e.status}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"角色"}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.form.roleIds,callback:function(t){e.$set(e.form,"roleIds",t)},expression:"form.roleIds"}},e._l(e.roleOptions,(function(e){return a("el-option",{key:e.roleId,attrs:{label:e.roleName,value:e.roleId,disabled:1==e.status}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.upload.title,visible:e.upload.open,width:"400px","append-to-body":""},on:{"update:visible":function(t){return e.$set(e.upload,"open",t)}}},[a("el-upload",{ref:"upload",attrs:{limit:1,accept:".xlsx, .xls",headers:e.upload.headers,action:e.upload.url+"?updateSupport="+e.upload.updateSupport,disabled:e.upload.isUploading,"on-progress":e.handleFileUploadProgress,"on-success":e.handleFileSuccess,"auto-upload":!1,drag:""}},[a("i",{staticClass:"el-icon-upload"}),e._v(" "),a("div",{staticClass:"el-upload__text"},[e._v("\n        将文件拖到此处，或\n        "),a("em",[e._v("点击上传")])]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[a("el-checkbox",{model:{value:e.upload.updateSupport,callback:function(t){e.$set(e.upload,"updateSupport",t)},expression:"upload.updateSupport"}}),e._v("是否更新已经存在的用户数据\n        "),a("el-link",{staticStyle:{"font-size":"12px"},attrs:{type:"info"},on:{click:e.importTemplate}},[e._v("下载模板")])],1),e._v(" "),a("div",{staticClass:"el-upload__tip",staticStyle:{color:"red"},attrs:{slot:"tip"},slot:"tip"},[e._v("提示：仅允许导入“xls”或“xlsx”格式文件！")])]),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitFileForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:function(t){e.upload.open=!1}}},[e._v("取 消")])],1)],1)],1)},r=[],n=a("c0c7"),o=a("5f87"),l=a("fcb7"),s=a("ca17"),c=a.n(s),u=(a("542c"),{name:"User",components:{Treeselect:c.a},data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,userList:null,title:"",deptOptions:void 0,open:!1,deptName:void 0,initPassword:void 0,dateRange:[],statusOptions:[],sexOptions:[],postOptions:[],roleOptions:[],form:{},defaultProps:{children:"children",label:"label"},upload:{open:!1,title:"",isUploading:!1,updateSupport:0,headers:{Authorization:"Bearer "+Object(o["a"])()},url:"/prod-api/system/user/importData"},queryParams:{pageNum:1,pageSize:10,userName:void 0,phonenumber:void 0,status:void 0,deptId:void 0},rules:{userName:[{required:!0,message:"用户名称不能为空",trigger:"blur"}],nickName:[{required:!0,message:"用户昵称不能为空",trigger:"blur"}],deptId:[{required:!0,message:"归属部门不能为空",trigger:"blur"}],password:[{required:!0,message:"用户密码不能为空",trigger:"blur"}],email:[{required:!0,message:"邮箱地址不能为空",trigger:"blur"},{type:"email",message:"'请输入正确的邮箱地址",trigger:["blur","change"]}],phonenumber:[{required:!0,message:"手机号码不能为空",trigger:"blur"},{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的手机号码",trigger:"blur"}]}}},watch:{deptName:function(e){this.$refs.tree.filter(e)}},created:function(){var e=this;this.getList(),this.getTreeselect(),this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data})),this.getDicts("sys_user_sex").then((function(t){e.sexOptions=t.data})),this.getConfigKey("sys.user.initPassword").then((function(t){e.initPassword=t.msg}))},methods:{getList:function(){var e=this;this.loading=!0,Object(n["h"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.userList=t.rows,e.total=t.total,e.loading=!1}))},getTreeselect:function(){var e=this;Object(l["g"])().then((function(t){e.deptOptions=t.data}))},filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},handleNodeClick:function(e){this.queryParams.deptId=e.id,this.getList()},handleStatusChange:function(e){var t=this,a="0"===e.status?"启用":"停用";this.$confirm('确认要"'+a+'""'+e.userName+'"用户吗?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["b"])(e.userId,e.status)})).then((function(){t.msgSuccess(a+"成功")})).catch((function(){e.status="0"===e.status?"1":"0"}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={userId:void 0,deptId:void 0,userName:void 0,nickName:void 0,password:void 0,phonenumber:void 0,email:void 0,sex:void 0,status:"0",remark:void 0,postIds:[],roleIds:[]},this.resetForm("form")},handleQuery:function(){this.queryParams.page=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.userId})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){var e=this;this.reset(),this.getTreeselect(),Object(n["e"])().then((function(t){e.postOptions=t.posts,e.roleOptions=t.roles,e.open=!0,e.title="添加用户",e.form.password=e.initPassword}))},handleUpdate:function(e){var t=this;this.reset(),this.getTreeselect();var a=e.userId||this.ids;Object(n["e"])(a).then((function(e){t.form=e.data,t.postOptions=e.posts,t.roleOptions=e.roles,t.form.postIds=e.postIds,t.form.roleIds=e.roleIds,t.open=!0,t.title="修改用户",t.form.password=""}))},handleResetPwd:function(e){var t=this;this.$prompt('请输入"'+e.userName+'"的新密码',"提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(a){var i=a.value;Object(n["i"])(e.userId,i).then((function(e){200===e.code&&t.msgSuccess("修改成功，新密码是："+i)}))})).catch((function(){}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.userId?Object(n["j"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):Object(n["a"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this,a=e.userId||this.ids;this.$confirm('是否确认删除用户编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["c"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有用户数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["d"])(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))},handleImport:function(){this.upload.title="用户导入",this.upload.open=!0},importTemplate:function(){var e=this;Object(n["g"])().then((function(t){e.download(t.msg)}))},handleFileUploadProgress:function(e,t,a){this.upload.isUploading=!0},handleFileSuccess:function(e,t,a){this.upload.open=!1,this.upload.isUploading=!1,this.$refs.upload.clearFiles(),this.$alert(e.msg,"导入结果",{dangerouslyUseHTMLString:!0}),this.getList()},submitFileForm:function(){this.$refs.upload.submit()}}}),d=u,m=a("2877"),p=Object(m["a"])(d,i,r,!1,null,null,null);t["default"]=p.exports},2065:function(e,t,a){"use strict";var i=a("6acb"),r=a.n(i);r.a},"20b6":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container",staticStyle:{"overflow-x":"auto"}},[a("div",{staticStyle:{width:"4800px"}},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"统计时间",prop:"selectDate"}},[a("el-date-picker",{staticStyle:{width:"150px"},attrs:{clearable:"",size:"small",type:"month","value-format":"yyyy-MM",placeholder:"选择统计时间"},model:{value:e.queryParams.selectDate,callback:function(t){e.$set(e.queryParams,"selectDate",t)},expression:"queryParams.selectDate"}})],1),e._v(" "),a("el-form-item",[a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")])],1)],1),e._v(" "),a("a-table",{attrs:{columns:e.columns,"data-source":e.data,pagination:!1,bordered:""},scopedSlots:e._u([{key:"default",fn:function(t,i,r){return[a("div",{key:e.col},[i.editable?a("a-input",{staticStyle:{margin:"-5px 0"},attrs:{value:t},on:{change:function(t){return e.handleChange(t.target.value,i.key,e.col)}}}):e._e()],1)]}}])})],1)])},r=[],n=(a("f576"),a("6b54"),a("b85c")),o=a("b775");function l(e){return Object(o["a"])({url:"/baofeng/getOneDateTitle",method:"post",data:e})}function s(e){return Object(o["a"])({url:"/baofeng/oneDateStatistical",method:"post",data:e})}var c={data:function(){return{data:[],queryParams:{selectDate:void 0},columns:[]}},created:function(){this.getBeforeDate(),this.getOneDateTitle(),this.oneDateStatistical()},methods:{getOneDateTitle:function(){var e=this;this.columns=[{title:"能源品种",dataIndex:"NYPZ"},{title:"测点名称",width:"4%",dataIndex:"CDName"},{title:"测点序号",dataIndex:"CDXH"},{title:"能源用途",dataIndex:"NYYT"},{title:"计量单位",width:"4%",dataIndex:"JLDW"},{title:"采用折标系数",children:[{title:"单位",dataIndex:"Company",key:"Company"},{title:"日",dataIndex:"Day_",key:"Day_"},{title:"月",dataIndex:"Month_",key:"Month_"}]},{title:"月累计",children:[{title:"实物量",width:"3%",dataIndex:"Cum_Mat",key:"Cum_Mat"},{title:"折标量",width:"3%",dataIndex:"Cum_Fol",key:"Cum_Fol"}]},{title:"月统计",children:[{title:"实物量",width:"3%",dataIndex:"Sat_Mat",key:"Sat_Mat"},{title:"折标量",width:"3%",dataIndex:"Sat_Fol",key:"Sat_Fol"}]},{title:"偏差",children:[{title:"实物量",width:"3%",dataIndex:"Sta_Mat",key:"Sta_Mat"},{title:"折标量",width:"3%",dataIndex:"Sta_Fol",key:"Sta_Fol"}]}],l(this.queryParams).then((function(t){if(200==t.code){var a,i=t.data,r=Object(n["a"])(i);try{for(r.s();!(a=r.n()).done;){var o=a.value;e.columns.splice(6,0,{title:o.title,dataIndex:o.dataIndex})}}catch(l){r.e(l)}finally{r.f()}}else e.msgSuccess(t.msg)}))},oneDateStatistical:function(){var e=this;s(this.queryParams).then((function(t){if(e.data=[],200==t.code)for(var a=t.data,i=0;i<a.length;i++)e.data.push({key:i.toString(),NYPZ:a[i].entity.energy,CDName:a[i].entity.point,CDXH:a[i].entity.pointCode,NYYT:a[i].entity.usee,JLDW:a[i].entity.unit,Company:a[i].entity.zbxsUnit,Day_:a[i].entity.adoptionZbxs,Month_:a[i].entity.adoptionZbxs,Cum_Mat:a[i].totalStartValue,Cum_Fol:a[i].totalEndValue,Sat_Mat:a[i].mothStartValue,Sat_Fol:a[i].mothEndValue,Sta_Mat:a[i].errorStartValue,Sta_Fol:a[i].errorEndValue,Day_1:a[i].dataList.Day_1,Day_2:a[i].dataList.Day_2,Day_3:a[i].dataList.Day_3,Day_4:a[i].dataList.Day_4,Day_5:a[i].dataList.Day_5,Day_6:a[i].dataList.Day_6,Day_7:a[i].dataList.Day_7,Day_8:a[i].dataList.Day_8,Day_9:a[i].dataList.Day_9,Day_10:a[i].dataList.Day_10,Day_11:a[i].dataList.Day_11,Day_12:a[i].dataList.Day_12,Day_13:a[i].dataList.Day_13,Day_14:a[i].dataList.Day_14,Day_15:a[i].dataList.Day_15,Day_16:a[i].dataList.Day_16,Day_17:a[i].dataList.Day_17,Day_18:a[i].dataList.Day_18,Day_19:a[i].dataList.Day_19,Day_20:a[i].dataList.Day_20,Day_21:a[i].dataList.Day_21,Day_22:a[i].dataList.Day_22,Day_23:a[i].dataList.Day_23,Day_24:a[i].dataList.Day_24,Day_25:a[i].dataList.Day_25,Day_26:a[i].dataList.Day_26,Day_27:a[i].dataList.Day_27,Day_28:a[i].dataList.Day_28,Day_29:a[i].dataList.Day_29,Day_30:a[i].dataList.Day_30,Day_31:a[i].dataList.Day_31});else e.msgSuccess(t.msg)}))},getBeforeDate:function(){var e=new Date;e.setTime(e.getTime()-864e5);var t=e.getFullYear(),a=e.getMonth();e.getDate();0==a&&(t=parseInt(t)-1,a=12),a=a.toString().padStart(2,"0");var i="".concat(t,"-").concat(a);this.$set(this.queryParams,"selectDate",i)},handleQuery:function(){this.getOneDateTitle(),this.oneDateStatistical()}}},u=c,d=(a("10fc"),a("2877")),m=Object(d["a"])(u,i,r,!1,null,"47cfb40e",null);t["default"]=m.exports},"21a4":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"编码",prop:"code"}},[a("el-input",{attrs:{placeholder:"请输入生产工序编码",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.code,callback:function(t){e.$set(e.queryParams,"code",t)},expression:"queryParams.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入生产工序名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.name,callback:function(t){e.$set(e.queryParams,"name",t)},expression:"queryParams.name"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}}),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.typeList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{label:"生产工序编码",align:"center",prop:"code"}}),e._v(" "),a("el-table-column",{attrs:{label:"生产工序名称",align:"center",prop:"name"}})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"生产工序编码",prop:"code"}},[a("el-input",{attrs:{placeholder:"请输入生产工序编码"},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"生产工序名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入生产工序名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=a("b775");function o(e){return Object(n["a"])({url:"/sirui/downCollectSystemType/list",method:"get",params:e})}function l(e){return Object(n["a"])({url:"/sirui/type/"+e,method:"get"})}function s(e){return Object(n["a"])({url:"/sirui/type",method:"post",data:e})}function c(e){return Object(n["a"])({url:"/sirui/type",method:"put",data:e})}function u(e){return Object(n["a"])({url:"/sirui/type/"+e,method:"delete"})}function d(e){return Object(n["a"])({url:"/sirui/type/export",method:"get",params:e})}var m={name:"Type",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,typeList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,code:void 0,name:void 0},form:{},rules:{}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,o(this.queryParams).then((function(t){e.typeList=t.rows,e.total=t.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,code:void 0,name:void 0,createBy:void 0,createTime:void 0,updateBy:void 0,updateTime:void 0,remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加采集系统分类(基础数据下载)"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;l(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改采集系统分类(基础数据下载)"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?c(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):s(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除采集系统分类(基础数据下载)编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有采集系统分类(基础数据下载)数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return d(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},p=m,f=a("2877"),v=Object(f["a"])(p,i,r,!1,null,null,null);t["default"]=v.exports},2420:function(e,t,a){"use strict";a.d(t,"e",(function(){return r})),a.d(t,"d",(function(){return n})),a.d(t,"a",(function(){return o})),a.d(t,"f",(function(){return l})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return c}));var i=a("b775");function r(e,t){return Object(i["a"])({url:"/sirui/RealtimeFollow/list/"+t,method:"get",params:e})}function n(e){return Object(i["a"])({url:"/sirui/RealtimeFollow/"+e,method:"get"})}function o(e){return Object(i["a"])({url:"/sirui/RealtimeFollow",method:"post",data:e})}function l(e){return Object(i["a"])({url:"/sirui/RealtimeFollow",method:"put",data:e})}function s(e){return Object(i["a"])({url:"/sirui/RealtimeFollow/"+e,method:"delete"})}function c(e){return Object(i["a"])({url:"/sirui/RealtimeFollow/export",method:"get",params:e})}},"245a":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},r=[],n=a("313e"),o=a.n(n),l=a("30e5");a("817d");var s={mixins:[l["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"350px"},autoResize:{type:Boolean,default:!0},chartData:{type:Object,required:!0}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(e){this.setOptions(e)}}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=o.a.init(this.$el,"macarons"),this.setOptions(this.chartData)},setOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.expectedData,a=e.actualData;this.chart.setOption({xAxis:{data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],boundaryGap:!1,axisTick:{show:!1}},grid:{left:10,right:10,bottom:20,top:30,containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross"},padding:[5,10]},yAxis:{axisTick:{show:!1}},legend:{data:["expected","actual"]},series:[{name:"expected",itemStyle:{normal:{color:"#FF005A",lineStyle:{color:"#FF005A",width:2}}},smooth:!0,type:"line",data:t,animationDuration:2800,animationEasing:"cubicInOut"},{name:"actual",smooth:!0,type:"line",itemStyle:{normal:{color:"#3888fa",lineStyle:{color:"#3888fa",width:2},areaStyle:{color:"#f3f8ff"}}},data:a,animationDuration:2800,animationEasing:"quadraticOut"}]})}}},c=s,u=a("2877"),d=Object(u["a"])(c,i,r,!1,null,null,null);t["default"]=d.exports},"26fc":function(e,t,a){e.exports=a.p+"static/img/404_cloud.0f4bc32b.png"},2754:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wscn-http404-container"},[a("div",{staticClass:"wscn-http404"},[e._m(0),e._v(" "),a("div",{staticClass:"bullshit"},[a("div",{staticClass:"bullshit__oops"},[e._v("\n        404错误!\n      ")]),e._v(" "),a("div",{staticClass:"bullshit__headline"},[e._v("\n        "+e._s(e.message)+"\n      ")]),e._v(" "),a("div",{staticClass:"bullshit__info"},[e._v("\n        对不起，您正在寻找的页面不存在。尝试检查URL的错误，然后按浏览器上的刷新按钮或尝试在我们的应用程序中找到其他内容。\n      ")]),e._v(" "),a("router-link",{staticClass:"bullshit__return-home",attrs:{to:"/"}},[e._v("\n        返回首页\n      ")])],1)])])},r=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"pic-404"},[i("img",{staticClass:"pic-404__parent",attrs:{src:a("a36b"),alt:"404"}}),e._v(" "),i("img",{staticClass:"pic-404__child left",attrs:{src:a("26fc"),alt:"404"}}),e._v(" "),i("img",{staticClass:"pic-404__child mid",attrs:{src:a("26fc"),alt:"404"}}),e._v(" "),i("img",{staticClass:"pic-404__child right",attrs:{src:a("26fc"),alt:"404"}})])}],n={name:"Page404",computed:{message:function(){return"找不到网页！"}}},o=n,l=(a("32c1"),a("2877")),s=Object(l["a"])(o,i,r,!1,null,"d7d08274",null);t["default"]=s.exports},2855:function(e,t,a){"use strict";a.r(t);var i,r,n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"left-board"},[a("div",{staticClass:"logo-wrapper"},[a("div",{staticClass:"logo"},[a("img",{attrs:{src:e.logo,alt:"logo"}}),e._v(" Form Generator\n      ")])]),e._v(" "),a("el-scrollbar",{staticClass:"left-scrollbar"},[a("div",{staticClass:"components-list"},[a("div",{staticClass:"components-title"},[a("svg-icon",{attrs:{"icon-class":"component"}}),e._v("输入型组件\n        ")],1),e._v(" "),a("draggable",{staticClass:"components-draggable",attrs:{list:e.inputComponents,group:{name:"componentsGroup",pull:"clone",put:!1},clone:e.cloneComponent,draggable:".components-item",sort:!1},on:{end:e.onEnd}},e._l(e.inputComponents,(function(t,i){return a("div",{key:i,staticClass:"components-item",on:{click:function(a){return e.addComponent(t)}}},[a("div",{staticClass:"components-body"},[a("svg-icon",{attrs:{"icon-class":t.tagIcon}}),e._v("\n              "+e._s(t.label)+"\n            ")],1)])})),0),e._v(" "),a("div",{staticClass:"components-title"},[a("svg-icon",{attrs:{"icon-class":"component"}}),e._v("选择型组件\n        ")],1),e._v(" "),a("draggable",{staticClass:"components-draggable",attrs:{list:e.selectComponents,group:{name:"componentsGroup",pull:"clone",put:!1},clone:e.cloneComponent,draggable:".components-item",sort:!1},on:{end:e.onEnd}},e._l(e.selectComponents,(function(t,i){return a("div",{key:i,staticClass:"components-item",on:{click:function(a){return e.addComponent(t)}}},[a("div",{staticClass:"components-body"},[a("svg-icon",{attrs:{"icon-class":t.tagIcon}}),e._v("\n              "+e._s(t.label)+"\n            ")],1)])})),0),e._v(" "),a("div",{staticClass:"components-title"},[a("svg-icon",{attrs:{"icon-class":"component"}}),e._v(" 布局型组件\n        ")],1),e._v(" "),a("draggable",{staticClass:"components-draggable",attrs:{list:e.layoutComponents,group:{name:"componentsGroup",pull:"clone",put:!1},clone:e.cloneComponent,draggable:".components-item",sort:!1},on:{end:e.onEnd}},e._l(e.layoutComponents,(function(t,i){return a("div",{key:i,staticClass:"components-item",on:{click:function(a){return e.addComponent(t)}}},[a("div",{staticClass:"components-body"},[a("svg-icon",{attrs:{"icon-class":t.tagIcon}}),e._v("\n              "+e._s(t.label)+"\n            ")],1)])})),0)],1)])],1),e._v(" "),a("div",{staticClass:"center-board"},[a("div",{staticClass:"action-bar"},[a("el-button",{attrs:{icon:"el-icon-download",type:"text"},on:{click:e.download}},[e._v("\n        导出vue文件\n      ")]),e._v(" "),a("el-button",{staticClass:"copy-btn-main",attrs:{icon:"el-icon-document-copy",type:"text"},on:{click:e.copy}},[e._v("\n        复制代码\n      ")]),e._v(" "),a("el-button",{staticClass:"delete-btn",attrs:{icon:"el-icon-delete",type:"text"},on:{click:e.empty}},[e._v("\n        清空\n      ")])],1),e._v(" "),a("el-scrollbar",{staticClass:"center-scrollbar"},[a("el-row",{staticClass:"center-board-row",attrs:{gutter:e.formConf.gutter}},[a("el-form",{attrs:{size:e.formConf.size,"label-position":e.formConf.labelPosition,disabled:e.formConf.disabled,"label-width":e.formConf.labelWidth+"px"}},[a("draggable",{staticClass:"drawing-board",attrs:{list:e.drawingList,animation:340,group:"componentsGroup"}},e._l(e.drawingList,(function(t,i){return a("draggable-item",{key:t.renderKey,attrs:{"drawing-list":e.drawingList,element:t,index:i,"active-id":e.activeId,"form-conf":e.formConf},on:{activeItem:e.activeFormItem,copyItem:e.drawingItemCopy,deleteItem:e.drawingItemDelete}})})),1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.drawingList.length,expression:"!drawingList.length"}],staticClass:"empty-info"},[e._v("\n            从左侧拖入或点选组件进行表单设计\n          ")])],1)],1)],1)],1),e._v(" "),a("right-panel",{attrs:{"active-data":e.activeData,"form-conf":e.formConf,"show-field":!!e.drawingList.length},on:{"tag-change":e.tagChange}}),e._v(" "),a("code-type-dialog",{attrs:{visible:e.dialogVisible,title:"选择生成类型","show-file-name":e.showFileName},on:{"update:visible":function(t){e.dialogVisible=t},confirm:e.generate}}),e._v(" "),a("input",{attrs:{id:"copyNode",type:"hidden"}})],1)},o=[],l=(a("20d6"),a("53ca")),s=(a("456d"),a("ac6a"),a("5530")),c=(a("a481"),a("1980")),u=a.n(c),d=a("21a6"),m=a("e552"),p=a.n(m),f=a("b311"),v=a.n(f),h=a("a85b"),b=a("766b"),y=a("2e2a"),g=a("ed08");a("7f7f");function _(e){return'<el-dialog v-bind="$attrs" v-on="$listeners" @open="onOpen" @close="onClose" title="Dialog Titile">\n    '.concat(e,'\n    <div slot="footer">\n      <el-button @click="close">取消</el-button>\n      <el-button type="primary" @click="handelConfirm">确定</el-button>\n    </div>\n  </el-dialog>')}function x(e){return"<template>\n    <div>\n      ".concat(e,"\n    </div>\n  </template>")}function k(e){return"<script>\n    ".concat(e,"\n  <\/script>")}function w(e){return"<style>\n    ".concat(e,"\n  </style>")}function D(e,t,a){var i="";"right"!==e.labelPosition&&(i='label-position="'.concat(e.labelPosition,'"'));var n=e.disabled?':disabled="'.concat(e.disabled,'"'):"",o='<el-form ref="'.concat(e.formRef,'" :model="').concat(e.formModel,'" :rules="').concat(e.formRules,'" size="').concat(e.size,'" ').concat(n,' label-width="').concat(e.labelWidth,'px" ').concat(i,">\n      ").concat(t,"\n      ").concat(O(e,a),"\n    </el-form>");return r&&(o='<el-row :gutter="'.concat(e.gutter,'">\n        ').concat(o,"\n      </el-row>")),o}function O(e,t){var a="";return e.formBtns&&"file"===t&&(a='<el-form-item size="large">\n          <el-button type="primary" @click="submitForm">提交</el-button>\n          <el-button @click="resetForm">重置</el-button>\n        </el-form-item>',r&&(a='<el-col :span="24">\n          '.concat(a,"\n        </el-col>"))),a}function C(e,t){return r||24!==e.span?'<el-col :span="'.concat(e.span,'">\n      ').concat(t,"\n    </el-col>"):t}var P={colFormItem:function(e){var t="";e.labelWidth&&e.labelWidth!==i.labelWidth&&(t='label-width="'.concat(e.labelWidth,'px"'));var a=!y["e"][e.tag]&&e.required?"required":"",r=T[e.tag]?T[e.tag](e):null,n="<el-form-item ".concat(t,' label="').concat(e.label,'" prop="').concat(e.vModel,'" ').concat(a,">\n        ").concat(r,"\n      </el-form-item>");return n=C(e,n),n},rowFormItem:function(e){var t="default"===e.type?"":'type="'.concat(e.type,'"'),a="default"===e.type?"":'justify="'.concat(e.justify,'"'),i="default"===e.type?"":'align="'.concat(e.align,'"'),r=e.gutter?'gutter="'.concat(e.gutter,'"'):"",n=e.children.map((function(e){return P[e.layout](e)})),o="<el-row ".concat(t," ").concat(a," ").concat(i," ").concat(r,">\n      ").concat(n.join("\n"),"\n    </el-row>");return o=C(e,o),o}},T={"el-input":function(e){var t=q(e),a=t.disabled,i=t.vModel,r=t.clearable,n=t.placeholder,o=t.width,l=e.maxlength?':maxlength="'.concat(e.maxlength,'"'):"",s=e["show-word-limit"]?"show-word-limit":"",c=e.readonly?"readonly":"",u=e["prefix-icon"]?"prefix-icon='".concat(e["prefix-icon"],"'"):"",d=e["suffix-icon"]?"suffix-icon='".concat(e["suffix-icon"],"'"):"",m=e["show-password"]?"show-password":"",p=e.type?'type="'.concat(e.type,'"'):"",f=e.autosize&&e.autosize.minRows?':autosize="{minRows: '.concat(e.autosize.minRows,", maxRows: ").concat(e.autosize.maxRows,'}"'):"",v=S(e);return v&&(v="\n".concat(v,"\n")),"<".concat(e.tag," ").concat(i," ").concat(p," ").concat(n," ").concat(l," ").concat(s," ").concat(c," ").concat(a," ").concat(r," ").concat(u," ").concat(d," ").concat(m," ").concat(f," ").concat(o,">").concat(v,"</").concat(e.tag,">")},"el-input-number":function(e){var t=q(e),a=t.disabled,i=t.vModel,r=t.placeholder,n=e["controls-position"]?"controls-position=".concat(e["controls-position"]):"",o=e.min?":min='".concat(e.min,"'"):"",l=e.max?":max='".concat(e.max,"'"):"",s=e.step?":step='".concat(e.step,"'"):"",c=e["step-strictly"]?"step-strictly":"",u=e.precision?":precision='".concat(e.precision,"'"):"";return"<".concat(e.tag," ").concat(i," ").concat(r," ").concat(s," ").concat(c," ").concat(u," ").concat(n," ").concat(o," ").concat(l," ").concat(a,"></").concat(e.tag,">")},"el-select":function(e){var t=q(e),a=t.disabled,i=t.vModel,r=t.clearable,n=t.placeholder,o=t.width,l=e.filterable?"filterable":"",s=e.multiple?"multiple":"",c=$(e);return c&&(c="\n".concat(c,"\n")),"<".concat(e.tag," ").concat(i," ").concat(n," ").concat(a," ").concat(s," ").concat(l," ").concat(r," ").concat(o,">").concat(c,"</").concat(e.tag,">")},"el-radio-group":function(e){var t=q(e),a=t.disabled,i=t.vModel,r='size="'.concat(e.size,'"'),n=L(e);return n&&(n="\n".concat(n,"\n")),"<".concat(e.tag," ").concat(i," ").concat(r," ").concat(a,">").concat(n,"</").concat(e.tag,">")},"el-checkbox-group":function(e){var t=q(e),a=t.disabled,i=t.vModel,r='size="'.concat(e.size,'"'),n=e.min?':min="'.concat(e.min,'"'):"",o=e.max?':max="'.concat(e.max,'"'):"",l=N(e);return l&&(l="\n".concat(l,"\n")),"<".concat(e.tag," ").concat(i," ").concat(n," ").concat(o," ").concat(r," ").concat(a,">").concat(l,"</").concat(e.tag,">")},"el-switch":function(e){var t=q(e),a=t.disabled,i=t.vModel,r=e["active-text"]?'active-text="'.concat(e["active-text"],'"'):"",n=e["inactive-text"]?'inactive-text="'.concat(e["inactive-text"],'"'):"",o=e["active-color"]?'active-color="'.concat(e["active-color"],'"'):"",l=e["inactive-color"]?'inactive-color="'.concat(e["inactive-color"],'"'):"",s=!0!==e["active-value"]?":active-value='".concat(JSON.stringify(e["active-value"]),"'"):"",c=!1!==e["inactive-value"]?":inactive-value='".concat(JSON.stringify(e["inactive-value"]),"'"):"";return"<".concat(e.tag," ").concat(i," ").concat(r," ").concat(n," ").concat(o," ").concat(l," ").concat(s," ").concat(c," ").concat(a,"></").concat(e.tag,">")},"el-cascader":function(e){var t=q(e),a=t.disabled,i=t.vModel,r=t.clearable,n=t.placeholder,o=t.width,l=e.options?':options="'.concat(e.vModel,'Options"'):"",s=e.props?':props="'.concat(e.vModel,'Props"'):"",c=e["show-all-levels"]?"":':show-all-levels="false"',u=e.filterable?"filterable":"",d="/"===e.separator?"":'separator="'.concat(e.separator,'"');return"<".concat(e.tag," ").concat(i," ").concat(l," ").concat(s," ").concat(o," ").concat(c," ").concat(n," ").concat(d," ").concat(u," ").concat(r," ").concat(a,"></").concat(e.tag,">")},"el-slider":function(e){var t=q(e),a=t.disabled,i=t.vModel,r=e.min?":min='".concat(e.min,"'"):"",n=e.max?":max='".concat(e.max,"'"):"",o=e.step?":step='".concat(e.step,"'"):"",l=e.range?"range":"",s=e["show-stops"]?':show-stops="'.concat(e["show-stops"],'"'):"";return"<".concat(e.tag," ").concat(r," ").concat(n," ").concat(o," ").concat(i," ").concat(l," ").concat(s," ").concat(a,"></").concat(e.tag,">")},"el-time-picker":function(e){var t=q(e),a=t.disabled,i=t.vModel,r=t.clearable,n=t.placeholder,o=t.width,l=e["start-placeholder"]?'start-placeholder="'.concat(e["start-placeholder"],'"'):"",s=e["end-placeholder"]?'end-placeholder="'.concat(e["end-placeholder"],'"'):"",c=e["range-separator"]?'range-separator="'.concat(e["range-separator"],'"'):"",u=e["is-range"]?"is-range":"",d=e.format?'format="'.concat(e.format,'"'):"",m=e["value-format"]?'value-format="'.concat(e["value-format"],'"'):"",p=e["picker-options"]?":picker-options='".concat(JSON.stringify(e["picker-options"]),"'"):"";return"<".concat(e.tag," ").concat(i," ").concat(u," ").concat(d," ").concat(m," ").concat(p," ").concat(o," ").concat(n," ").concat(l," ").concat(s," ").concat(c," ").concat(r," ").concat(a,"></").concat(e.tag,">")},"el-date-picker":function(e){var t=q(e),a=t.disabled,i=t.vModel,r=t.clearable,n=t.placeholder,o=t.width,l=e["start-placeholder"]?'start-placeholder="'.concat(e["start-placeholder"],'"'):"",s=e["end-placeholder"]?'end-placeholder="'.concat(e["end-placeholder"],'"'):"",c=e["range-separator"]?'range-separator="'.concat(e["range-separator"],'"'):"",u=e.format?'format="'.concat(e.format,'"'):"",d=e["value-format"]?'value-format="'.concat(e["value-format"],'"'):"",m="date"===e.type?"":'type="'.concat(e.type,'"'),p=e.readonly?"readonly":"";return"<".concat(e.tag," ").concat(m," ").concat(i," ").concat(u," ").concat(d," ").concat(o," ").concat(n," ").concat(l," ").concat(s," ").concat(c," ").concat(r," ").concat(p," ").concat(a,"></").concat(e.tag,">")},"el-rate":function(e){var t=q(e),a=t.disabled,i=t.vModel,r=(e.max&&":max='".concat(e.max,"'"),e["allow-half"]?"allow-half":""),n=e["show-text"]?"show-text":"",o=e["show-score"]?"show-score":"";return"<".concat(e.tag," ").concat(i," ").concat(r," ").concat(n," ").concat(o," ").concat(a,"></").concat(e.tag,">")},"el-color-picker":function(e){var t=q(e),a=t.disabled,i=t.vModel,r='size="'.concat(e.size,'"'),n=e["show-alpha"]?"show-alpha":"",o=e["color-format"]?'color-format="'.concat(e["color-format"],'"'):"";return"<".concat(e.tag," ").concat(i," ").concat(r," ").concat(n," ").concat(o," ").concat(a,"></").concat(e.tag,">")},"el-upload":function(e){var t=e.disabled?":disabled='true'":"",a=e.action?':action="'.concat(e.vModel,'Action"'):"",i=e.multiple?"multiple":"",r="text"!==e["list-type"]?'list-type="'.concat(e["list-type"],'"'):"",n=e.accept?'accept="'.concat(e.accept,'"'):"",o="file"!==e.name?'name="'.concat(e.name,'"'):"",l=!1===e["auto-upload"]?':auto-upload="false"':"",s=':before-upload="'.concat(e.vModel,'BeforeUpload"'),c=':file-list="'.concat(e.vModel,'fileList"'),u='ref="'.concat(e.vModel,'"'),d=j(e);return d&&(d="\n".concat(d,"\n")),"<".concat(e.tag," ").concat(u," ").concat(c," ").concat(a," ").concat(l," ").concat(i," ").concat(s," ").concat(r," ").concat(n," ").concat(o," ").concat(t,">").concat(d,"</").concat(e.tag,">")}};function q(e){return{vModel:'v-model="'.concat(i.formModel,".").concat(e.vModel,'"'),clearable:e.clearable?"clearable":"",placeholder:e.placeholder?'placeholder="'.concat(e.placeholder,'"'):"",width:e.style&&e.style.width?":style=\"{width: '100%'}\"":"",disabled:e.disabled?":disabled='true'":""}}function S(e){var t=[];return e.prepend&&t.push('<template slot="prepend">'.concat(e.prepend,"</template>")),e.append&&t.push('<template slot="append">'.concat(e.append,"</template>")),t.join("\n")}function $(e){var t=[];return e.options&&e.options.length&&t.push('<el-option v-for="(item, index) in '.concat(e.vModel,'Options" :key="index" :label="item.label" :value="item.value" :disabled="item.disabled"></el-option>')),t.join("\n")}function L(e){var t=[];if(e.options&&e.options.length){var a="button"===e.optionType?"el-radio-button":"el-radio",i=e.border?"border":"";t.push("<".concat(a,' v-for="(item, index) in ').concat(e.vModel,'Options" :key="index" :label="item.value" :disabled="item.disabled" ').concat(i,">{{item.label}}</").concat(a,">"))}return t.join("\n")}function N(e){var t=[];if(e.options&&e.options.length){var a="button"===e.optionType?"el-checkbox-button":"el-checkbox",i=e.border?"border":"";t.push("<".concat(a,' v-for="(item, index) in ').concat(e.vModel,'Options" :key="index" :label="item.value" :disabled="item.disabled" ').concat(i,">{{item.label}}</").concat(a,">"))}return t.join("\n")}function j(e){var t=[];return"picture-card"===e["list-type"]?t.push('<i class="el-icon-plus"></i>'):t.push('<el-button size="small" type="primary" icon="el-icon-upload">'.concat(e.buttonText,"</el-button>")),e.showTip&&t.push('<div slot="tip" class="el-upload__tip">只能上传不超过 '.concat(e.fileSize).concat(e.sizeUnit," 的").concat(e.accept,"文件</div>")),t.join("\n")}function z(e,t){var a=[];i=e,r=e.fields.some((function(e){return 24!==e.span})),e.fields.forEach((function(e){a.push(P[e.layout](e))}));var n=a.join("\n"),o=D(e,n,t);return"dialog"===t&&(o=_(o)),i=null,o}var F=a("80de"),I={"el-rate":".el-rate{display: inline-block; vertical-align: text-top;}","el-upload":".el-upload__tip{line-height: 1.2;}"};function V(e,t){var a=I[t.tag];a&&-1===e.indexOf(a)&&e.push(a),t.children&&t.children.forEach((function(t){return V(e,t)}))}function E(e){var t=[];return e.fields.forEach((function(e){return V(t,e)})),t.join("\n")}var B,U,Q=[{layout:"colFormItem",tagIcon:"input",label:"手机号",vModel:"mobile",formId:6,tag:"el-input",placeholder:"请输入手机号",defaultValue:"",span:24,style:{width:"100%"},clearable:!0,prepend:"",append:"","prefix-icon":"el-icon-mobile","suffix-icon":"",maxlength:11,"show-word-limit":!0,readonly:!1,disabled:!1,required:!0,changeTag:!0,regList:[{pattern:"/^1(3|4|5|7|8|9)\\d{9}$/",message:"手机号格式错误"}]}],M=a("81a5"),R=a.n(M),A=a("a92a"),G=a("4923"),K={components:{draggable:u.a,render:h["a"],RightPanel:b["default"],CodeTypeDialog:A["default"],DraggableItem:G["default"]},data:function(){return{logo:R.a,idGlobal:100,formConf:y["a"],inputComponents:y["b"],selectComponents:y["d"],layoutComponents:y["c"],labelWidth:100,drawingList:Q,drawingData:{},activeId:Q[0].formId,drawerVisible:!1,formData:{},dialogVisible:!1,generateConf:null,showFileName:!1,activeData:Q[0]}},computed:{},watch:{"activeData.label":function(e,t){void 0!==this.activeData.placeholder&&this.activeData.tag&&B===this.activeId&&(this.activeData.placeholder=this.activeData.placeholder.replace(t,"")+e)},activeId:{handler:function(e){B=e},immediate:!0}},mounted:function(){var e=this,t=new v.a("#copyNode",{text:function(t){var a=e.generateCode();return e.$notify({title:"成功",message:"代码已复制到剪切板，可粘贴。",type:"success"}),a}});t.on("error",(function(t){e.$message.error("代码复制失败")}))},methods:{activeFormItem:function(e){this.activeData=e,this.activeId=e.formId},onEnd:function(e,t){e.from!==e.to&&(this.activeData=U,this.activeId=this.idGlobal)},addComponent:function(e){var t=this.cloneComponent(e);this.drawingList.push(t),this.activeFormItem(t)},cloneComponent:function(e){var t=JSON.parse(JSON.stringify(e));return t.formId=++this.idGlobal,t.span=y["a"].span,t.renderKey=+new Date,t.layout||(t.layout="colFormItem"),"colFormItem"===t.layout?(t.vModel="field".concat(this.idGlobal),void 0!==t.placeholder&&(t.placeholder+=t.label),U=t):"rowFormItem"===t.layout&&(delete t.label,t.componentName="row".concat(this.idGlobal),t.gutter=this.formConf.gutter,U=t),U},AssembleFormData:function(){this.formData=Object(s["a"])({fields:JSON.parse(JSON.stringify(this.drawingList))},this.formConf)},generate:function(e){var t=this["exec".concat(Object(g["h"])(this.operationType))];this.generateConf=e,t&&t(e)},execRun:function(e){this.AssembleFormData(),this.drawerVisible=!0},execDownload:function(e){var t=this.generateCode(),a=new Blob([t],{type:"text/plain;charset=utf-8"});Object(d["saveAs"])(a,e.fileName)},execCopy:function(e){document.getElementById("copyNode").click()},empty:function(){var e=this;this.$confirm("确定要清空所有组件吗？","提示",{type:"warning"}).then((function(){e.drawingList=[]}))},drawingItemCopy:function(e,t){var a=JSON.parse(JSON.stringify(e));a=this.createIdAndKey(a),t.push(a),this.activeFormItem(a)},createIdAndKey:function(e){var t=this;return e.formId=++this.idGlobal,e.renderKey=+new Date,"colFormItem"===e.layout?e.vModel="field".concat(this.idGlobal):"rowFormItem"===e.layout&&(e.componentName="row".concat(this.idGlobal)),Array.isArray(e.children)&&(e.children=e.children.map((function(e){return t.createIdAndKey(e)}))),e},drawingItemDelete:function(e,t){var a=this;t.splice(e,1),this.$nextTick((function(){var e=a.drawingList.length;e&&a.activeFormItem(a.drawingList[e-1])}))},generateCode:function(){var e=this.generateConf.type;this.AssembleFormData();var t=k(Object(F["a"])(this.formData,e)),a=x(z(this.formData,e)),i=w(E(this.formData));return p.a.html(a+t+i,g["b"].html)},download:function(){this.dialogVisible=!0,this.showFileName=!0,this.operationType="download"},run:function(){this.dialogVisible=!0,this.showFileName=!1,this.operationType="run"},copy:function(){this.dialogVisible=!0,this.showFileName=!1,this.operationType="copy"},tagChange:function(e){var t=this;e=this.cloneComponent(e),e.vModel=this.activeData.vModel,e.formId=this.activeId,e.span=this.activeData.span,delete this.activeData.tag,delete this.activeData.tagIcon,delete this.activeData.document,Object.keys(e).forEach((function(a){void 0!==t.activeData[a]&&Object(l["a"])(t.activeData[a])===Object(l["a"])(e[a])&&(e[a]=t.activeData[a])})),this.activeData=e,this.updateDrawingList(e,this.drawingList)},updateDrawingList:function(e,t){var a=this,i=t.findIndex((function(e){return e.formId===a.activeId}));i>-1?t.splice(i,1,e):t.forEach((function(t){Array.isArray(t.children)&&a.updateDrawingList(e,t.children)}))}}},W=K,H=(a("1a2c"),a("2877")),J=Object(H["a"])(W,n,o,!1,null,null,null);t["default"]=J.exports},"2a02":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:srUpload:add"],expression:"['sirui:srUpload:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:srUpload:edit"],expression:"['sirui:srUpload:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:srUpload:remove"],expression:"['sirui:srUpload:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:srUpload:export"],expression:"['sirui:srUpload:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.srUploadList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"ID",align:"center",prop:"uploadId"}}),e._v(" "),a("el-table-column",{attrs:{label:"标题",align:"center",prop:"title"}}),e._v(" "),a("el-table-column",{attrs:{label:"路径",align:"center",prop:"path"}}),e._v(" "),a("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:srUpload:edit"],expression:"['sirui:srUpload:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:srUpload:remove"],expression:"['sirui:srUpload:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"路径",prop:"path"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.path,callback:function(t){e.$set(e.form,"path",t)},expression:"form.path"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=a("9736"),o={name:"SrUpload",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,srUploadList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10},form:{},rules:{title:[{required:!0,message:"标题不能为空",trigger:"blur"}],path:[{required:!0,message:"路径不能为空",trigger:"blur"}]}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(n["e"])(this.queryParams).then((function(t){e.srUploadList=t.rows,e.total=t.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={uploadId:void 0,title:void 0,path:void 0,createBy:void 0,createTime:void 0,updateBy:void 0,updateTime:void 0,remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.uploadId})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加能源报记录"},handleUpdate:function(e){var t=this;this.reset();var a=e.uploadId||this.ids;Object(n["d"])(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改能源报记录"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.uploadId?Object(n["f"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):Object(n["a"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this,a=e.uploadId||this.ids;this.$confirm('是否确认删除能源报记录编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["b"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有能源报记录数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["c"])(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},l=o,s=a("2877"),c=Object(s["a"])(l,i,r,!1,null,null,null);t["default"]=c.exports},"2a33":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",[a("el-col",{staticClass:"card-box",attrs:{span:12}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("CPU")])]),e._v(" "),a("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[a("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[a("thead",[a("tr",[a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("属性")])]),e._v(" "),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("值")])])])]),e._v(" "),a("tbody",[a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("核心数")])]),e._v(" "),a("td",[e.server.cpu?a("div",{staticClass:"cell"},[e._v(e._s(e.server.cpu.cpuNum))]):e._e()])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("用户使用率")])]),e._v(" "),a("td",[e.server.cpu?a("div",{staticClass:"cell"},[e._v(e._s(e.server.cpu.used)+"%")]):e._e()])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("系统使用率")])]),e._v(" "),a("td",[e.server.cpu?a("div",{staticClass:"cell"},[e._v(e._s(e.server.cpu.sys)+"%")]):e._e()])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("当前空闲率")])]),e._v(" "),a("td",[e.server.cpu?a("div",{staticClass:"cell"},[e._v(e._s(e.server.cpu.free)+"%")]):e._e()])])])])])])],1),e._v(" "),a("el-col",{staticClass:"card-box",attrs:{span:12}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("内存")])]),e._v(" "),a("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[a("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[a("thead",[a("tr",[a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("属性")])]),e._v(" "),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("内存")])]),e._v(" "),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("JVM")])])])]),e._v(" "),a("tbody",[a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("总内存")])]),e._v(" "),a("td",[e.server.mem?a("div",{staticClass:"cell"},[e._v(e._s(e.server.mem.total)+"G")]):e._e()]),e._v(" "),a("td",[e.server.jvm?a("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.total)+"M")]):e._e()])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("已用内存")])]),e._v(" "),a("td",[e.server.mem?a("div",{staticClass:"cell"},[e._v(e._s(e.server.mem.used)+"G")]):e._e()]),e._v(" "),a("td",[e.server.jvm?a("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.used)+"M")]):e._e()])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("剩余内存")])]),e._v(" "),a("td",[e.server.mem?a("div",{staticClass:"cell"},[e._v(e._s(e.server.mem.free)+"G")]):e._e()]),e._v(" "),a("td",[e.server.jvm?a("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.free)+"M")]):e._e()])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("使用率")])]),e._v(" "),a("td",[e.server.mem?a("div",{staticClass:"cell",class:{"text-danger":e.server.mem.usage>80}},[e._v(e._s(e.server.mem.usage)+"%")]):e._e()]),e._v(" "),a("td",[e.server.jvm?a("div",{staticClass:"cell",class:{"text-danger":e.server.jvm.usage>80}},[e._v(e._s(e.server.jvm.usage)+"%")]):e._e()])])])])])])],1),e._v(" "),a("el-col",{staticClass:"card-box",attrs:{span:24}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("服务器信息")])]),e._v(" "),a("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[a("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[a("tbody",[a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("服务器名称")])]),e._v(" "),a("td",[e.server.sys?a("div",{staticClass:"cell"},[e._v(e._s(e.server.sys.computerName))]):e._e()]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v("操作系统")])]),e._v(" "),a("td",[e.server.sys?a("div",{staticClass:"cell"},[e._v(e._s(e.server.sys.osName))]):e._e()])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("服务器IP")])]),e._v(" "),a("td",[e.server.sys?a("div",{staticClass:"cell"},[e._v(e._s(e.server.sys.computerIp))]):e._e()]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v("系统架构")])]),e._v(" "),a("td",[e.server.sys?a("div",{staticClass:"cell"},[e._v(e._s(e.server.sys.osArch))]):e._e()])])])])])])],1),e._v(" "),a("el-col",{staticClass:"card-box",attrs:{span:24}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("Java虚拟机信息")])]),e._v(" "),a("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[a("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[a("tbody",[a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("Java名称")])]),e._v(" "),a("td",[e.server.jvm?a("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.name))]):e._e()]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v("Java版本")])]),e._v(" "),a("td",[e.server.jvm?a("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.version))]):e._e()])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("启动时间")])]),e._v(" "),a("td",[e.server.jvm?a("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.startTime))]):e._e()]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v("运行时长")])]),e._v(" "),a("td",[e.server.jvm?a("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.runTime))]):e._e()])]),e._v(" "),a("tr",[a("td",{attrs:{colspan:"1"}},[a("div",{staticClass:"cell"},[e._v("安装路径")])]),e._v(" "),a("td",{attrs:{colspan:"3"}},[e.server.jvm?a("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.home))]):e._e()])]),e._v(" "),a("tr",[a("td",{attrs:{colspan:"1"}},[a("div",{staticClass:"cell"},[e._v("项目路径")])]),e._v(" "),a("td",{attrs:{colspan:"3"}},[e.server.sys?a("div",{staticClass:"cell"},[e._v(e._s(e.server.sys.userDir))]):e._e()])])])])])])],1),e._v(" "),a("el-col",{staticClass:"card-box",attrs:{span:24}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("磁盘状态")])]),e._v(" "),a("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[a("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[a("thead",[a("tr",[a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("盘符路径")])]),e._v(" "),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("文件系统")])]),e._v(" "),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("盘符类型")])]),e._v(" "),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("总大小")])]),e._v(" "),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("可用大小")])]),e._v(" "),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("已用大小")])]),e._v(" "),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("已用百分比")])])])]),e._v(" "),e.server.sysFiles?a("tbody",e._l(e.server.sysFiles,(function(t){return a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v(e._s(t.dirName))])]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(t.sysTypeName))])]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(t.typeName))])]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(t.total))])]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(t.free))])]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(t.used))])]),e._v(" "),a("td",[a("div",{staticClass:"cell",class:{"text-danger":t.usage>80}},[e._v(e._s(t.usage)+"%")])])])})),0):e._e()])])])],1)],1)],1)},r=[],n=a("cc0b"),o={name:"Server",data:function(){return{loading:[],server:[]}},created:function(){this.getList(),this.openLoading()},methods:{getList:function(){var e=this;Object(n["a"])().then((function(t){e.server=t.data,e.loading.close()}))},openLoading:function(){this.loading=this.$loading({lock:!0,text:"拼命读取中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"})}}},l=o,s=a("2877"),c=Object(s["a"])(l,i,r,!1,null,null,null);t["default"]=c.exports},"2b48":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},r=[],n=a("313e"),o=a.n(n),l=a("8e41"),s=a("bc3a"),c=a.n(s);a("817d");var u=6e3,d={mixins:[l["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null,tuBiaoData:""}},mounted:function(){},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},created:function(){var e=this;this.getTuBiao(c.a.get("/prod-api/xxrd/nyjkSeriesCydl",{params:{}}).then((function(t){e.tuBiaoData=t.data.data.cydlSeries,e.$nextTick((function(){e.initChart()}))})).catch((function(e){console.log("获取数据失败")})))},methods:{initChart:function(){this.chart=o.a.init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{top:10,left:"2%",right:"2%",bottom:"3%",containLabel:!0},xAxis:{type:"time",splitLine:{show:!1}},yAxis:[{type:"value",axisTick:{show:!1}}],series:[{name:this.tuBiaoData[0].seriesName,type:"bar",stack:"vistors",barWidth:"60%",data:this.tuBiaoData[0].seriesDataEchart,animationDuration:u},{name:this.tuBiaoData[1].seriesName,type:"bar",stack:"vistors",barWidth:"60%",data:this.tuBiaoData[1].seriesDataEchart,animationDuration:u},{name:this.tuBiaoData[2].seriesName,type:"bar",stack:"vistors",barWidth:"60%",data:this.tuBiaoData[2].seriesDataEchart,animationDuration:u},{name:this.tuBiaoData[3].seriesName,type:"bar",stack:"vistors",barWidth:"60%",data:this.tuBiaoData[3].seriesDataEchart,animationDuration:u}]})}}},m=d,p=a("2877"),f=Object(p["a"])(m,i,r,!1,null,null,null);t["default"]=f.exports},"2c37":function(e,t,a){"use strict";var i=a("186b"),r=a.n(i);r.a},"2db4":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},r=[],n=a("313e"),o=a.n(n),l=a("8e41"),s=a("bc3a"),c=a.n(s);a("817d");var u={mixins:[l["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"350px"}},data:function(){return{chart:null,tuBiaoData2:""}},mounted:function(){},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},created:function(){var e=this;this.getTuBiao(c.a.get("/prod-api/xxrd/nyjkSeriesGdmh",{params:{}}).then((function(t){e.tuBiaoData2=t.data.data.gdmhSeries,e.$nextTick((function(){e.initChart()}))})).catch((function(e){console.log("获取数据失败")})))},methods:{initChart:function(){this.chart=o.a.init(this.$el,"macarons"),this.chart.setOption({xAxis:{type:"time",splitLine:{show:!1}},grid:{left:10,right:10,bottom:20,top:30,containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross"},padding:[5,10]},yAxis:{axisTick:{show:!1}},legend:{data:[this.tuBiaoData2[0].seriesName,this.tuBiaoData2[1].seriesName,this.tuBiaoData2[2].seriesName,this.tuBiaoData2[3].seriesName]},series:[{name:this.tuBiaoData2[0].seriesName,itemStyle:{normal:{color:"#FF005A",lineStyle:{color:"#FF005A",width:2}}},smooth:!0,type:"line",data:this.tuBiaoData2[0].seriesDataEchart,animationDuration:2800,animationEasing:"cubicInOut"},{name:this.tuBiaoData2[1].seriesName,smooth:!0,type:"line",itemStyle:{normal:{color:"#3888fa",lineStyle:{color:"#3888fa",width:2},areaStyle:{color:"#f3f8ff"}}},data:this.tuBiaoData2[1].seriesDataEchart,animationDuration:2800,animationEasing:"quadraticOut"},{name:this.tuBiaoData2[2].seriesName,smooth:!0,type:"line",itemStyle:{normal:{color:"#dd960f",lineStyle:{color:"#dd960f",width:2},areaStyle:{color:"#f3f8ff"}}},data:this.tuBiaoData2[2].seriesDataEchart,animationDuration:2800,animationEasing:"quadraticOut"},{name:this.tuBiaoData2[3].seriesName,smooth:!0,type:"line",itemStyle:{normal:{color:"#8b0037",lineStyle:{color:"#8b0037",width:2},areaStyle:{color:"#f3f8ff"}}},data:this.tuBiaoData2[3].seriesDataEchart,animationDuration:2800,animationEasing:"quadraticOut"}]})}}},d=u,m=a("2877"),p=Object(m["a"])(d,i,r,!1,null,null,null);t["default"]=p.exports},"2e2a":function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return r})),a.d(t,"d",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"e",(function(){return l}));var i={formRef:"elForm",formModel:"formData",size:"medium",labelPosition:"right",labelWidth:100,formRules:"rules",gutter:15,disabled:!1,span:24,formBtns:!0},r=[{label:"单行文本",tag:"el-input",tagIcon:"input",placeholder:"请输入",defaultValue:void 0,span:24,labelWidth:null,style:{width:"100%"},clearable:!0,prepend:"",append:"","prefix-icon":"","suffix-icon":"",maxlength:null,"show-word-limit":!1,readonly:!1,disabled:!1,required:!0,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/input"},{label:"多行文本",tag:"el-input",tagIcon:"textarea",type:"textarea",placeholder:"请输入",defaultValue:void 0,span:24,labelWidth:null,autosize:{minRows:4,maxRows:4},style:{width:"100%"},maxlength:null,"show-word-limit":!1,readonly:!1,disabled:!1,required:!0,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/input"},{label:"密码",tag:"el-input",tagIcon:"password",placeholder:"请输入",defaultValue:void 0,span:24,"show-password":!0,labelWidth:null,style:{width:"100%"},clearable:!0,prepend:"",append:"","prefix-icon":"","suffix-icon":"",maxlength:null,"show-word-limit":!1,readonly:!1,disabled:!1,required:!0,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/input"},{label:"计数器",tag:"el-input-number",tagIcon:"number",placeholder:"",defaultValue:void 0,span:24,labelWidth:null,min:void 0,max:void 0,step:void 0,"step-strictly":!1,precision:void 0,"controls-position":"",disabled:!1,required:!0,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/input-number"}],n=[{label:"下拉选择",tag:"el-select",tagIcon:"select",placeholder:"请选择",defaultValue:void 0,span:24,labelWidth:null,style:{width:"100%"},clearable:!0,disabled:!1,required:!0,filterable:!1,multiple:!1,options:[{label:"选项一",value:1},{label:"选项二",value:2}],regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/select"},{label:"级联选择",tag:"el-cascader",tagIcon:"cascader",placeholder:"请选择",defaultValue:[],span:24,labelWidth:null,style:{width:"100%"},props:{props:{multiple:!1}},"show-all-levels":!0,disabled:!1,clearable:!0,filterable:!1,required:!0,options:[{id:1,value:1,label:"选项1",children:[{id:2,value:2,label:"选项1-1"}]}],dataType:"dynamic",labelKey:"label",valueKey:"value",childrenKey:"children",separator:"/",regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/cascader"},{label:"单选框组",tag:"el-radio-group",tagIcon:"radio",defaultValue:void 0,span:24,labelWidth:null,style:{},optionType:"default",border:!1,size:"medium",disabled:!1,required:!0,options:[{label:"选项一",value:1},{label:"选项二",value:2}],regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/radio"},{label:"多选框组",tag:"el-checkbox-group",tagIcon:"checkbox",defaultValue:[],span:24,labelWidth:null,style:{},optionType:"default",border:!1,size:"medium",disabled:!1,required:!0,options:[{label:"选项一",value:1},{label:"选项二",value:2}],regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/checkbox"},{label:"开关",tag:"el-switch",tagIcon:"switch",defaultValue:!1,span:24,labelWidth:null,style:{},disabled:!1,required:!0,"active-text":"","inactive-text":"","active-color":null,"inactive-color":null,"active-value":!0,"inactive-value":!1,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/switch"},{label:"滑块",tag:"el-slider",tagIcon:"slider",defaultValue:null,span:24,labelWidth:null,disabled:!1,required:!0,min:0,max:100,step:1,"show-stops":!1,range:!1,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/slider"},{label:"时间选择",tag:"el-time-picker",tagIcon:"time",placeholder:"请选择",defaultValue:null,span:24,labelWidth:null,style:{width:"100%"},disabled:!1,clearable:!0,required:!0,"picker-options":{selectableRange:"00:00:00-23:59:59"},format:"HH:mm:ss","value-format":"HH:mm:ss",regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/time-picker"},{label:"时间范围",tag:"el-time-picker",tagIcon:"time-range",defaultValue:null,span:24,labelWidth:null,style:{width:"100%"},disabled:!1,clearable:!0,required:!0,"is-range":!0,"range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",format:"HH:mm:ss","value-format":"HH:mm:ss",regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/time-picker"},{label:"日期选择",tag:"el-date-picker",tagIcon:"date",placeholder:"请选择",defaultValue:null,type:"date",span:24,labelWidth:null,style:{width:"100%"},disabled:!1,clearable:!0,required:!0,format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",readonly:!1,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/date-picker"},{label:"日期范围",tag:"el-date-picker",tagIcon:"date-range",defaultValue:null,span:24,labelWidth:null,style:{width:"100%"},type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",disabled:!1,clearable:!0,required:!0,format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",readonly:!1,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/date-picker"},{label:"评分",tag:"el-rate",tagIcon:"rate",defaultValue:0,span:24,labelWidth:null,style:{},max:5,"allow-half":!1,"show-text":!1,"show-score":!1,disabled:!1,required:!0,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/rate"},{label:"颜色选择",tag:"el-color-picker",tagIcon:"color",defaultValue:null,labelWidth:null,"show-alpha":!1,"color-format":"",disabled:!1,required:!0,size:"medium",regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/color-picker"},{label:"上传",tag:"el-upload",tagIcon:"upload",action:"https://jsonplaceholder.typicode.com/posts/",defaultValue:null,labelWidth:null,disabled:!1,required:!0,accept:"",name:"file","auto-upload":!0,showTip:!1,buttonText:"点击上传",fileSize:2,sizeUnit:"MB","list-type":"text",multiple:!1,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/upload"}],o=[{layout:"rowFormItem",tagIcon:"row",type:"default",justify:"start",align:"top",label:"行容器",layoutTree:!0,children:[],document:"https://element.eleme.cn/#/zh-CN/component/layout"}],l={"el-input":"blur","el-input-number":"blur","el-select":"change","el-radio-group":"change","el-checkbox-group":"change","el-cascader":"change","el-time-picker":"change","el-date-picker":"change","el-rate":"change"}},"2eca":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.name,callback:function(t){e.$set(e.queryParams,"name",t)},expression:"queryParams.name"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:variety:add"],expression:"['sirui:variety:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:variety:edit"],expression:"['sirui:variety:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.varietyList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"名称",align:"center",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:"编码",align:"center",prop:"coding"}}),e._v(" "),a("el-table-column",{attrs:{label:"参考折标系数",align:"center",prop:"referenceZbxs"}}),e._v(" "),a("el-table-column",{attrs:{label:"采纳折标系数",align:"center",prop:"adoptionZbxs"}}),e._v(" "),a("el-table-column",{attrs:{label:"折标系数单位",align:"center",prop:"zbxsUnit"}}),e._v(" "),a("el-table-column",{attrs:{label:"单位",align:"center",prop:"unit"}}),e._v(" "),a("el-table-column",{attrs:{label:"数据分类",align:"center",prop:"dataType",formatter:e.dataTypeFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:variety:edit"],expression:"['sirui:variety:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"编码",prop:"coding"}},[a("el-input",{attrs:{placeholder:"请输入编码"},model:{value:e.form.coding,callback:function(t){e.$set(e.form,"coding",t)},expression:"form.coding"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"参考折标系数",prop:"referenceZbxs"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.referenceZbxs,callback:function(t){e.$set(e.form,"referenceZbxs",t)},expression:"form.referenceZbxs"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"采纳折标系数",prop:"adoptionZbxs"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.adoptionZbxs,callback:function(t){e.$set(e.form,"adoptionZbxs",t)},expression:"form.adoptionZbxs"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"折标系数单位",prop:"zbxsUnit"}},[a("el-input",{attrs:{placeholder:"请输入折标系数单位"},model:{value:e.form.zbxsUnit,callback:function(t){e.$set(e.form,"zbxsUnit",t)},expression:"form.zbxsUnit"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"单位",prop:"unit"}},[a("el-input",{attrs:{placeholder:"请输入单位"},model:{value:e.form.unit,callback:function(t){e.$set(e.form,"unit",t)},expression:"form.unit"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"数据分类"}},[a("el-select",{attrs:{placeholder:"请选择数据分类"},model:{value:e.form.dataType,callback:function(t){e.$set(e.form,"dataType",t)},expression:"form.dataType"}},e._l(e.dataTypeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=a("b775");function o(e){return Object(n["a"])({url:"/sirui/variety/list",method:"get",params:e})}function l(e){return Object(n["a"])({url:"/sirui/variety/"+e,method:"get"})}function s(e){return Object(n["a"])({url:"/sirui/variety",method:"post",data:e})}function c(e){return Object(n["a"])({url:"/sirui/variety",method:"put",data:e})}function u(e){return Object(n["a"])({url:"/sirui/variety/"+e,method:"delete"})}function d(e){return Object(n["a"])({url:"/sirui/variety/export",method:"get",params:e})}var m={name:"Variety",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,varietyList:[],dataTypeOptions:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,name:void 0,coding:void 0,referenceZbxs:void 0,adoptionZbxs:void 0,zbxsUnit:void 0,unit:void 0},form:{},rules:{}}},created:function(){var e=this;this.getList(),this.getDicts("sirui_data_type").then((function(t){e.dataTypeOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,o(this.queryParams).then((function(t){e.varietyList=t.rows,e.total=t.total,e.loading=!1}))},dataTypeFormat:function(e,t){return this.selectDictLabel(this.dataTypeOptions,e.dataType)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,name:void 0,coding:void 0,referenceZbxs:void 0,adoptionZbxs:void 0,zbxsUnit:void 0,unit:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加能源品种"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;l(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改能源品种"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?c(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):s(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除能源品种编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有能源品种数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return d(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},p=m,f=a("2877"),v=Object(f["a"])(p,i,r,!1,null,null,null);t["default"]=v.exports},3040:function(e,t,a){},"30e5":function(e,t,a){"use strict";a.r(t);var i=a("ed08");t["default"]={data:function(){return{$_sidebarElm:null,$_resizeHandler:null}},mounted:function(){this.initListener()},activated:function(){this.$_resizeHandler||this.initListener(),this.resize()},beforeDestroy:function(){this.destroyListener()},deactivated:function(){this.destroyListener()},methods:{$_sidebarResizeHandler:function(e){"width"===e.propertyName&&this.$_resizeHandler()},initListener:function(){var e=this;this.$_resizeHandler=Object(i["c"])((function(){e.resize()}),100),window.addEventListener("resize",this.$_resizeHandler),this.$_sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener("transitionend",this.$_sidebarResizeHandler)},destroyListener:function(){window.removeEventListener("resize",this.$_resizeHandler),this.$_resizeHandler=null,this.$_sidebarElm&&this.$_sidebarElm.removeEventListener("transitionend",this.$_sidebarResizeHandler)},resize:function(){var e=this.chart;e&&e.resize()}}}},"315e":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"编码",prop:"code"}},[a("el-input",{attrs:{placeholder:"请输入生产工序编码",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.code,callback:function(t){e.$set(e.queryParams,"code",t)},expression:"queryParams.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.name,callback:function(t){e.$set(e.queryParams,"name",t)},expression:"queryParams.name"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}}),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.typeList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{label:"生产工序编码",align:"center",prop:"code"}}),e._v(" "),a("el-table-column",{attrs:{label:"名称",align:"center",prop:"name"}})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"生产工序编码",prop:"code"}},[a("el-input",{attrs:{placeholder:"请输入生产工序编码"},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=a("b775");function o(e){return Object(n["a"])({url:"/sirui/downEntType/list",method:"get",params:e})}function l(e){return Object(n["a"])({url:"/sirui/downEntType/"+e,method:"get"})}function s(e){return Object(n["a"])({url:"/sirui/downEntType",method:"post",data:e})}function c(e){return Object(n["a"])({url:"/sirui/downEntType",method:"put",data:e})}function u(e){return Object(n["a"])({url:"/sirui/downEntType/"+e,method:"delete"})}function d(e){return Object(n["a"])({url:"/sirui/downEntType/export",method:"get",params:e})}var m={name:"Type",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,typeList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,code:void 0,name:void 0},form:{},rules:{}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,o(this.queryParams).then((function(t){e.typeList=t.rows,e.total=t.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,code:void 0,name:void 0,createBy:void 0,createTime:void 0,updateBy:void 0,updateTime:void 0,remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加单位类别编码(基础数据下载)"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;l(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改单位类别编码(基础数据下载)"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?c(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):s(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除单位类别编码(基础数据下载)编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有单位类别编码(基础数据下载)数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return d(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},p=m,f=a("2877"),v=Object(f["a"])(p,i,r,!1,null,null,null);t["default"]=v.exports},"32c1":function(e,t,a){"use strict";var i=a("9055"),r=a.n(i);r.a},"37e7":function(e,t,a){"use strict";var i=a("ef00"),r=a.n(i);r.a},"397a":function(e,t,a){"use strict";var i=a("637a"),r=a.n(i);r.a},"3a7e":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"icons-container"},[e._m(0),e._v(" "),a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"Icons"}},e._l(e.svgIcons,(function(t){return a("div",{key:t},[a("el-tooltip",{attrs:{placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n            "+e._s(e.generateIconCode(t))+"\n          ")]),e._v(" "),a("div",{staticClass:"icon-item"},[a("svg-icon",{attrs:{"icon-class":t,"class-name":"disabled"}}),e._v(" "),a("span",[e._v(e._s(t))])],1)])],1)})),0),e._v(" "),a("el-tab-pane",{attrs:{label:"Element-UI Icons"}},e._l(e.elementIcons,(function(t){return a("div",{key:t},[a("el-tooltip",{attrs:{placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n            "+e._s(e.generateElementIconCode(t))+"\n          ")]),e._v(" "),a("div",{staticClass:"icon-item"},[a("i",{class:"el-icon-"+t}),e._v(" "),a("span",[e._v(e._s(t))])])])],1)})),0)],1)],1)},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("aside",[a("a",{attrs:{href:"#",target:"_blank"}},[e._v("Add and use\n    ")])])}],n=a("c7e9"),o=a("bb49"),l={name:"Icons",data:function(){return{svgIcons:n["default"],elementIcons:o["default"]}},methods:{generateIconCode:function(e){return'<svg-icon icon-class="'.concat(e,'" />')},generateElementIconCode:function(e){return'<i class="el-icon-'.concat(e,'" />')}}},s=l,c=(a("2065"),a("2877")),u=Object(c["a"])(s,i,r,!1,null,"eaecd1d2",null);t["default"]=u.exports},"3bc9":function(e,t,a){},"3da3":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:enterprise:add"],expression:"['sirui:enterprise:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:enterprise:edit"],expression:"['sirui:enterprise:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:enterprise:remove"],expression:"['sirui:enterprise:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:enterprise:export"],expression:"['sirui:enterprise:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.enterpriseList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"ID",align:"center",prop:"id"}}),e._v(" "),a("el-table-column",{attrs:{label:"统一社会信用代码",align:"center",prop:"code"}}),e._v(" "),a("el-table-column",{attrs:{label:"单位名称",align:"center",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:"单位类型",align:"center",prop:"typeCode"}}),e._v(" "),a("el-table-column",{attrs:{label:"单位类型名",align:"center",prop:"typeName"}}),e._v(" "),a("el-table-column",{attrs:{label:"行业编码",align:"center",prop:"industryCode"}}),e._v(" "),a("el-table-column",{attrs:{label:"区域编码",align:"center",prop:"regionCode"}}),e._v(" "),a("el-table-column",{attrs:{label:"地区名",align:"center",prop:"regionName"}}),e._v(" "),a("el-table-column",{attrs:{label:"是否央企",align:"center",prop:"center",formatter:e.centerFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"统一社会信用代码",align:"center",prop:"corporationCode"}}),e._v(" "),a("el-table-column",{attrs:{label:"是否加工转换类企业",align:"center",prop:"jgzh",formatter:e.jgzhFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"能源消耗水平",align:"center",prop:"energyConsumeLevel",formatter:e.energyConsumeLevelFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"厂址中心纬度",align:"center",prop:"latitude"}}),e._v(" "),a("el-table-column",{attrs:{label:"厂址中心经度",align:"center",prop:"longitude"}}),e._v(" "),a("el-table-column",{attrs:{label:"企业联系电话",align:"center",prop:"phone"}}),e._v(" "),a("el-table-column",{attrs:{label:"传真",align:"center",prop:"fax"}}),e._v(" "),a("el-table-column",{attrs:{label:"电子邮箱",align:"center",prop:"email"}}),e._v(" "),a("el-table-column",{attrs:{label:"地址",align:"center",prop:"address"}}),e._v(" "),a("el-table-column",{attrs:{label:"邮编",align:"center",prop:"zipCode"}}),e._v(" "),a("el-table-column",{attrs:{label:"用能单位网站地址",align:"center",prop:"url"}}),e._v(" "),a("el-table-column",{attrs:{label:"领域编码",align:"center",prop:"fieldCode",formatter:e.fieldCodeFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"领域名称",align:"center",prop:"fieldname"}}),e._v(" "),a("el-table-column",{attrs:{label:"法人代表",align:"center",prop:"corporationName"}}),e._v(" "),a("el-table-column",{attrs:{label:"注册日期",align:"center",prop:"registerDate",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.registerDate,"{y}-{m}-{d}")))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"注册资金",align:"center",prop:"registerPrincipal"}}),e._v(" "),a("el-table-column",{attrs:{label:"能管机构名称",align:"center",prop:"energyOffice"}}),e._v(" "),a("el-table-column",{attrs:{label:"主管节能领导姓名",align:"center",prop:"energyOfficial"}}),e._v(" "),a("el-table-column",{attrs:{label:"主管节能领导职位",align:"center",prop:"energyOfficialPosition"}}),e._v(" "),a("el-table-column",{attrs:{label:"主管节能领导电话",align:"center",prop:"energyOfficialPhone"}}),e._v(" "),a("el-table-column",{attrs:{label:"是否通过能源管理体系认证",align:"center",prop:"energyPass",formatter:e.energyPassFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"能管负责人姓名",align:"center",prop:"energyRespName"}}),e._v(" "),a("el-table-column",{attrs:{label:"能管负责人电话",align:"center",prop:"energyrespphone"}}),e._v(" "),a("el-table-column",{attrs:{label:"认证日期",align:"center",prop:"passDate",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.passDate,"{y}-{m}-{d}")))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"认证机构",align:"center",prop:"passorg"}}),e._v(" "),a("el-table-column",{attrs:{label:"企业主要生产线名称",align:"center",prop:"productionLine"}}),e._v(" "),a("el-table-column",{attrs:{label:"企业主导产品",align:"center",prop:"leadingProduct"}}),e._v(" "),a("el-table-column",{attrs:{label:" 集团名称",align:"center",prop:"groupName"}}),e._v(" "),a("el-table-column",{attrs:{label:"集团地址",align:"center",prop:"groupAddress"}}),e._v(" "),a("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:enterprise:edit"],expression:"['sirui:enterprise:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:enterprise:remove"],expression:"['sirui:enterprise:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"统一社会信用代码",prop:"code"}},[a("el-input",{attrs:{placeholder:"请输入统一社会信用代码"},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"单位名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入单位名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"单位类型",prop:"typeCode"}},[a("el-input",{attrs:{placeholder:"请输入单位类型"},model:{value:e.form.typeCode,callback:function(t){e.$set(e.form,"typeCode",t)},expression:"form.typeCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"单位类型名",prop:"typeName"}},[a("el-input",{attrs:{placeholder:"请输入单位类型名"},model:{value:e.form.typeName,callback:function(t){e.$set(e.form,"typeName",t)},expression:"form.typeName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"行业编码",prop:"industryCode"}},[a("el-input",{attrs:{placeholder:"请输入行业编码"},model:{value:e.form.industryCode,callback:function(t){e.$set(e.form,"industryCode",t)},expression:"form.industryCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"区域编码",prop:"regionCode"}},[a("el-input",{attrs:{placeholder:"请输入区域编码"},model:{value:e.form.regionCode,callback:function(t){e.$set(e.form,"regionCode",t)},expression:"form.regionCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"地区名",prop:"regionName"}},[a("el-input",{attrs:{placeholder:"请输入地区名"},model:{value:e.form.regionName,callback:function(t){e.$set(e.form,"regionName",t)},expression:"form.regionName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否央企"}},[a("el-select",{attrs:{placeholder:"请选择是否央企"},model:{value:e.form.center,callback:function(t){e.$set(e.form,"center",t)},expression:"form.center"}},e._l(e.centerOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"统一社会信用代码",prop:"corporationCode"}},[a("el-input",{attrs:{placeholder:"请输入统一社会信用代码"},model:{value:e.form.corporationCode,callback:function(t){e.$set(e.form,"corporationCode",t)},expression:"form.corporationCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否加工转换类企业"}},[a("el-select",{attrs:{placeholder:"请选择是否加工转换类企业"},model:{value:e.form.jgzh,callback:function(t){e.$set(e.form,"jgzh",t)},expression:"form.jgzh"}},e._l(e.jgzhOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"能源消耗水平"}},[a("el-select",{attrs:{placeholder:"请选择能源消耗水平"},model:{value:e.form.energyConsumeLevel,callback:function(t){e.$set(e.form,"energyConsumeLevel",t)},expression:"form.energyConsumeLevel"}},e._l(e.energyConsumeLevelOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:parseInt(e.dictValue)}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"厂址中心纬度",prop:"latitude"}},[a("el-input",{attrs:{placeholder:"请输入厂址中心纬度"},model:{value:e.form.latitude,callback:function(t){e.$set(e.form,"latitude",t)},expression:"form.latitude"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"厂址中心经度",prop:"longitude"}},[a("el-input",{attrs:{placeholder:"请输入厂址中心经度"},model:{value:e.form.longitude,callback:function(t){e.$set(e.form,"longitude",t)},expression:"form.longitude"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"企业联系电话",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入企业联系电话"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"传真",prop:"fax"}},[a("el-input",{attrs:{placeholder:"请输入传真"},model:{value:e.form.fax,callback:function(t){e.$set(e.form,"fax",t)},expression:"form.fax"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"电子邮箱",prop:"email"}},[a("el-input",{attrs:{placeholder:"请输入电子邮箱"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"地址",prop:"address"}},[a("el-input",{attrs:{placeholder:"请输入地址"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮编",prop:"zipCode"}},[a("el-input",{attrs:{placeholder:"请输入邮编"},model:{value:e.form.zipCode,callback:function(t){e.$set(e.form,"zipCode",t)},expression:"form.zipCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用能单位网站地址",prop:"url"}},[a("el-input",{attrs:{placeholder:"请输入用能单位网站地址"},model:{value:e.form.url,callback:function(t){e.$set(e.form,"url",t)},expression:"form.url"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"领域编码"}},[a("el-select",{attrs:{placeholder:"请选择领域编码"},model:{value:e.form.fieldCode,callback:function(t){e.$set(e.form,"fieldCode",t)},expression:"form.fieldCode"}},e._l(e.fieldCodeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"领域名称",prop:"fieldname"}},[a("el-input",{attrs:{placeholder:"请输入领域名称"},model:{value:e.form.fieldname,callback:function(t){e.$set(e.form,"fieldname",t)},expression:"form.fieldname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"法人代表",prop:"corporationName"}},[a("el-input",{attrs:{placeholder:"请输入法人代表"},model:{value:e.form.corporationName,callback:function(t){e.$set(e.form,"corporationName",t)},expression:"form.corporationName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"注册日期",prop:"registerDate"}},[a("el-date-picker",{staticStyle:{width:"200px"},attrs:{clearable:"",size:"small",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择注册日期"},model:{value:e.form.registerDate,callback:function(t){e.$set(e.form,"registerDate",t)},expression:"form.registerDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"注册资金",prop:"registerPrincipal"}},[a("el-input",{attrs:{placeholder:"请输入注册资金"},model:{value:e.form.registerPrincipal,callback:function(t){e.$set(e.form,"registerPrincipal",t)},expression:"form.registerPrincipal"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"能管机构名称",prop:"energyOffice"}},[a("el-input",{attrs:{placeholder:"请输入能管机构名称"},model:{value:e.form.energyOffice,callback:function(t){e.$set(e.form,"energyOffice",t)},expression:"form.energyOffice"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"主管节能领导姓名",prop:"energyOfficial"}},[a("el-input",{attrs:{placeholder:"请输入主管节能领导姓名"},model:{value:e.form.energyOfficial,callback:function(t){e.$set(e.form,"energyOfficial",t)},expression:"form.energyOfficial"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"主管节能领导职位",prop:"energyOfficialPosition"}},[a("el-input",{attrs:{placeholder:"请输入主管节能领导职位"},model:{value:e.form.energyOfficialPosition,callback:function(t){e.$set(e.form,"energyOfficialPosition",t)},expression:"form.energyOfficialPosition"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"主管节能领导电话",prop:"energyOfficialPhone"}},[a("el-input",{attrs:{placeholder:"请输入主管节能领导电话"},model:{value:e.form.energyOfficialPhone,callback:function(t){e.$set(e.form,"energyOfficialPhone",t)},expression:"form.energyOfficialPhone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否通过能源管理体系认证",prop:"energyPass"}},[a("el-select",{attrs:{placeholder:"请选择是否通过能源管理体系认证"},model:{value:e.form.energyPass,callback:function(t){e.$set(e.form,"energyPass",t)},expression:"form.energyPass"}},e._l(e.energyPasses,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"能管负责人姓名",prop:"energyRespName"}},[a("el-input",{attrs:{placeholder:"请输入能管负责人姓名"},model:{value:e.form.energyRespName,callback:function(t){e.$set(e.form,"energyRespName",t)},expression:"form.energyRespName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"能管负责人电话",prop:"energyrespphone"}},[a("el-input",{attrs:{placeholder:"请输入能管负责人电话"},model:{value:e.form.energyrespphone,callback:function(t){e.$set(e.form,"energyrespphone",t)},expression:"form.energyrespphone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"认证日期",prop:"passDate"}},[a("el-date-picker",{staticStyle:{width:"200px"},attrs:{clearable:"",size:"small",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择认证日期"},model:{value:e.form.passDate,callback:function(t){e.$set(e.form,"passDate",t)},expression:"form.passDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"认证机构",prop:"passorg"}},[a("el-input",{attrs:{placeholder:"请输入认证机构"},model:{value:e.form.passorg,callback:function(t){e.$set(e.form,"passorg",t)},expression:"form.passorg"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"企业主要生产线名称",prop:"productionLine"}},[a("el-input",{attrs:{placeholder:"请输入企业主要生产线名称"},model:{value:e.form.productionLine,callback:function(t){e.$set(e.form,"productionLine",t)},expression:"form.productionLine"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"企业主导产品",prop:"leadingProduct"}},[a("el-input",{attrs:{placeholder:"请输入企业主导产品"},model:{value:e.form.leadingProduct,callback:function(t){e.$set(e.form,"leadingProduct",t)},expression:"form.leadingProduct"}})],1),e._v(" "),a("el-form-item",{attrs:{label:" 集团名称",prop:"groupName"}},[a("el-input",{attrs:{placeholder:"请输入 集团名称"},model:{value:e.form.groupName,callback:function(t){e.$set(e.form,"groupName",t)},expression:"form.groupName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"集团地址",prop:"groupAddress"}},[a("el-input",{attrs:{placeholder:"请输入集团地址"},model:{value:e.form.groupAddress,callback:function(t){e.$set(e.form,"groupAddress",t)},expression:"form.groupAddress"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=a("b775");function o(e){return Object(n["a"])({url:"/sirui/enterprise/list",method:"get",params:e})}function l(e){return Object(n["a"])({url:"/sirui/enterprise/"+e,method:"get"})}function s(e){return Object(n["a"])({url:"/sirui/enterprise",method:"post",data:e})}function c(e){return Object(n["a"])({url:"/sirui/enterprise",method:"put",data:e})}function u(e){return Object(n["a"])({url:"/sirui/enterprise/"+e,method:"delete"})}function d(e){return Object(n["a"])({url:"/sirui/enterprise/export",method:"get",params:e})}var m={name:"Enterprise",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,enterpriseList:[],title:"",open:!1,centerOptions:[],energyPasses:[],jgzhOptions:[],energyConsumeLevelOptions:[],fieldCodeOptions:[],queryParams:{pageNum:1,pageSize:10},form:{},rules:{id:[{required:!0,message:"ID不能为空",trigger:"blur"}],code:[{required:!0,message:"统一社会信用代码不能为空",trigger:"blur"}],name:[{required:!0,message:"单位名称不能为空",trigger:"blur"}],typeCode:[{required:!0,message:"单位类型不能为空",trigger:"blur"}],typeName:[{required:!0,message:"单位类型名不能为空",trigger:"blur"}],industryCode:[{required:!0,message:"行业编码不能为空",trigger:"blur"}],regionCode:[{required:!0,message:"区域编码不能为空",trigger:"blur"}],regionName:[{required:!0,message:"地区名不能为空",trigger:"blur"}],center:[{required:!0,message:"是否央企不能为空",trigger:"blur"}],corporationCode:[{required:!0,message:"统一社会信用代码不能为空",trigger:"blur"}],jgzh:[{required:!0,message:"是否加工转换类企业不能为空",trigger:"blur"}],energyConsumeLevel:[{required:!0,message:"能源消耗水平不能为空",trigger:"blur"}],latitude:[{required:!0,message:"厂址中心纬度不能为空",trigger:"blur"}],longitude:[{required:!0,message:"厂址中心经度不能为空",trigger:"blur"}],phone:[{required:!0,message:"企业联系电话不能为空",trigger:"blur"}],fax:[{required:!0,message:"传真不能为空",trigger:"blur"}],email:[{required:!0,message:"电子邮箱不能为空",trigger:"blur"}],address:[{required:!0,message:"地址不能为空",trigger:"blur"}],zipCode:[{required:!0,message:"邮编不能为空",trigger:"blur"}],url:[{required:!0,message:"用能单位网站地址不能为空",trigger:"blur"}],fieldCode:[{required:!0,message:"领域编码不能为空",trigger:"blur"}],fieldname:[{required:!0,message:"领域名称不能为空",trigger:"blur"}],corporationName:[{required:!0,message:"法人代表不能为空",trigger:"blur"}],registerDate:[{required:!0,message:"注册日期不能为空",trigger:"blur"}],registerPrincipal:[{required:!0,message:"注册资金不能为空",trigger:"blur"}],energyOffice:[{required:!0,message:"能管机构名称不能为空",trigger:"blur"}],energyOfficial:[{required:!0,message:"主管节能领导姓名不能为空",trigger:"blur"}],energyOfficialPosition:[{required:!0,message:"主管节能领导职位不能为空",trigger:"blur"}],energyOfficialPhone:[{required:!0,message:"主管节能领导电话不能为空",trigger:"blur"}],energyPass:[{required:!0,message:"是否通过能源管理体系认证不能为空",trigger:"blur"}],energyRespName:[{required:!0,message:"能管负责人姓名不能为空",trigger:"blur"}],energyrespphone:[{required:!0,message:"能管负责人电话不能为空",trigger:"blur"}],passDate:[{required:!0,message:"认证日期不能为空",trigger:"blur"}],passorg:[{required:!0,message:"认证机构不能为空",trigger:"blur"}],productionLine:[{required:!0,message:"企业主要生产线名称不能为空",trigger:"blur"}],leadingProduct:[{required:!0,message:"企业主导产品不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sr_sjsc_center").then((function(t){e.centerOptions=t.data})),this.getDicts("sr_sjsc_center").then((function(t){e.energyPasses=t.data})),this.getDicts("sr_sjsc_jgzh").then((function(t){e.jgzhOptions=t.data})),this.getDicts("sr_sjsc_energyConsumeLevel").then((function(t){e.energyConsumeLevelOptions=t.data})),this.getDicts("sr_sjsc_fieldCode").then((function(t){e.fieldCodeOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,o(this.queryParams).then((function(t){e.enterpriseList=t.rows,e.total=t.total,e.loading=!1}))},centerFormat:function(e,t){return this.selectDictLabel(this.centerOptions,e.center)},energyPassFormat:function(e,t){return this.selectDictLabel(this.energyPasses,e.energyPass)},jgzhFormat:function(e,t){return this.selectDictLabel(this.jgzhOptions,e.jgzh)},energyConsumeLevelFormat:function(e,t){return this.selectDictLabel(this.energyConsumeLevelOptions,e.energyConsumeLevel)},fieldCodeFormat:function(e,t){return this.selectDictLabel(this.fieldCodeOptions,e.fieldCode)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,code:void 0,name:void 0,typeCode:void 0,typeName:void 0,industryCode:void 0,regionCode:void 0,regionName:void 0,center:void 0,corporationCode:void 0,jgzh:void 0,energyConsumeLevel:void 0,latitude:void 0,longitude:void 0,phone:void 0,fax:void 0,email:void 0,address:void 0,zipCode:void 0,url:void 0,fieldCode:void 0,fieldname:void 0,corporationName:void 0,registerDate:void 0,registerPrincipal:void 0,energyOffice:void 0,energyOfficial:void 0,energyOfficialPosition:void 0,energyOfficialPhone:void 0,energyPass:void 0,energyRespName:void 0,energyrespphone:void 0,passDate:void 0,passorg:void 0,productionLine:void 0,leadingProduct:void 0,groupName:void 0,groupAddress:void 0,createBy:void 0,createTime:void 0,updateBy:void 0,updateTime:void 0,remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加用能单位"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;l(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改用能单位"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?c(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):s(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除用能单位编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有用能单位数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return d(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},p=m,f=a("2877"),v=Object(f["a"])(p,i,r,!1,null,null,null);t["default"]=v.exports},"3eac":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"任务名称",prop:"jobName"}},[a("el-input",{attrs:{placeholder:"请输入任务名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.jobName,callback:function(t){e.$set(e.queryParams,"jobName",t)},expression:"queryParams.jobName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"任务组名",prop:"jobGroup"}},[a("el-select",{attrs:{placeholder:"请选择任务组名",clearable:"",size:"small"},model:{value:e.queryParams.jobGroup,callback:function(t){e.$set(e.queryParams,"jobGroup",t)},expression:"queryParams.jobGroup"}},e._l(e.jobGroupOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"任务状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"请选择任务状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:add"],expression:"['monitor:job:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:edit"],expression:"['monitor:job:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:remove"],expression:"['monitor:job:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:export"],expression:"['monitor:job:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:query"],expression:"['monitor:job:query']"}],attrs:{type:"info",icon:"el-icon-s-operation",size:"mini"},on:{click:e.handleJobLog}},[e._v("日志")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.jobList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"任务编号",align:"center",prop:"jobId"}}),e._v(" "),a("el-table-column",{attrs:{label:"任务名称",align:"center",prop:"jobName","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"任务组名",align:"center",prop:"jobGroup",formatter:e.jobGroupFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"调用目标字符串",align:"center",prop:"invokeTarget","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"cron执行表达式",align:"center",prop:"cronExpression","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":"0","inactive-value":"1"},on:{change:function(a){return e.handleStatusChange(t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:edit"],expression:"['monitor:job:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-caret-right"},on:{click:function(a){return e.handleRun(t.row)}}},[e._v("执行一次")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:query"],expression:"['monitor:job:query']"}],attrs:{size:"mini",type:"text",icon:"el-icon-view"},on:{click:function(a){return e.handleView(t.row)}}},[e._v("详细")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"700px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"任务名称",prop:"jobName"}},[a("el-input",{attrs:{placeholder:"请输入任务名称"},model:{value:e.form.jobName,callback:function(t){e.$set(e.form,"jobName",t)},expression:"form.jobName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"任务分组",prop:"jobGroup"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.jobGroup,callback:function(t){e.$set(e.form,"jobGroup",t)},expression:"form.jobGroup"}},e._l(e.jobGroupOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"invokeTarget"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("\n              调用方法\n              "),a("el-tooltip",{attrs:{placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n                  Bean调用示例：ryTask.ryParams('ry')\n                  "),a("br"),e._v("Class类调用示例：com.ruoyi.quartz.task.RyTask.ryParams('ry')\n                  "),a("br"),e._v("参数说明：支持字符串，布尔类型，长整型，浮点型，整型\n                ")]),e._v(" "),a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("el-input",{attrs:{placeholder:"请输入调用目标字符串"},model:{value:e.form.invokeTarget,callback:function(t){e.$set(e.form,"invokeTarget",t)},expression:"form.invokeTarget"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"cron表达式",prop:"cronExpression"}},[a("el-input",{attrs:{placeholder:"请输入cron执行表达式"},model:{value:e.form.cronExpression,callback:function(t){e.$set(e.form,"cronExpression",t)},expression:"form.cronExpression"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"是否并发",prop:"concurrent"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.form.concurrent,callback:function(t){e.$set(e.form,"concurrent",t)},expression:"form.concurrent"}},[a("el-radio-button",{attrs:{label:"0"}},[e._v("允许")]),e._v(" "),a("el-radio-button",{attrs:{label:"1"}},[e._v("禁止")])],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"错误策略",prop:"misfirePolicy"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.form.misfirePolicy,callback:function(t){e.$set(e.form,"misfirePolicy",t)},expression:"form.misfirePolicy"}},[a("el-radio-button",{attrs:{label:"1"}},[e._v("立即执行")]),e._v(" "),a("el-radio-button",{attrs:{label:"2"}},[e._v("执行一次")]),e._v(" "),a("el-radio-button",{attrs:{label:"3"}},[e._v("放弃执行")])],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"任务详细",visible:e.openView,width:"700px","append-to-body":""},on:{"update:visible":function(t){e.openView=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px",size:"mini"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"任务编号："}},[e._v(e._s(e.form.jobId))]),e._v(" "),a("el-form-item",{attrs:{label:"任务名称："}},[e._v(e._s(e.form.jobName))])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"任务分组："}},[e._v(e._s(e.jobGroupFormat(e.form)))]),e._v(" "),a("el-form-item",{attrs:{label:"创建时间："}},[e._v(e._s(e.form.createTime))])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"cron表达式："}},[e._v(e._s(e.form.cronExpression))])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"下次执行时间："}},[e._v(e._s(e.parseTime(e.form.nextValidTime)))])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"调用目标方法："}},[e._v(e._s(e.form.invokeTarget))])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"任务状态："}},[0==e.form.status?a("div",[e._v("正常")]):1==e.form.status?a("div",[e._v("失败")]):e._e()])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"是否并发："}},[0==e.form.concurrent?a("div",[e._v("允许")]):1==e.form.concurrent?a("div",[e._v("禁止")]):e._e()])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"执行策略："}},[0==e.form.misfirePolicy?a("div",[e._v("默认策略")]):1==e.form.misfirePolicy?a("div",[e._v("立即执行")]):2==e.form.misfirePolicy?a("div",[e._v("执行一次")]):3==e.form.misfirePolicy?a("div",[e._v("放弃执行")]):e._e()])],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.openView=!1}}},[e._v("关 闭")])],1)],1)],1)},r=[],n=a("a1590"),o={name:"Job",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,jobList:[],title:"",open:!1,openView:!1,jobGroupOptions:[],statusOptions:[],queryParams:{pageNum:1,pageSize:10,jobName:void 0,jobGroup:void 0,status:void 0},form:{},rules:{jobName:[{required:!0,message:"任务名称不能为空",trigger:"blur"}],invokeTarget:[{required:!0,message:"调用目标字符串不能为空",trigger:"blur"}],cronExpression:[{required:!0,message:"cron执行表达式不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_job_group").then((function(t){e.jobGroupOptions=t.data})),this.getDicts("sys_job_status").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,Object(n["f"])(this.queryParams).then((function(t){e.jobList=t.rows,e.total=t.total,e.loading=!1}))},jobGroupFormat:function(e,t){return this.selectDictLabel(this.jobGroupOptions,e.jobGroup)},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={jobId:void 0,jobName:void 0,jobGroup:void 0,invokeTarget:void 0,cronExpression:void 0,misfirePolicy:1,concurrent:1,status:"0"},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.jobId})),this.single=1!=e.length,this.multiple=!e.length},handleStatusChange:function(e){var t=this,a="0"===e.status?"启用":"停用";this.$confirm('确认要"'+a+'""'+e.jobName+'"任务吗?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["b"])(e.jobId,e.status)})).then((function(){t.msgSuccess(a+"成功")})).catch((function(){e.status="0"===e.status?"1":"0"}))},handleRun:function(e){var t=this;this.$confirm('确认要立即执行一次"'+e.jobName+'"任务吗?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["g"])(e.jobId,e.jobGroup)})).then((function(){t.msgSuccess("执行成功")})).catch((function(){}))},handleView:function(e){var t=this;Object(n["e"])(e.jobId).then((function(e){t.form=e.data,t.openView=!0}))},handleJobLog:function(){this.$router.push("/job/log")},handleAdd:function(){this.reset(),this.open=!0,this.title="添加任务"},handleUpdate:function(e){var t=this;this.reset();var a=e.jobId||this.ids;Object(n["e"])(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改任务"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.jobId?Object(n["h"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):Object(n["a"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this,a=e.jobId||this.ids;this.$confirm('是否确认删除定时任务编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["c"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有定时任务数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["d"])(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},l=o,s=a("2877"),c=Object(s["a"])(l,i,r,!1,null,null,null);t["default"]=c.exports},"40b8":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard-editor-container"},[a("el-row",{attrs:{gutter:32}},[a("el-col",{attrs:{xs:24,sm:24,lg:12}},[a("div",{staticClass:"chart-wrapper"},[a("div",{staticStyle:{height:"40px","line-height":"40px",color:"#333","font-weight":"600"}},[e._v("锅炉反平衡效率")]),e._v(" "),a("line-chart")],1)]),e._v(" "),a("el-col",{attrs:{xs:24,sm:24,lg:12}},[a("div",{staticClass:"chart-wrapper"},[a("div",{staticStyle:{height:"40px","line-height":"40px",color:"#333","font-weight":"600"}},[e._v("供电标煤耗率")]),e._v(" "),a("line1-chart")],1)])],1),e._v(" "),a("el-row",{attrs:{gutter:32}},[a("el-col",{attrs:{xs:24,sm:24,lg:8}},[a("div",{staticClass:"chart-wrapper"},[a("div",{staticStyle:{height:"40px","line-height":"40px",color:"#333","font-weight":"600"}},[e._v("发电热耗率")]),e._v(" "),a("raddar-chart")],1)]),e._v(" "),a("el-col",{attrs:{xs:24,sm:24,lg:8}},[a("div",{staticClass:"chart-wrapper"},[a("div",{staticStyle:{height:"40px","line-height":"40px",color:"#333","font-weight":"600"}},[e._v("发电标煤耗率")]),e._v(" "),a("pie-chart")],1)]),e._v(" "),a("el-col",{attrs:{xs:24,sm:24,lg:8}},[a("div",{staticClass:"chart-wrapper"},[a("div",{staticStyle:{height:"40px","line-height":"40px",color:"#333","font-weight":"600"}},[e._v("厂用电率")]),e._v(" "),a("bar-chart")],1)])],1)],1)},r=[],n=a("1ae6"),o=a("2db4"),l=a("d80b"),s=a("9705"),c=a("2b48"),u={name:"Index",components:{LineChart:n["default"],Line1Chart:o["default"],RaddarChart:l["default"],PieChart:s["default"],BarChart:c["default"]},data:function(){return{}},methods:{}},d=u,m=(a("9fc4"),a("2877")),p=Object(m["a"])(d,i,r,!1,null,"69bdd2e4",null);t["default"]=p.exports},4178:function(e,t,a){},4391:function(e,t,a){"use strict";var i=a("d281"),r=a.n(i);r.a},4823:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"数据范围",prop:"scope"}},[a("el-select",{attrs:{placeholder:"请选择数据范围",clearable:"",size:"small"},model:{value:e.queryParams.scope,callback:function(t){e.$set(e.queryParams,"scope",t)},expression:"queryParams.scope"}},e._l(e.scopeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"是否上传",prop:"isUpload"}},[a("el-select",{attrs:{placeholder:"请选择是否上传",clearable:"",size:"small"},model:{value:e.queryParams.isUpload,callback:function(t){e.$set(e.queryParams,"isUpload",t)},expression:"queryParams.isUpload"}},e._l(e.isUploadOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"上传状态",prop:"uploadStatus"}},[a("el-select",{attrs:{placeholder:"请选择上传状态",clearable:"",size:"small"},model:{value:e.queryParams.uploadStatus,callback:function(t){e.$set(e.queryParams,"uploadStatus",t)},expression:"queryParams.uploadStatus"}},e._l(e.uploadStatusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:data:add"],expression:"['sirui:data:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:data:add"],expression:"['sirui:data:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:function(t){return e.handleAddData("1")}}},[e._v("日数据")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:data:add"],expression:"['sirui:data:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:function(t){return e.handleAddData("2")}}},[e._v("月数据")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:data:edit"],expression:"['sirui:data:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:data:remove"],expression:"['sirui:data:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:data:export"],expression:"['sirui:data:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.dataList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"ID",align:"center",prop:"id"}}),e._v(" "),a("el-table-column",{attrs:{label:"数据标号",align:"center",prop:"dataCode"}}),e._v(" "),a("el-table-column",{attrs:{label:"数据项",align:"center",prop:"dataValue"}}),e._v(" "),a("el-table-column",{attrs:{label:"采集类型",align:"center",prop:"inputType",formatter:e.inputTypeFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"采集频率",align:"center",prop:"statType",formatter:e.statTypeFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"统计周期起始时间",align:"center",prop:"statDate",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.statDate,"{y}-{m}-{d}")))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"数据范围",align:"center",prop:"scope",formatter:e.scopeFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"数据有效性",align:"center",prop:"valid",formatter:e.validFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"是否上传",align:"center",prop:"isUpload",formatter:e.isUploadFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"上传状态",align:"center",prop:"uploadStatus",formatter:e.uploadStatusFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:data:edit"],expression:"['sirui:data:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:data:remove"],expression:"['sirui:data:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"数据标号",prop:"dataCode"}},[a("el-input",{attrs:{placeholder:"请输入数据标号"},model:{value:e.form.dataCode,callback:function(t){e.$set(e.form,"dataCode",t)},expression:"form.dataCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"数据项",prop:"dataValue"}},[a("el-input",{attrs:{placeholder:"请输入数据项"},model:{value:e.form.dataValue,callback:function(t){e.$set(e.form,"dataValue",t)},expression:"form.dataValue"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"采集类型"}},[a("el-select",{attrs:{placeholder:"请选择采集类型"},model:{value:e.form.inputType,callback:function(t){e.$set(e.form,"inputType",t)},expression:"form.inputType"}},e._l(e.inputTypeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"采集频率"}},[a("el-select",{attrs:{placeholder:"请选择采集频率"},model:{value:e.form.statType,callback:function(t){e.$set(e.form,"statType",t)},expression:"form.statType"}},e._l(e.statTypeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"统计周期起始时间",prop:"statDate"}},[a("el-date-picker",{staticStyle:{width:"200px"},attrs:{clearable:"",size:"small",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择统计周期起始时间"},model:{value:e.form.statDate,callback:function(t){e.$set(e.form,"statDate",t)},expression:"form.statDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"数据范围"}},[a("el-select",{attrs:{placeholder:"请选择数据范围"},model:{value:e.form.scope,callback:function(t){e.$set(e.form,"scope",t)},expression:"form.scope"}},e._l(e.scopeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"数据有效性",prop:"valid"}},[a("el-select",{attrs:{placeholder:"请选择数据范围"},model:{value:e.form.valid,callback:function(t){e.$set(e.form,"valid",t)},expression:"form.valid"}},e._l(e.validOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"是否上传"}},[a("el-select",{attrs:{placeholder:"请选择是否上传"},model:{value:e.form.isUpload,callback:function(t){e.$set(e.form,"isUpload",t)},expression:"form.isUpload"}},e._l(e.isUploadOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"上传状态"}},[a("el-select",{attrs:{placeholder:"请选择上传状态"},model:{value:e.form.uploadStatus,callback:function(t){e.$set(e.form,"uploadStatus",t)},expression:"form.uploadStatus"}},e._l(e.uploadStatusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.opens,width:"1200px","append-to-body":""},on:{"update:visible":function(t){e.opens=t}}},[e._l(e.forms,(function(t){return a("el-form",{ref:"forms",refInFor:!0,attrs:{model:e.forms,rules:e.ruless,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:t.name,prop:"dataCode","label-width":"360px"}},[a("el-input",{staticStyle:{display:"none"},attrs:{placeholder:"请输入数据标号"},model:{value:t.dataCode,callback:function(a){e.$set(t,"dataCode",a)},expression:"item.dataCode"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"数据项",prop:"dataValue"}},[a("el-input",{attrs:{placeholder:"请输入数据项"},model:{value:t.dataValue,callback:function(a){e.$set(t,"dataValue",a)},expression:"item.dataValue"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"采集类型"}},[a("el-select",{attrs:{placeholder:"请选择采集类型",disabled:"disabled"},model:{value:t.inputType,callback:function(a){e.$set(t,"inputType",a)},expression:"item.inputType"}},e._l(e.inputTypeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"起始时间",prop:"statDate"}},[a("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:e.statDate1,expression:"statDate1"}],attrs:{clearable:"",size:"small",type:"date","value-format":"yyyy-MM-dd 00:00:00",placeholder:"起始时间"},model:{value:t.statDate,callback:function(a){e.$set(t,"statDate",a)},expression:"item.statDate"}}),e._v(" "),a("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:e.statDate2,expression:"statDate2"}],attrs:{clearable:"",size:"small",type:"month","value-format":"yyyy-MM-01 00:00:00",placeholder:"起始时间"},model:{value:t.statDate,callback:function(a){e.$set(t,"statDate",a)},expression:"item.statDate"}})],1)],1)],1)],1)})),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForms}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancels}},[e._v("取 消")])],1)],2)],1)},r=[],n=a("75c8"),o={name:"Data",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,dataList:[],title:"",open:!1,opens:!1,inputTypeOptions:[],statTypeOptions:[],scopeOptions:[],validOptions:[],isUploadOptions:[],uploadStatusOptions:[],queryParams:{pageNum:1,pageSize:10,scope:void 0,isUpload:void 0,uploadStatus:void 0,statDate:void 0},form:{},forms:{},rules:{id:[{required:!0,message:"ID不能为空",trigger:"blur"}],dataCode:[{required:!0,message:"数据标号不能为空",trigger:"blur"}],dataValue:[{required:!0,message:"数据项不能为空",trigger:"blur"}],inputType:[{required:!0,message:"采集类型不能为空",trigger:"blur"}],statType:[{required:!0,message:"采集频率不能为空",trigger:"blur"}],statDate:[{required:!0,message:"统计周期起始时间不能为空",trigger:"blur"}],scope:[{required:!0,message:"数据范围不能为空",trigger:"blur"}],valid:[{required:!0,message:"数据有效性不能为空",trigger:"blur"}]},ruless:{},statDate1:!0,statDate2:!0}},created:function(){var e=this;this.getList(),this.getDicts("sr_sjsc_inputType").then((function(t){e.inputTypeOptions=t.data})),this.getDicts("sr_sjsc_statType").then((function(t){e.statTypeOptions=t.data})),this.getDicts("sr_sjsc_scope").then((function(t){e.scopeOptions=t.data})),this.getDicts("sr_sjsc_isUpload").then((function(t){e.isUploadOptions=t.data})),this.getDicts("sr_sjsc_uploadStatus").then((function(t){e.uploadStatusOptions=t.data})),this.getDicts("sirui_valid").then((function(t){e.validOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,Object(n["f"])(this.queryParams).then((function(t){e.dataList=t.rows,e.total=t.total,e.loading=!1}))},inputTypeFormat:function(e,t){return this.selectDictLabel(this.inputTypeOptions,e.inputType)},statTypeFormat:function(e,t){return this.selectDictLabel(this.statTypeOptions,e.statType)},scopeFormat:function(e,t){return this.selectDictLabel(this.scopeOptions,e.scope)},validFormat:function(e,t){return this.selectDictLabel(this.validOptions,e.valid)},isUploadFormat:function(e,t){return this.selectDictLabel(this.isUploadOptions,e.isUpload)},uploadStatusFormat:function(e,t){return this.selectDictLabel(this.uploadStatusOptions,e.uploadStatus)},cancel:function(){this.open=!1,this.reset()},cancels:function(){this.opens=!1},reset:function(){this.form={id:void 0,dataCode:void 0,dataValue:void 0,inputType:void 0,statType:void 0,statDate:void 0,scope:void 0,valid:void 0,isUpload:void 0,uploadStatus:void 0,createBy:void 0,createTime:void 0,updateBy:void 0,updateTime:void 0,remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加上传数据"},handleAddData:function(e){var t=this,a={remark:"1",statType:e};1==e?(this.statDate1=!0,this.statDate2=!1,Object(n["g"])(a).then((function(e){t.forms=e.data,t.opens=!0,t.title="添加日数据"}))):(this.statDate1=!1,this.statDate2=!0,Object(n["g"])(a).then((function(e){t.forms=e.data,t.opens=!0,t.title="添加月数据"})))},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;Object(n["e"])(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改上传数据"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?Object(n["h"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):Object(n["a"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},submitForms:function(){var e=this,t=[];this.forms.map((function(e,a){t.push(Object.assign({},e,{deviceId:"c531461774fb4bb5946587d6f5ecf063"},{isUpload:"0"},{valid:"true"}))})),Object(n["b"])(t).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.opens=!1,e.getList())}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除上传数据编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["c"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有上传数据数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["d"])(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},l=o,s=(a("5014"),a("2877")),c=Object(s["a"])(l,i,r,!1,null,null,null);t["default"]=c.exports},"48b1":function(e,t,a){"use strict";a.d(t,"g",(function(){return r})),a.d(t,"e",(function(){return n})),a.d(t,"f",(function(){return o})),a.d(t,"d",(function(){return l})),a.d(t,"a",(function(){return s})),a.d(t,"h",(function(){return c})),a.d(t,"c",(function(){return u})),a.d(t,"b",(function(){return d}));var i=a("b775");function r(e){return Object(i["a"])({url:"/sirui/oneData1/list0",method:"get",params:e})}function n(e){return Object(i["a"])({url:"/sirui/oneData1/list0ByTotal",method:"get",params:e})}function o(e){return Object(i["a"])({url:"/sirui/oneData1/inputDataList",method:"get",params:e})}function l(e){return Object(i["a"])({url:"/sirui/oneData1/"+e,method:"get"})}function s(e){return Object(i["a"])({url:"/sirui/oneData1",method:"post",data:e})}function c(e){return Object(i["a"])({url:"/sirui/oneData1",method:"put",data:e})}function u(e){return Object(i["a"])({url:"/sirui/oneData1/"+e,method:"delete"})}function d(e){return Object(i["a"])({url:"/sirui/oneData1/confirm/"+e,method:"get"})}},4923:function(e,t,a){"use strict";a.r(t);var i=a("1980"),r=a.n(i),n=a("a85b"),o={itemBtns:function(e,t,a,i){var r=this.$listeners,n=r.copyItem,o=r.deleteItem;return[e("span",{class:"drawing-item-copy",attrs:{title:"复制"},on:{click:function(e){n(t,i),e.stopPropagation()}}},[e("i",{class:"el-icon-copy-document"})]),e("span",{class:"drawing-item-delete",attrs:{title:"删除"},on:{click:function(e){o(a,i),e.stopPropagation()}}},[e("i",{class:"el-icon-delete"})])]}},l={colFormItem:function(e,t,a,i){var r=this,l=this.$listeners.activeItem,s=this.activeId===t.formId?"drawing-item active-from-item":"drawing-item";return this.formConf.unFocusedComponentBorder&&(s+=" unfocus-bordered"),e("el-col",{attrs:{span:t.span},class:s,nativeOn:{click:function(e){l(t),e.stopPropagation()}}},[e("el-form-item",{attrs:{"label-width":t.labelWidth?"".concat(t.labelWidth,"px"):null,label:t.label,required:t.required}},[e(n["a"],{key:t.renderKey,attrs:{conf:t},on:{input:function(e){r.$set(t,"defaultValue",e)}}})]),o.itemBtns.apply(this,arguments)])},rowFormItem:function(e,t,a,i){var n=this.$listeners.activeItem,l=this.activeId===t.formId?"drawing-row-item active-from-item":"drawing-row-item",c=s.apply(this,arguments);return"flex"===t.type&&(c=e("el-row",{attrs:{type:t.type,justify:t.justify,align:t.align}},[c])),e("el-col",{attrs:{span:t.span}},[e("el-row",{attrs:{gutter:t.gutter},class:l,nativeOn:{click:function(e){n(t),e.stopPropagation()}}},[e("span",{class:"component-name"},[t.componentName]),e(r.a,{attrs:{list:t.children,animation:340,group:"componentsGroup"},class:"drag-wrapper"},[c]),o.itemBtns.apply(this,arguments)])])}};function s(e,t,a,i){var r=this;return Array.isArray(t.children)?t.children.map((function(a,i){var n=l[a.layout];return n?n.call(r,e,a,i,t.children):c()})):null}function c(){throw new Error("没有与".concat(this.element.layout,"匹配的layout"))}var u,d,m={components:{render:n["a"],draggable:r.a},props:["element","index","drawingList","activeId","formConf"],render:function(e){var t=l[this.element.layout];return t?t.call(this,e,this.element,this.index,this.drawingList):c()}},p=m,f=a("2877"),v=Object(f["a"])(p,u,d,!1,null,null,null);t["default"]=v.exports},"4a49":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],style:"height:"+e.height},[a("iframe",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.src,frameborder:"no",scrolling:"auto"}})])},r=[],n={name:"Swagger",data:function(){return{src:"/prod-api/swagger-ui.html",height:document.documentElement.clientHeight-94.5+"px;",loading:!0}},mounted:function(){var e=this;setTimeout((function(){e.loading=!1}),230);var t=this;window.onresize=function(){t.height=document.documentElement.clientHeight-94.5+"px;"}}},o=n,l=a("2877"),s=Object(l["a"])(o,i,r,!1,null,null,null);t["default"]=s.exports},"4b00":function(e,t,a){},"4b3b":function(e,t,a){var i={"./":"1e4b","./components/icons":"3a7e","./components/icons/":"3a7e","./components/icons/element-icons":"bb49","./components/icons/element-icons.js":"bb49","./components/icons/index":"3a7e","./components/icons/index.vue":"3a7e","./components/icons/svg-icons":"c7e9","./components/icons/svg-icons.js":"c7e9","./dashboard/BarChart":"9488","./dashboard/BarChart.vue":"9488","./dashboard/LineChart":"eab4","./dashboard/LineChart.vue":"eab4","./dashboard/PanelGroup":"fbc4","./dashboard/PanelGroup.vue":"fbc4","./dashboard/PieChart":"d153","./dashboard/PieChart.vue":"d153","./dashboard/RaddarChart":"0a5c","./dashboard/RaddarChart.vue":"0a5c","./dashboard/mixins/resize":"feb2","./dashboard/mixins/resize.js":"feb2","./dataUpload/job":"95d4","./dataUpload/job/":"95d4","./dataUpload/job/index":"95d4","./dataUpload/job/index.vue":"95d4","./dataUpload/job/log":"e69b","./dataUpload/job/log.vue":"e69b","./energy":"40b8","./energy/":"40b8","./energy/BarChart":"2b48","./energy/BarChart.vue":"2b48","./energy/Line1Chart":"2db4","./energy/Line1Chart.vue":"2db4","./energy/LineChart":"1ae6","./energy/LineChart.vue":"1ae6","./energy/PieChart":"9705","./energy/PieChart.vue":"9705","./energy/RaddarChart":"d80b","./energy/RaddarChart.vue":"d80b","./energy/dashboard/BarChart":"6131","./energy/dashboard/BarChart.vue":"6131","./energy/dashboard/LineChart":"245a","./energy/dashboard/LineChart.vue":"245a","./energy/dashboard/PanelGroup":"89a8","./energy/dashboard/PanelGroup.vue":"89a8","./energy/dashboard/PieChart":"a9ba","./energy/dashboard/PieChart.vue":"a9ba","./energy/dashboard/RaddarChart":"ef1c","./energy/dashboard/RaddarChart.vue":"ef1c","./energy/dashboard/mixins/resize":"30e5","./energy/dashboard/mixins/resize.js":"30e5","./energy/index":"40b8","./energy/index.vue":"40b8","./energy/mixins/resize":"8e41","./energy/mixins/resize.js":"8e41","./error/401":"ec55","./error/401.vue":"ec55","./error/404":"2754","./error/404.vue":"2754","./index":"1e4b","./index.vue":"1e4b","./index1":"a547","./index1.vue":"a547","./login":"dd7b","./login.vue":"dd7b","./monitor/druid":"5194","./monitor/druid/":"5194","./monitor/druid/index":"5194","./monitor/druid/index.vue":"5194","./monitor/job":"3eac","./monitor/job/":"3eac","./monitor/job/index":"3eac","./monitor/job/index.vue":"3eac","./monitor/job/log":"0062","./monitor/job/log.vue":"0062","./monitor/logininfor":"67ef","./monitor/logininfor/":"67ef","./monitor/logininfor/index":"67ef","./monitor/logininfor/index.vue":"67ef","./monitor/online":"6b08","./monitor/online/":"6b08","./monitor/online/index":"6b08","./monitor/online/index.vue":"6b08","./monitor/operlog":"02f2","./monitor/operlog/":"02f2","./monitor/operlog/index":"02f2","./monitor/operlog/index.vue":"02f2","./monitor/server":"2a33","./monitor/server/":"2a33","./monitor/server/index":"2a33","./monitor/server/index.vue":"2a33","./other/other":"51f8","./other/other/":"51f8","./other/other/BarChart":"5184","./other/other/BarChart.vue":"5184","./other/other/LineChart":"d98d","./other/other/LineChart.vue":"d98d","./other/other/PanelGroup":"ea64","./other/other/PanelGroup.vue":"ea64","./other/other/PieChart":"0ffd","./other/other/PieChart.vue":"0ffd","./other/other/RaddarChart":"1a40","./other/other/RaddarChart.vue":"1a40","./other/other/index":"51f8","./other/other/index.vue":"51f8","./other/other/mixins/resize":"bab2","./other/other/mixins/resize.js":"bab2","./redirect":"9b8f","./redirect.vue":"9b8f","./report/report":"a8ed","./report/report/":"a8ed","./report/report/index":"a8ed","./report/report/index.vue":"a8ed","./reporting/reporting":"614e","./reporting/reporting/":"614e","./reporting/reporting/index":"614e","./reporting/reporting/index.vue":"614e","./server/server":"c0e6","./server/server/":"c0e6","./server/server/index":"c0e6","./server/server/index.vue":"c0e6","./sirui/RealtimeFollow":"c1af","./sirui/RealtimeFollow/":"c1af","./sirui/RealtimeFollow/index":"c1af","./sirui/RealtimeFollow/index.vue":"c1af","./sirui/RealtimeMain":"0191","./sirui/RealtimeMain/":"0191","./sirui/RealtimeMain/data":"7709","./sirui/RealtimeMain/data.vue":"7709","./sirui/RealtimeMain/index":"0191","./sirui/RealtimeMain/index.vue":"0191","./sirui/baofeng/dayData":"20b6","./sirui/baofeng/dayData.vue":"20b6","./sirui/baofeng/monthData":"7f00","./sirui/baofeng/monthData.vue":"7f00","./sirui/companyOneTotalData3/config":"ce42","./sirui/companyOneTotalData3/config.vue":"ce42","./sirui/companyOneTotalData3/index1":"4cce","./sirui/companyOneTotalData3/index1.vue":"4cce","./sirui/companyOneTotalData3/index2":"7546","./sirui/companyOneTotalData3/index2.vue":"7546","./sirui/companyOneTotalData4":"7f99","./sirui/companyOneTotalData4/":"7f99","./sirui/companyOneTotalData4/index":"7f99","./sirui/companyOneTotalData4/index.vue":"7f99","./sirui/companyOneTotalData5/config2":"9e2f","./sirui/companyOneTotalData5/config2.vue":"9e2f","./sirui/companyOneTotalData5/config3":"d45a","./sirui/companyOneTotalData5/config3.vue":"d45a","./sirui/companyOneTotalData5/index20":"897c","./sirui/companyOneTotalData5/index20.vue":"897c","./sirui/companyOneTotalData5/index21":"1d88","./sirui/companyOneTotalData5/index21.vue":"1d88","./sirui/companyOneTotalData5/index22":"07b4","./sirui/companyOneTotalData5/index22.vue":"07b4","./sirui/companyOneTotalData5/index30":"d135","./sirui/companyOneTotalData5/index30.vue":"d135","./sirui/companyOneTotalData5/index31":"1ef6","./sirui/companyOneTotalData5/index31.vue":"1ef6","./sirui/companyOneTotalData5/index32":"b3b7","./sirui/companyOneTotalData5/index32.vue":"b3b7","./sirui/companyOneTotalData5/total20":"bbdf","./sirui/companyOneTotalData5/total20.vue":"bbdf","./sirui/companyOneTotalData5/total30":"8134","./sirui/companyOneTotalData5/total30.vue":"8134","./sirui/config":"9131","./sirui/config/":"9131","./sirui/config/index":"9131","./sirui/config/index.vue":"9131","./sirui/consumption":"8708","./sirui/consumption/":"8708","./sirui/consumption/index":"8708","./sirui/consumption/index.vue":"8708","./sirui/data":"1598","./sirui/data/":"1598","./sirui/data/index":"1598","./sirui/data/index.vue":"1598","./sirui/data/input":"4823","./sirui/data/input.vue":"4823","./sirui/device":"ebc3","./sirui/device/":"ebc3","./sirui/device/index":"ebc3","./sirui/device/index.vue":"ebc3","./sirui/downProcess":"da67","./sirui/downProcess/":"da67","./sirui/downProcess/index":"da67","./sirui/downProcess/index.vue":"da67","./sirui/eMachine":"11af","./sirui/eMachine/":"11af","./sirui/eMachine/index":"11af","./sirui/eMachine/index.vue":"11af","./sirui/energyType":"e35f","./sirui/energyType/":"e35f","./sirui/energyType/index":"e35f","./sirui/energyType/index.vue":"e35f","./sirui/entType":"315e","./sirui/entType/":"315e","./sirui/entType/index":"315e","./sirui/entType/index.vue":"315e","./sirui/enterprise":"3da3","./sirui/enterprise/":"3da3","./sirui/enterprise/index":"3da3","./sirui/enterprise/index.vue":"3da3","./sirui/industry":"ffee","./sirui/industry/":"ffee","./sirui/industry/index":"ffee","./sirui/industry/index.vue":"ffee","./sirui/item":"5fa1","./sirui/item/":"5fa1","./sirui/item/index":"5fa1","./sirui/item/index.vue":"5fa1","./sirui/machineSet":"e7e8","./sirui/machineSet/":"e7e8","./sirui/machineSet/index":"e7e8","./sirui/machineSet/index.vue":"e7e8","./sirui/oneData1":"82a3","./sirui/oneData1/":"82a3","./sirui/oneData1/index":"82a3","./sirui/oneData1/index.vue":"82a3","./sirui/oneData1/index0":"d053","./sirui/oneData1/index0.vue":"d053","./sirui/oneData2":"a6d4","./sirui/oneData2/":"a6d4","./sirui/oneData2/index":"a6d4","./sirui/oneData2/index.vue":"a6d4","./sirui/process":"d4ee","./sirui/process/":"d4ee","./sirui/process/index":"d4ee","./sirui/process/index.vue":"d4ee","./sirui/quota":"9345","./sirui/quota/":"9345","./sirui/quota/index":"9345","./sirui/quota/index.vue":"9345","./sirui/referenceRatio":"b55f","./sirui/referenceRatio/":"b55f","./sirui/referenceRatio/index":"b55f","./sirui/referenceRatio/index.vue":"b55f","./sirui/region":"d50f","./sirui/region/":"d50f","./sirui/region/index":"d50f","./sirui/region/index.vue":"d50f","./sirui/registration":"9bb6","./sirui/registration/":"9bb6","./sirui/registration/index":"9bb6","./sirui/registration/index.vue":"9bb6","./sirui/report":"d67e","./sirui/report/":"d67e","./sirui/report/index":"d67e","./sirui/report/index.vue":"d67e","./sirui/srUpload":"2a02","./sirui/srUpload/":"2a02","./sirui/srUpload/index":"2a02","./sirui/srUpload/index.vue":"2a02","./sirui/type":"21a4","./sirui/type/":"21a4","./sirui/type/index":"21a4","./sirui/type/index.vue":"21a4","./sirui/unit":"b8c4","./sirui/unit/":"b8c4","./sirui/unit/index":"b8c4","./sirui/unit/index.vue":"b8c4","./sirui/usage":"0c87","./sirui/usage/":"0c87","./sirui/usage/index":"0c87","./sirui/usage/index.vue":"0c87","./sirui/variety":"2eca","./sirui/variety/":"2eca","./sirui/variety/index":"2eca","./sirui/variety/index.vue":"2eca","./sirui/writeCompanyData1":"9cb7","./sirui/writeCompanyData1/":"9cb7","./sirui/writeCompanyData1/index":"9cb7","./sirui/writeCompanyData1/index.vue":"9cb7","./sirui/writeCompanyData2":"e613","./sirui/writeCompanyData2/":"e613","./sirui/writeCompanyData2/index":"e613","./sirui/writeCompanyData2/index.vue":"e613","./system/config":"cdb7","./system/config/":"cdb7","./system/config/index":"cdb7","./system/config/index.vue":"cdb7","./system/dept":"5cfa","./system/dept/":"5cfa","./system/dept/index":"5cfa","./system/dept/index.vue":"5cfa","./system/dict":"046a","./system/dict/":"046a","./system/dict/data":"bfc4","./system/dict/data.vue":"bfc4","./system/dict/index":"046a","./system/dict/index.vue":"046a","./system/fileInfo":"5498","./system/fileInfo/":"5498","./system/fileInfo/index":"5498","./system/fileInfo/index.vue":"5498","./system/log":"b380","./system/log/":"b380","./system/log/index":"b380","./system/log/index.vue":"b380","./system/menu":"f794","./system/menu/":"f794","./system/menu/index":"f794","./system/menu/index.vue":"f794","./system/role":"70eb","./system/role/":"70eb","./system/role/index":"70eb","./system/role/index.vue":"70eb","./system/user":"1f34","./system/user/":"1f34","./system/user/index":"1f34","./system/user/index.vue":"1f34","./system/user/profile":"4c1b","./system/user/profile/":"4c1b","./system/user/profile/index":"4c1b","./system/user/profile/index.vue":"4c1b","./system/user/profile/resetPwd":"ee46","./system/user/profile/resetPwd.vue":"ee46","./system/user/profile/userAvatar":"9429","./system/user/profile/userAvatar.vue":"9429","./system/user/profile/userInfo":"1e8b","./system/user/profile/userInfo.vue":"1e8b","./tool/build":"2855","./tool/build/":"2855","./tool/build/CodeTypeDialog":"a92a","./tool/build/CodeTypeDialog.vue":"a92a","./tool/build/DraggableItem":"4923","./tool/build/DraggableItem.vue":"4923","./tool/build/IconsDialog":"d0b2","./tool/build/IconsDialog.vue":"d0b2","./tool/build/RightPanel":"766b","./tool/build/RightPanel.vue":"766b","./tool/build/TreeNodeDialog":"c81a","./tool/build/TreeNodeDialog.vue":"c81a","./tool/build/index":"2855","./tool/build/index.vue":"2855","./tool/gen":"82c8","./tool/gen/":"82c8","./tool/gen/basicInfoForm":"ed69","./tool/gen/basicInfoForm.vue":"ed69","./tool/gen/editTable":"76f8","./tool/gen/editTable.vue":"76f8","./tool/gen/genInfoForm":"8586","./tool/gen/genInfoForm.vue":"8586","./tool/gen/importTable":"6f72","./tool/gen/importTable.vue":"6f72","./tool/gen/index":"82c8","./tool/gen/index.vue":"82c8","./tool/swagger":"4a49","./tool/swagger/":"4a49","./tool/swagger/index":"4a49","./tool/swagger/index.vue":"4a49"};function r(e){var t=n(e);return a(t)}function n(e){var t=i[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}r.keys=function(){return Object.keys(i)},r.resolve=n,e.exports=r,r.id="4b3b"},"4b72":function(e,t,a){"use strict";a.d(t,"e",(function(){return r})),a.d(t,"d",(function(){return n})),a.d(t,"b",(function(){return o})),a.d(t,"g",(function(){return l})),a.d(t,"c",(function(){return s})),a.d(t,"f",(function(){return c})),a.d(t,"a",(function(){return u}));var i=a("b775");function r(e){return Object(i["a"])({url:"/tool/gen/list",method:"get",params:e})}function n(e){return Object(i["a"])({url:"/tool/gen/db/list",method:"get",params:e})}function o(e){return Object(i["a"])({url:"/tool/gen/"+e,method:"get"})}function l(e){return Object(i["a"])({url:"/tool/gen",method:"put",data:e})}function s(e){return Object(i["a"])({url:"/tool/gen/importTable",method:"post",params:e})}function c(e){return Object(i["a"])({url:"/tool/gen/preview/"+e,method:"get"})}function u(e){return Object(i["a"])({url:"/tool/gen/"+e,method:"delete"})}},"4c1b":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6,xs:24}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("个人信息")])]),e._v(" "),a("div",[a("div",{staticClass:"text-center"},[a("userAvatar",{attrs:{user:e.user}})],1),e._v(" "),a("ul",{staticClass:"list-group list-group-striped"},[a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"user"}}),e._v("用户名称\n              "),a("div",{staticClass:"pull-right"},[e._v(e._s(e.user.userName))])],1),e._v(" "),a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"phone"}}),e._v("手机号码\n              "),a("div",{staticClass:"pull-right"},[e._v(e._s(e.user.phonenumber))])],1),e._v(" "),a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"email"}}),e._v("用户邮箱\n              "),a("div",{staticClass:"pull-right"},[e._v(e._s(e.user.email))])],1),e._v(" "),a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"tree"}}),e._v("所属部门\n              "),e.user.dept?a("div",{staticClass:"pull-right"},[e._v(e._s(e.user.dept.deptName)+" / "+e._s(e.postGroup))]):e._e()],1),e._v(" "),a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"peoples"}}),e._v("所属角色\n              "),a("div",{staticClass:"pull-right"},[e._v(e._s(e.roleGroup))])],1),e._v(" "),a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"date"}}),e._v("创建日期\n              "),a("div",{staticClass:"pull-right"},[e._v(e._s(e.user.createTime))])],1)])])])],1),e._v(" "),a("el-col",{attrs:{span:18,xs:24}},[a("el-card",[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("基本资料")])]),e._v(" "),a("el-tabs",{model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[a("el-tab-pane",{attrs:{label:"基本资料",name:"userinfo"}},[a("userInfo",{attrs:{user:e.user}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"修改密码",name:"resetPwd"}},[a("resetPwd",{attrs:{user:e.user}})],1)],1)],1)],1)],1)],1)},r=[],n=a("9429"),o=a("1e8b"),l=a("ee46"),s=a("c0c7"),c={name:"Profile",components:{userAvatar:n["default"],userInfo:o["default"],resetPwd:l["default"]},data:function(){return{user:{},roleGroup:{},postGroup:{},activeTab:"userinfo"}},created:function(){this.getUser()},methods:{getUser:function(){var e=this;Object(s["f"])().then((function(t){e.user=t.data,e.roleGroup=t.roleGroup,e.postGroup=t.postGroup}))}}},u=c,d=a("2877"),m=Object(d["a"])(u,i,r,!1,null,null,null);t["default"]=m.exports},"4c69":function(e,t,a){"use strict";var i=a("92cf"),r=a.n(i);r.a},"4cce":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"能源品种",prop:"energy"}},[a("el-select",{attrs:{placeholder:"请选择能源品种",clearable:"",filterable:"",size:"small"},model:{value:e.queryParams.energy,callback:function(t){e.$set(e.queryParams,"energy",t)},expression:"queryParams.energy"}},e._l(e.energyOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"测点名称",prop:"point"}},[a("el-input",{attrs:{placeholder:"请输入测点名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.point,callback:function(t){e.$set(e.queryParams,"point",t)},expression:"queryParams.point"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"统计时间",prop:"selectDate"}},[a("el-date-picker",{staticStyle:{width:"150px"},attrs:{clearable:"",size:"small",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择统计时间"},model:{value:e.queryParams.selectDate,callback:function(t){e.$set(e.queryParams,"selectDate",t)},expression:"queryParams.selectDate"}})],1),e._v(" "),a("el-form-item",[a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.companyOneTotalData3List,"row-key":"id","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"},"row-style":e.TableRowStyle}},[a("el-table-column",{attrs:{label:"能源品种",align:"left",prop:"energy",formatter:e.energyFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"测点名称",align:"center",prop:"point"}}),e._v(" "),a("el-table-column",{attrs:{label:"测点序号",align:"center",prop:"pointCode"}}),e._v(" "),a("el-table-column",{attrs:{label:"数据分类",align:"center",prop:"dataType",formatter:e.dataTypeFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"数值",align:"center",prop:"startValue"}}),e._v(" "),a("el-table-column",{attrs:{label:"单位",align:"center",prop:"unit"}}),e._v(" "),a("el-table-column",{attrs:{label:"折标量",align:"center",prop:"endValue"}}),e._v(" "),a("el-table-column",{attrs:{label:"折标系数",align:"center",prop:"coefficient"}}),e._v(" "),a("el-table-column",{attrs:{label:"能源用途",align:"center",prop:"usee",formatter:e.useeFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"是否确认",align:"center",prop:"isOk",formatter:e.isOkFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.parentId?a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:companyOneTotalData3:remove"],expression:"['sirui:companyOneTotalData3:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.updateIsOk(t.row)}}},[e._v("确认")]):e._e(),e._v(" "),0==t.row.parentId?a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:companyOneTotalData3:edit"],expression:"['sirui:companyOneTotalData3:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]):e._e()]}}])})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isInterface,expression:"isInterface"}],staticStyle:{color:"red","text-align":"center","font-size":"30px","padding-top":"20px"}},[e._v(e._s(e.queryParams.selectDate)+"日 日数据从接口获取失败")]),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"能源品种"}},[a("el-select",{attrs:{placeholder:"请选择能源品种",disabled:""},model:{value:e.form.energy,callback:function(t){e.$set(e.form,"energy",t)},expression:"form.energy"}},e._l(e.energyOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"数据分类"}},[a("el-select",{attrs:{placeholder:"请选择数据分类",disabled:""},model:{value:e.form.dataType,callback:function(t){e.$set(e.form,"dataType",t)},expression:"form.dataType"}},e._l(e.dataTypeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"单位",prop:"unit"}},[a("el-input",{attrs:{placeholder:"请输入单位",disabled:""},model:{value:e.form.unit,callback:function(t){e.$set(e.form,"unit",t)},expression:"form.unit"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"能源用途",prop:"usee"}},[a("el-select",{attrs:{placeholder:"请选择能源用途",disabled:""},model:{value:e.form.usee,callback:function(t){e.$set(e.form,"usee",t)},expression:"form.usee"}},e._l(e.useeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"数值",prop:"startValue"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.startValue,callback:function(t){e.$set(e.form,"startValue",t)},expression:"form.startValue"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"折标量",prop:"endValue"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.endValue,callback:function(t){e.$set(e.form,"endValue",t)},expression:"form.endValue"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=(a("6b54"),a("f576"),a("1a35")),o=a("ca17"),l=a.n(o),s=(a("542c"),{name:"CompanyOneTotalData3",components:{Treeselect:l.a},data:function(){return{loading:!0,companyOneTotalData3List:[],companyOneTotalData3Options:[],title:"",open:!1,energyOptions:[],dataTypeOptions:[],useeOptions:[],isOkOptions:[],isInterface:!1,queryParams:{energy:void 0,point:void 0,selectDate:void 0,statType:"1"},form:{},rules:{}}},created:function(){var e=this;this.getBeforeDate();var t=this.getIsInterface();"S"===t?this.getList():(this.isInterface=!0,this.loading=!1),this.getDicts("sirui_energy_variety").then((function(t){e.energyOptions=t.data})),this.getDicts("sirui_data_type").then((function(t){e.dataTypeOptions=t.data})),this.getDicts("sirui_nyytbm").then((function(t){e.useeOptions=t.data})),this.getDicts("sys_yes_no").then((function(t){e.isOkOptions=t.data}))},updated:function(){this.expandAll()},methods:{expandAll:function(){for(var e=document.getElementsByClassName("el-table__expand-icon--expanded"),t=0;t<e.length;t++)e[t].click()},TableRowStyle:function(e){var t={};if(e.row.startValue<=0)return t.color="red",t},getBeforeDate:function(){var e=new Date;e.setTime(e.getTime()-864e5);var t=e.getFullYear(),a=e.getMonth(),i=e.getDate();a+=1,a=a.toString().padStart(2,"0"),i=i.toString().padStart(2,"0");var r="".concat(t,"-").concat(a,"-").concat(i);this.$set(this.queryParams,"selectDate",r)},getIsInterface:function(){Object(n["e"])(this.queryParams).then((function(e){return e.data}))},getList:function(){var e=this;this.loading=!0,Object(n["g"])(this.queryParams).then((function(t){e.companyOneTotalData3List=e.handleTree(t.data,"id","parentId"),e.loading=!1}))},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.id,label:e.energy,children:e.children}},getTreeselect:function(){var e=this;Object(n["g"])().then((function(t){e.companyOneTotalData3Options=[];var a={id:0,energy:"顶级节点",children:[]};a.children=e.handleTree(t.data,"id","parentId"),e.companyOneTotalData3Options.push(a)}))},energyFormat:function(e,t){return this.selectDictLabel(this.energyOptions,e.energy)},dataTypeFormat:function(e,t){return this.selectDictLabel(this.dataTypeOptions,e.dataType)},useeFormat:function(e,t){return this.selectDictLabel(this.useeOptions,e.usee)},isOkFormat:function(e,t){return this.selectDictLabel(this.isOkOptions,e.isOk)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,parentId:void 0,energy:void 0,energyCode:void 0,point:void 0,pointCode:void 0,dataType:void 0,relation:void 0,unit:void 0,coefficient:void 0,coefficientUnit:void 0,usee:void 0,xs:void 0,dId:void 0,number:void 0,startValue:void 0,endValue:void 0,inputType:void 0,statType:void 0,scope:void 0,statDate:void 0,valid:void 0,isOk:void 0,isUp:void 0,createTime:void 0,updateTime:void 0},this.resetForm("form")},handleQuery:function(){this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.getTreeselect(),this.open=!0,this.title="添加公司测点配置主"},handleUpdate:function(e){var t=this;console.log(e),this.reset(),this.getTreeselect(),void 0!=e&&(this.form.parentId=e.id),Object(n["d"])(e.dId).then((function(e){t.form=e.data,t.open=!0,t.title="修改公司测点配置主"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?(console.log(e.form),Object(n["i"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())}))):Object(n["a"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},updateIsOk:function(e){var t=this;this.$confirm('是否确认"'+e.energy+'"的数据?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["j"])(e.dId)})).then((function(){t.getList(),t.msgSuccess("确认成功")})).catch((function(){}))}}}),c=s,u=(a("fcb1"),a("2877")),d=Object(u["a"])(c,i,r,!1,null,null,null);t["default"]=d.exports},"4dcd":function(e,t,a){},5014:function(e,t,a){"use strict";var i=a("3040"),r=a.n(i);r.a},5056:function(e,t,a){"use strict";var i=a("53cb"),r=a.n(i);r.a},5184:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},r=[],n=a("313e"),o=a.n(n),l=a("bab2");a("817d");var s={mixins:[l["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"350px"},autoResize:{type:Boolean,default:!0},chartData:{type:Object,required:!0}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(e){this.setOptionss(e)}}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=o.a.init(this.$el,"macarons"),this.setOptionss(this.chartData)},setOptionss:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.expectedData,a=e.datasss;this.chart.setOption({xAxis:{data:JSON.parse(a),boundaryGap:!1,axisTick:{show:!1}},grid:{left:10,right:10,bottom:20,top:30,containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross"},padding:[5,10]},yAxis:{name:"百万千焦",axisTick:{show:!1}},legend:{data:["热力产量"]},series:[{name:"热力产量",itemStyle:{normal:{color:"#FF005A",lineStyle:{color:"#FF005A",width:2}}},smooth:!0,type:"line",data:t,animationDuration:2800,animationEasing:"cubicInOut"}]})}}},c=s,u=a("2877"),d=Object(u["a"])(c,i,r,!1,null,null,null);t["default"]=d.exports},5194:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],style:"height:"+e.height},[a("iframe",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.src,frameborder:"no",scrolling:"auto"}})])},r=[],n={name:"Druid",data:function(){return{src:"/prod-api/druid/index.html",height:document.documentElement.clientHeight-94.5+"px;",loading:!0}},mounted:function(){var e=this;setTimeout((function(){e.loading=!1}),230);var t=this;window.onresize=function(){t.height=document.documentElement.clientHeight-94.5+"px;"}}},o=n,l=a("2877"),s=Object(l["a"])(o,i,r,!1,null,null,null);t["default"]=s.exports},"51f8":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"上报周期",prop:"eeiCycle"}},[a("el-select",{attrs:{placeholder:"上报周期"},on:{change:function(t){return e.selectTrigger(e.queryParams.eeiCycle)}},model:{value:e.queryParams.eeiCycle,callback:function(t){e.$set(e.queryParams,"eeiCycle",t)},expression:"queryParams.eeiCycle"}},[a("el-option",{attrs:{label:"日",value:"day"}}),e._v(" "),a("el-option",{attrs:{label:"月",value:"month"}})],1)],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.formItemT,expression:"formItemT"}],attrs:{label:"上报时间",prop:"reportDate"}},[a("el-date-picker",{staticStyle:{width:"200px"},attrs:{clearable:"",size:"small",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择上报时间"},model:{value:e.queryParams.recordDate,callback:function(t){e.$set(e.queryParams,"recordDate",t)},expression:"queryParams.recordDate"}})],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.formItemF,expression:"formItemF"}],attrs:{label:"上报时间",prop:"reportDate"}},[a("el-date-picker",{staticStyle:{width:"200px"},attrs:{clearable:"",size:"small",type:"month","value-format":"yyyy-MM",placeholder:"选择上报时间"},model:{value:e.queryParams.recordDate1,callback:function(t){e.$set(e.queryParams,"recordDate1",t)},expression:"queryParams.recordDate1"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:other:add"],expression:"['sirui:other:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:other:edit"],expression:"['sirui:other:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:other:remove"],expression:"['sirui:other:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:other:export"],expression:"['sirui:other:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.otherList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"ID",align:"center",prop:"eeiId"}}),e._v(" "),a("el-table-column",{attrs:{label:"记录周期(日/月)",align:"center",prop:"eeiCycle",formatter:e.eeiCycleFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"指标名称",align:"center",prop:"eeiTitle"}}),e._v(" "),a("el-table-column",{attrs:{label:"数值",align:"center",prop:"eeiValue"}}),e._v(" "),a("el-table-column",{attrs:{label:"统计公司",align:"center",prop:"companyId"}}),e._v(" "),a("el-table-column",{attrs:{label:"单位 ",align:"center",prop:"unit"}}),e._v(" "),a("el-table-column",{attrs:{label:"记录时间",align:"center",prop:"recordDate",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.recordDate,"{y}-{m}-{d}")))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:other:edit"],expression:"['sirui:other:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:other:remove"],expression:"['sirui:other:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"上报周期(日)",name:"first"}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"上报时间",prop:"reportDate"}},[a("el-date-picker",{staticStyle:{width:"310px",float:"right"},attrs:{clearable:"",size:"small",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择上报时间"},model:{value:e.form.reportDate,callback:function(t){e.$set(e.form,"reportDate",t)},expression:"form.reportDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-span",{staticClass:"elSpan elSpan1"},[e._v("电力产量")]),e._v(" "),a("el-span",{staticClass:"elSpan elSpan3"},[e._v("西夏热电")]),e._v(" "),a("el-input",{staticClass:"elSpan elSpan4",attrs:{placeholder:""},model:{value:e.form.data01,callback:function(t){e.$set(e.form,"data01",t)},expression:"form.data01"}}),e._v(" "),a("el-span",{staticClass:"elSpanL elSpan5"},[e._v("千瓦时")])],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-span",{staticClass:"elSpan elSpan1"},[e._v("热力产量")]),e._v(" "),a("el-span",{staticClass:"elSpan elSpan3"},[e._v("西夏热电")]),e._v(" "),a("el-input",{staticClass:"elSpan elSpan4",attrs:{placeholder:""},model:{value:e.form.data02,callback:function(t){e.$set(e.form,"data02",t)},expression:"form.data02"}}),e._v(" "),a("el-span",{staticClass:"elSpanL elSpan5"},[e._v("百万千焦")])],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-span",{staticClass:"elSpan elSpan1"},[e._v("工业总产值")]),e._v(" "),a("el-span",{staticClass:"elSpan elSpan3"},[e._v("西夏热电")]),e._v(" "),a("el-input",{staticClass:"elSpan elSpan4",attrs:{placeholder:""},model:{value:e.form.data03,callback:function(t){e.$set(e.form,"data03",t)},expression:"form.data03"}}),e._v(" "),a("el-span",{staticClass:"elSpanL elSpan5"},[e._v("万元")])],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-span",{staticClass:"elSpan elSpan1"},[e._v("工业增加值")]),e._v(" "),a("el-span",{staticClass:"elSpan elSpan3"},[e._v("西夏热电")]),e._v(" "),a("el-input",{staticClass:"elSpan elSpan4",attrs:{placeholder:""},model:{value:e.form.data04,callback:function(t){e.$set(e.form,"data04",t)},expression:"form.data04"}}),e._v(" "),a("el-span",{staticClass:"elSpanL elSpan5"},[e._v("万元")])],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"上报周期(月)",name:"second"}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"上报时间",prop:"reportDate"}},[a("el-date-picker",{staticStyle:{width:"310px",float:"right"},attrs:{clearable:"",size:"small",type:"month","value-format":"yyyy-MM-dd",placeholder:"选择月"},model:{value:e.form.reportDate,callback:function(t){e.$set(e.form,"reportDate",t)},expression:"form.reportDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-span",{staticClass:"elSpan elSpan1"},[e._v("电力产量")]),e._v(" "),a("el-span",{staticClass:"elSpan elSpan3"},[e._v("西夏热电")]),e._v(" "),a("el-input",{staticClass:"elSpan elSpan4",attrs:{placeholder:""},model:{value:e.form.data01,callback:function(t){e.$set(e.form,"data01",t)},expression:"form.data01"}}),e._v(" "),a("el-span",{staticClass:"elSpanL elSpan5"},[e._v("千瓦时")])],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-span",{staticClass:"elSpan elSpan1"},[e._v("热力产量")]),e._v(" "),a("el-span",{staticClass:"elSpan elSpan3"},[e._v("西夏热电")]),e._v(" "),a("el-input",{staticClass:"elSpan elSpan4",attrs:{placeholder:""},model:{value:e.form.data02,callback:function(t){e.$set(e.form,"data02",t)},expression:"form.data02"}}),e._v(" "),a("el-span",{staticClass:"elSpanL elSpan5"},[e._v("百万千焦")])],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-span",{staticClass:"elSpan elSpan1"},[e._v("工业总产值")]),e._v(" "),a("el-span",{staticClass:"elSpan elSpan3"},[e._v("西夏热电")]),e._v(" "),a("el-input",{staticClass:"elSpan elSpan4",attrs:{placeholder:""},model:{value:e.form.data03,callback:function(t){e.$set(e.form,"data03",t)},expression:"form.data03"}}),e._v(" "),a("el-span",{staticClass:"elSpanL elSpan5"},[e._v("万元")])],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-span",{staticClass:"elSpan elSpan1"},[e._v("工业增加值")]),e._v(" "),a("el-span",{staticClass:"elSpan elSpan3"},[e._v("西夏热电")]),e._v(" "),a("el-input",{staticClass:"elSpan elSpan4",attrs:{placeholder:""},model:{value:e.form.data04,callback:function(t){e.$set(e.form,"data04",t)},expression:"form.data04"}}),e._v(" "),a("el-span",{staticClass:"elSpanL elSpan5"},[e._v("万元")])],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"1.5rem"},attrs:{gutter:32}},[a("el-col",{attrs:{xs:24,sm:24,lg:12}},[a("div",{staticClass:"chart-wrapper"},[a("line-chart",{attrs:{"chart-data":e.lineChartData}})],1)]),e._v(" "),a("el-col",{attrs:{xs:24,sm:24,lg:12}},[a("div",{staticClass:"chart-wrapper"},[a("bar-chart",{attrs:{"chart-data":e.lineChartData1}})],1)]),e._v(" "),a("el-col",{attrs:{xs:24,sm:24,lg:12}},[a("div",{staticClass:"chart-wrapper"},[a("raddar-chart",{attrs:{"chart-data":e.lineChartData2}})],1)]),e._v(" "),a("el-col",{attrs:{xs:24,sm:24,lg:12}},[a("div",{staticClass:"chart-wrapper"},[a("pie-chart",{attrs:{"chart-data":e.lineChartData3}})],1)])],1)],1)},r=[],n=a("b775");function o(e){return Object(n["a"])({url:"/sirui/other/"+e,method:"get"})}function l(e){return Object(n["a"])({url:"/sirui/other/addList",method:"post",data:e})}function s(e){return Object(n["a"])({url:"/sirui/other",method:"put",data:e})}function c(e){return Object(n["a"])({url:"/sirui/other/"+e,method:"delete"})}function u(e){return Object(n["a"])({url:"/sirui/other/export",method:"get",params:e})}function d(e){return console.log(e),Object(n["a"])({url:"/sirui/other/eei/cycleList",method:"post",data:e})}function m(e){return console.log(e),Object(n["a"])({url:"/sirui/other/eei/chart",method:"post",data:e})}var p=a("d98d"),f=a("5184"),v=a("1a40"),h=a("0ffd"),b={name:"Other",components:{LineChart:p["default"],BarChart:f["default"],RaddarChart:v["default"],PieChart:h["default"]},data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,otherList:[],title:"",open:!1,eeiCycleOptions:[],queryParams:{eeiCycle:"",recordDate:""},form:{},rules:{eeiCycle:[{required:!0,message:"记录周期(日/月)不能为空",trigger:"blur"}],eeiTitle:[{required:!0,message:"指标名称不能为空",trigger:"blur"}],eeiValue:[{required:!0,message:"数值不能为空",trigger:"blur"}],companyId:[{required:!0,message:"统计公司不能为空",trigger:"blur"}]},lineChartData:"",lineChartData1:"",lineChartData2:"",lineChartData3:"",activeName:"first",formItemT:"true",formItemF:""}},created:function(){var e=this;this.getListes(),this.postTuBiao(),this.getDicts("sr_cycle_code").then((function(t){e.eeiCycleOptions=t.data}))},methods:{handleClick:function(e,t){console.log(e,t)},selectTrigger:function(e){"day"==e?(this.formItemT=!0,this.formItemF=!1):(this.formItemF=!0,this.formItemT=!1)},postTuBiao:function(){var e=this;this.loading=!0;var t={};t=""==this.queryParams.eeiCycle?{eeiCycle:"day",recordDate:"2020-07-21"}:"day"==this.queryParams.eeiCycle?{eeiCycle:"day",recordDate:this.queryParams.recordDate}:{eeiCycle:"month",recordDate:this.queryParams.recordDate1},m(t).then((function(t){var a=JSON.parse(t.msg);e.lineChartData={expectedData:a.dlclData,datasss:JSON.stringify(a.data)},e.lineChartData1={expectedData:a.rlclData,datasss:JSON.stringify(a.data)},e.lineChartData2={expectedData:a.expectedData,datasss:JSON.stringify(a.data)},e.lineChartData3={expectedData:a.actualData,datasss:JSON.stringify(a.data)},e.loading=!1}))},getListes:function(){var e=this;this.loading=!0;var t={};t=""==this.queryParams.eeiCycle?{eeiCycle:"day",recordDate:"2020-07-21"}:"day"==this.queryParams.eeiCycle?{eeiCycle:"day",recordDate:this.queryParams.recordDate}:{eeiCycle:"month",recordDate:this.queryParams.recordDate1},d(t).then((function(t){console.log(t),e.otherList=t.data,e.loading=!1}))},eeiCycleFormat:function(e,t){return this.selectDictLabel(this.eeiCycleOptions,e.eeiCycle)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={reportDate:void 0,data01:void 0,data02:void 0,data03:void 0,data04:void 0},this.resetForm("form")},handleQuery:function(){this.getListes(),this.postTuBiao()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.eeiId})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加企业其他能效指标"},handleUpdate:function(e){var t=this;this.reset();var a=e.eeiId||this.ids;o(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改企业其他能效指标"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){if(t)if(void 0!=e.form.eeiId)s(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getListes(),e.postTuBiao())}));else{var a=[];a="first"==e.activeName?[{eeiCycle:"day",eeiTitle:"电力产量",eeiValue:e.form.data01,companyId:"西夏热电",unit:"千瓦时",recordDate:e.form.reportDate},{eeiCycle:"day",eeiTitle:"热力产量",eeiValue:e.form.data02,companyId:"西夏热电",unit:"百万千焦",recordDate:e.form.reportDate},{eeiCycle:"day",eeiTitle:"工业总产值",eeiValue:e.form.data03,companyId:"西夏热电",unit:"万元",recordDate:e.form.reportDate},{eeiCycle:"day",eeiTitle:"工业增加值",eeiValue:e.form.data04,companyId:"西夏热电",unit:"万元",recordDate:e.form.reportDate}]:[{eeiCycle:"month",eeiTitle:"电力产量",eeiValue:e.form.data01,companyId:"西夏热电",unit:"千瓦时",recordDate:e.form.reportDate},{eeiCycle:"month",eeiTitle:"热力产量",eeiValue:e.form.data02,companyId:"西夏热电",unit:"百万千焦",recordDate:e.form.reportDate},{eeiCycle:"month",eeiTitle:"工业总产值",eeiValue:e.form.data03,companyId:"西夏热电",unit:"万元",recordDate:e.form.reportDate},{eeiCycle:"month",eeiTitle:"工业增加值",eeiValue:e.form.data04,companyId:"西夏热电",unit:"万元",recordDate:e.form.reportDate}],l(a).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getListes(),e.postTuBiao())}))}}))},handleDelete:function(e){var t=this,a=e.eeiId||this.ids;this.$confirm('是否确认删除企业其他能效指标编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return c(a)})).then((function(){t.getListes(),t.postTuBiao(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有企业其他能效指标数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},y=b,g=(a("b6b1"),a("2877")),_=Object(g["a"])(y,i,r,!1,null,null,null);t["default"]=_.exports},"53cb":function(e,t,a){},5498:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"文件名称",prop:"fileName"}},[a("el-input",{attrs:{placeholder:"请输入文件名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.fileName,callback:function(t){e.$set(e.queryParams,"fileName",t)},expression:"queryParams.fileName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"关联菜单",prop:"menuId"}},[a("el-select",{attrs:{placeholder:"请选择所属菜单"},model:{value:e.queryParams.menuId,callback:function(t){e.$set(e.queryParams,"menuId",t)},expression:"queryParams.menuId"}},e._l(e.menuOptions,(function(e){return a("el-option",{key:e.menuName,attrs:{label:e.menuName,value:e.menuId}})})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:fileInfo:add"],expression:"['system:fileInfo:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:fileInfo:edit"],expression:"['system:fileInfo:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:fileInfo:remove"],expression:"['system:fileInfo:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:fileInfo:export"],expression:"['system:fileInfo:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.fileInfoList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"文件id",align:"center",prop:"fileId"}}),e._v(" "),a("el-table-column",{attrs:{label:"文件名称",align:"center",prop:"fileName"}}),e._v(" "),a("el-table-column",{attrs:{label:"文件路径",align:"center",prop:"filePath"}}),e._v(" "),a("el-select",{attrs:{placeholder:"请选择所属菜单",align:"center",prop:"menuId"},model:{value:e.queryParams.menuId,callback:function(t){e.$set(e.queryParams,"menuId",t)},expression:"queryParams.menuId"}},e._l(e.menuOptions,(function(e){return a("el-option",{key:e.menuName,attrs:{label:e.menuName,value:e.menuId}})})),1),e._v(" "),a("el-table-column",{attrs:{label:"说明",align:"center",prop:"explain"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:fileInfo:edit"],expression:"['system:fileInfo:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:fileInfo:remove"],expression:"['system:fileInfo:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"文件名称",prop:"fileName"}},[a("el-input",{attrs:{placeholder:"请输入文件名称"},model:{value:e.form.fileName,callback:function(t){e.$set(e.form,"fileName",t)},expression:"form.fileName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"文件路径",prop:"filePath"}},[a("el-input",{attrs:{placeholder:"请输入文件路径"},model:{value:e.form.filePath,callback:function(t){e.$set(e.form,"filePath",t)},expression:"form.filePath"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"关联菜单",prop:"menuId"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择所属菜单",clearable:"",size:"small"},model:{value:e.form.menuId,callback:function(t){e.$set(e.form,"menuId",t)},expression:"form.menuId"}},e._l(e.menuOptions,(function(e){return a("el-option",{key:e.menuName,attrs:{label:e.menuName,value:e.menuId}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"说明",prop:"explain"}},[a("el-input",{attrs:{placeholder:"请输入说明"},model:{value:e.form.explain,callback:function(t){e.$set(e.form,"explain",t)},expression:"form.explain"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=a("b775");function o(e){return Object(n["a"])({url:"/system/fileInfo/list",method:"get",params:e})}function l(e){return Object(n["a"])({url:"/system/fileInfo/"+e,method:"get"})}function s(e){return Object(n["a"])({url:"/system/fileInfo",method:"post",data:e})}function c(e){return Object(n["a"])({url:"/system/fileInfo",method:"put",data:e})}function u(e){return Object(n["a"])({url:"/system/fileInfo/"+e,method:"delete"})}function d(e){return Object(n["a"])({url:"/system/fileInfo/export",method:"get",params:e})}var m=a("bc3a"),p=a.n(m),f={name:"FileInfo",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,fileInfoList:[],menuOptions:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,fileName:void 0,menuId:void 0},form:{},rules:{}}},created:function(){var e=this;this.getList();var t="/prod-api/f/menuList";p.a.get(t,{params:{parentId:2e3}}).then((function(t){e.menuOptions=t.data.data})).catch((function(e){console.log("获取数据失败")}))},methods:{getList:function(){var e=this;this.loading=!0,o(this.queryParams).then((function(t){e.fileInfoList=t.rows,e.total=t.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={fileId:void 0,fileName:void 0,filePath:void 0,menuId:void 0,explain:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.fileId})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加文件信息"},handleUpdate:function(e){var t=this;this.reset();var a=e.fileId||this.ids;l(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改文件信息"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.fileId?c(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):s(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this,a=e.fileId||this.ids;this.$confirm('是否确认删除文件信息编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有文件信息数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return d(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},v=f,h=a("2877"),b=Object(h["a"])(v,i,r,!1,null,null,null);t["default"]=b.exports},"550d":function(e,t,a){"use strict";a.d(t,"e",(function(){return r})),a.d(t,"d",(function(){return n})),a.d(t,"a",(function(){return o})),a.d(t,"f",(function(){return l})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return c}));var i=a("b775");function r(e){return Object(i["a"])({url:"/sirui/RealtimeMain/list",method:"get",params:e})}function n(e){return Object(i["a"])({url:"/sirui/RealtimeMain/"+e,method:"get"})}function o(e){return Object(i["a"])({url:"/sirui/RealtimeMain",method:"post",data:e})}function l(e){return Object(i["a"])({url:"/sirui/RealtimeMain",method:"put",data:e})}function s(e){return Object(i["a"])({url:"/sirui/RealtimeMain/"+e,method:"delete"})}function c(e){return Object(i["a"])({url:"/sirui/RealtimeMain/export",method:"get",params:e})}},"5b37":function(e,t,a){"use strict";var i=a("cfbc"),r=a.n(i);r.a},"5cfa":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"部门名称"}},[a("el-input",{attrs:{placeholder:"请输入部门名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.deptName,callback:function(t){e.$set(e.queryParams,"deptName",t)},expression:"queryParams.deptName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"部门状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dept:add"],expression:"['system:dept:add']"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.deptList,"row-key":"deptId","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{prop:"deptName",label:"部门名称",width:"260"}}),e._v(" "),a("el-table-column",{attrs:{prop:"orderNum",label:"排序",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",formatter:e.statusFormat,width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dept:edit"],expression:"['system:dept:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dept:add"],expression:"['system:dept:add']"}],attrs:{size:"mini",type:"text",icon:"el-icon-plus"},on:{click:function(a){return e.handleAdd(t.row)}}},[e._v("新增")]),e._v(" "),0!=t.row.parentId?a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dept:remove"],expression:"['system:dept:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")]):e._e()]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"600px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-row",[0!==e.form.parentId?a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"上级部门",prop:"parentId"}},[a("treeselect",{attrs:{options:e.deptOptions,normalizer:e.normalizer,placeholder:"选择上级部门"},model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}})],1)],1):e._e(),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"部门名称",prop:"deptName"}},[a("el-input",{attrs:{placeholder:"请输入部门名称"},model:{value:e.form.deptName,callback:function(t){e.$set(e.form,"deptName",t)},expression:"form.deptName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"显示排序",prop:"orderNum"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.orderNum,callback:function(t){e.$set(e.form,"orderNum",t)},expression:"form.orderNum"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"负责人",prop:"leader"}},[a("el-input",{attrs:{placeholder:"请输入负责人",maxlength:"20"},model:{value:e.form.leader,callback:function(t){e.$set(e.form,"leader",t)},expression:"form.leader"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"联系电话",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入联系电话",maxlength:"11"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{placeholder:"请输入邮箱",maxlength:"50"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"部门状态"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=a("fcb7"),o=a("ca17"),l=a.n(o),s=(a("542c"),{name:"Dept",components:{Treeselect:l.a},data:function(){return{loading:!0,deptList:[],deptOptions:[],title:"",open:!1,statusOptions:[],queryParams:{deptName:void 0,status:void 0},form:{},rules:{parentId:[{required:!0,message:"上级部门不能为空",trigger:"blur"}],deptName:[{required:!0,message:"部门名称不能为空",trigger:"blur"}],orderNum:[{required:!0,message:"菜单顺序不能为空",trigger:"blur"}],email:[{type:"email",message:"'请输入正确的邮箱地址",trigger:["blur","change"]}],phone:[{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的手机号码",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,Object(n["d"])(this.queryParams).then((function(t){e.deptList=e.handleTree(t.data,"deptId"),e.loading=!1}))},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.deptId,label:e.deptName,children:e.children}},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={deptId:void 0,parentId:void 0,deptName:void 0,orderNum:void 0,leader:void 0,phone:void 0,email:void 0,status:"0"},this.resetForm("form")},handleQuery:function(){this.getList()},handleAdd:function(e){var t=this;this.reset(),void 0!=e&&(this.form.parentId=e.deptId),this.open=!0,this.title="添加部门",Object(n["d"])().then((function(e){t.deptOptions=t.handleTree(e.data,"deptId")}))},handleUpdate:function(e){var t=this;this.reset(),Object(n["c"])(e.deptId).then((function(e){t.form=e.data,t.open=!0,t.title="修改部门"})),Object(n["e"])(e.deptId).then((function(e){t.deptOptions=t.handleTree(e.data,"deptId")}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.deptId?Object(n["h"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):Object(n["a"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this;this.$confirm('是否确认删除名称为"'+e.deptName+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["b"])(e.deptId)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}}),c=s,u=a("2877"),d=Object(u["a"])(c,i,r,!1,null,null,null);t["default"]=d.exports},"5fa1":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.name,callback:function(t){e.$set(e.queryParams,"name",t)},expression:"queryParams.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"类型",prop:"type"}},[a("el-select",{attrs:{placeholder:"请选择类型",clearable:"",size:"small"},model:{value:e.queryParams.type,callback:function(t){e.$set(e.queryParams,"type",t)},expression:"queryParams.type"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"数据类型",prop:"pclass"}},[a("el-input",{attrs:{placeholder:"请输入数据类型",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.pclass,callback:function(t){e.$set(e.queryParams,"pclass",t)},expression:"queryParams.pclass"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:item:add"],expression:"['sirui:item:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("基础数据下载")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.itemList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"ID",align:"center",prop:"id"}}),e._v(" "),a("el-table-column",{attrs:{label:"行政区划编码",align:"center",prop:"code"}}),e._v(" "),a("el-table-column",{attrs:{label:"上一级行政区划编码",align:"center",prop:"pcode"}}),e._v(" "),a("el-table-column",{attrs:{label:"名称",align:"center",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:"类型",align:"center",prop:"type",formatter:e.typeFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"数据类型",align:"center",prop:"pclass"}}),e._v(" "),a("el-table-column",{attrs:{label:"行业编号",align:"center",prop:"industryCode"}}),e._v(" "),a("el-table-column",{attrs:{label:"采集项单位",align:"center",prop:"unit"}})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"行政区划编码",prop:"code"}},[a("el-input",{attrs:{placeholder:"请输入行政区划编码"},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"上一级行政区划编码",prop:"pcode"}},[a("el-input",{attrs:{placeholder:"请输入上一级行政区划编码"},model:{value:e.form.pcode,callback:function(t){e.$set(e.form,"pcode",t)},expression:"form.pcode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"类型"}},[a("el-select",{attrs:{placeholder:"请选择类型"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"数据类型",prop:"pclass"}},[a("el-input",{attrs:{placeholder:"请输入数据类型"},model:{value:e.form.pclass,callback:function(t){e.$set(e.form,"pclass",t)},expression:"form.pclass"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"行业编号",prop:"industryCode"}},[a("el-input",{attrs:{placeholder:"请输入行业编号"},model:{value:e.form.industryCode,callback:function(t){e.$set(e.form,"industryCode",t)},expression:"form.industryCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"采集项单位",prop:"unit"}},[a("el-input",{attrs:{placeholder:"请输入采集项单位"},model:{value:e.form.unit,callback:function(t){e.$set(e.form,"unit",t)},expression:"form.unit"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=a("b775");function o(e){return Object(n["a"])({url:"/sirui/item/list",method:"get",params:e})}function l(e){return Object(n["a"])({url:"/sirui/item",method:"post",data:e})}function s(e){return Object(n["a"])({url:"/sirui/item",method:"put",data:e})}function c(){return Object(n["a"])({url:"/sirui/downloadBaseData/downloadBaseData",method:"get"})}var u={name:"Item",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,itemList:[],title:"",open:!1,typeOptions:[],queryParams:{pageNum:1,pageSize:10,name:void 0,type:void 0,pclass:void 0},form:{},rules:{}}},created:function(){var e=this;this.getList(),this.getDicts("sr_sjsc_collectItem").then((function(t){e.typeOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,o(this.queryParams).then((function(t){e.itemList=t.rows,e.total=t.total,e.loading=!1}))},typeFormat:function(e,t){return this.selectDictLabel(this.typeOptions,e.type)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,code:void 0,pcode:void 0,name:void 0,type:void 0,pclass:void 0,industryCode:void 0,unit:void 0,createBy:void 0,createTime:void 0,updateBy:void 0,updateTime:void 0,remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!=e.length,this.multiple=!e.length},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?s(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):l(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleAdd:function(){var e=this;this.$confirm("是否确认下载基础数据?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return c()})).then((function(){e.getList(),e.msgSuccess("下载成功")})).catch((function(){}))}}},d=u,m=a("2877"),p=Object(m["a"])(d,i,r,!1,null,null,null);t["default"]=p.exports},6114:function(e,t,a){},6131:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},r=[],n=a("313e"),o=a.n(n),l=a("30e5");a("817d");var s=6e3,c={mixins:[l["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=o.a.init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{top:10,left:"2%",right:"2%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value",axisTick:{show:!1}}],series:[{name:"pageA",type:"bar",stack:"vistors",barWidth:"60%",data:[79,52,200,334,390,330,220],animationDuration:s},{name:"pageB",type:"bar",stack:"vistors",barWidth:"60%",data:[80,52,200,334,390,330,220],animationDuration:s},{name:"pageC",type:"bar",stack:"vistors",barWidth:"60%",data:[30,52,200,334,390,330,220],animationDuration:s}]})}}},u=c,d=a("2877"),m=Object(d["a"])(u,i,r,!1,null,null,null);t["default"]=m.exports},"614e":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"上报周期",prop:"reportCycle"}},[a("el-select",{attrs:{placeholder:"上报周期"},on:{change:function(t){return e.selectTrigger(e.queryParams.reportCycle)}},model:{value:e.queryParams.reportCycle,callback:function(t){e.$set(e.queryParams,"reportCycle",t)},expression:"queryParams.reportCycle"}},[a("el-option",{attrs:{label:"日",value:"day"}}),e._v(" "),a("el-option",{attrs:{label:"月",value:"month"}})],1)],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.formItemT,expression:"formItemT"}],attrs:{label:"上报时间",prop:"reportDate"}},[a("el-date-picker",{staticStyle:{width:"200px"},attrs:{clearable:"",size:"small",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择上报时间"},model:{value:e.queryParams.reportDate,callback:function(t){e.$set(e.queryParams,"reportDate",t)},expression:"queryParams.reportDate"}})],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.formItemF,expression:"formItemF"}],attrs:{label:"上报时间",prop:"reportDate"}},[a("el-date-picker",{staticStyle:{width:"200px"},attrs:{clearable:"",size:"small",type:"month","value-format":"yyyy-MM",placeholder:"选择上报时间"},model:{value:e.queryParams.reportDate1,callback:function(t){e.$set(e.queryParams,"reportDate1",t)},expression:"queryParams.reportDate1"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:report:add"],expression:"['sirui:report:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:report:edit"],expression:"['sirui:report:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:report:remove"],expression:"['sirui:report:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:report:export"],expression:"['sirui:report:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.reportList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"ID",align:"center",prop:"reportId"}}),e._v(" "),a("el-table-column",{attrs:{label:"上报周期(日/月)",align:"center",prop:"reportCycle",formatter:e.reportCycleFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"上报分类",align:"center",prop:"reportType"}}),e._v(" "),a("el-table-column",{attrs:{label:"上报公司",align:"center",prop:"reportCycle"}}),e._v(" "),a("el-table-column",{attrs:{label:"能源品种",align:"center",prop:"energyVarieties"}}),e._v(" "),a("el-table-column",{attrs:{label:"上报数值",align:"center",prop:"reportValue"}}),e._v(" "),a("el-table-column",{attrs:{label:"上报单位 ",align:"center",prop:"unit"}}),e._v(" "),a("el-table-column",{attrs:{label:"上报时间",align:"center",prop:"reportDate",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.reportDate,"{y}-{m}-{d}")))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:report:edit"],expression:"['sirui:report:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:report:remove"],expression:"['sirui:report:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"上报周期(日)",name:"first"}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"上报时间",prop:"reportDate"}},[a("el-date-picker",{staticStyle:{width:"310px",float:"right"},attrs:{clearable:"",size:"small",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择上报时间"},model:{value:e.form.reportDate,callback:function(t){e.$set(e.form,"reportDate",t)},expression:"form.reportDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-span",{staticClass:"elSpan elSpan1"},[e._v("外购能源消费量")]),e._v(" "),a("el-span",{staticClass:"elSpan elSpan3"},[e._v("一般煤炭")]),e._v(" "),a("el-input",{staticClass:"elSpan elSpan4",attrs:{placeholder:""},model:{value:e.form.data01,callback:function(t){e.$set(e.form,"data01",t)},expression:"form.data01"}}),e._v(" "),a("el-span",{staticClass:"elSpanL elSpan5"},[e._v("吨")])],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-span",{staticClass:"elSpan elSpan1"},[e._v("外购能源消费量")]),e._v(" "),a("el-span",{staticClass:"elSpan elSpan3"},[e._v("褐煤")]),e._v(" "),a("el-input",{staticClass:"elSpan elSpan4",attrs:{placeholder:""},model:{value:e.form.data02,callback:function(t){e.$set(e.form,"data02",t)},expression:"form.data02"}}),e._v(" "),a("el-span",{staticClass:"elSpanL elSpan5"},[e._v("吨")])],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-span",{staticClass:"elSpan elSpan1"},[e._v("外购能源消费量")]),e._v(" "),a("el-span",{staticClass:"elSpan elSpan3"},[e._v("其他原煤")]),e._v(" "),a("el-input",{staticClass:"elSpan elSpan4",attrs:{placeholder:""},model:{value:e.form.data03,callback:function(t){e.$set(e.form,"data03",t)},expression:"form.data03"}}),e._v(" "),a("el-span",{staticClass:"elSpanL elSpan5"},[e._v("吨")])],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-span",{staticClass:"elSpan elSpan1"},[e._v("外购能源消费量")]),e._v(" "),a("el-span",{staticClass:"elSpan elSpan3"},[e._v("燃料油")]),e._v(" "),a("el-input",{staticClass:"elSpan elSpan4",attrs:{placeholder:""},model:{value:e.form.data04,callback:function(t){e.$set(e.form,"data04",t)},expression:"form.data04"}}),e._v(" "),a("el-span",{staticClass:"elSpanL elSpan5"},[e._v("吨")])],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-span",{staticClass:"elSpan elSpan1"},[e._v("外购能源消费量")]),e._v(" "),a("el-span",{staticClass:"elSpan elSpan3"},[e._v("煤矸石")]),e._v(" "),a("el-input",{staticClass:"elSpan elSpan4",attrs:{placeholder:""},model:{value:e.form.data05,callback:function(t){e.$set(e.form,"data05",t)},expression:"form.data05"}}),e._v(" "),a("el-span",{staticClass:"elSpanL elSpan5"},[e._v("吨")])],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-span",{staticClass:"elSpan elSpan1"},[e._v("外购能源消费量")]),e._v(" "),a("el-span",{staticClass:"elSpan elSpan3"},[e._v("天然气")]),e._v(" "),a("el-input",{staticClass:"elSpan elSpan4",attrs:{placeholder:""},model:{value:e.form.data06,callback:function(t){e.$set(e.form,"data06",t)},expression:"form.data06"}}),e._v(" "),a("el-span",{staticClass:"elSpanL elSpan5"},[e._v("立方米")])],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-span",{staticClass:"elSpan elSpan1"},[e._v("外购能源消费量")]),e._v(" "),a("el-span",{staticClass:"elSpan elSpan3"},[e._v("电力")]),e._v(" "),a("el-input",{staticClass:"elSpan elSpan4",attrs:{placeholder:""},model:{value:e.form.data07,callback:function(t){e.$set(e.form,"data07",t)},expression:"form.data07"}}),e._v(" "),a("el-span",{staticClass:"elSpanL elSpan5"},[e._v("千瓦时")])],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-span",{staticClass:"elSpan elSpan1"},[e._v("外购能源消费量")]),e._v(" "),a("el-span",{staticClass:"elSpan elSpan3"},[e._v("其他燃料")]),e._v(" "),a("el-input",{staticClass:"elSpan elSpan4",attrs:{placeholder:""},model:{value:e.form.data08,callback:function(t){e.$set(e.form,"data08",t)},expression:"form.data08"}}),e._v(" "),a("el-span",{staticClass:"elSpanL elSpan5"},[e._v("吨标准煤")])],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-span",{staticClass:"elSpan elSpan1"},[e._v("外供量")]),e._v(" "),a("el-span",{staticClass:"elSpan elSpan3"},[e._v("电力")]),e._v(" "),a("el-input",{staticClass:"elSpan elSpan4",attrs:{placeholder:""},model:{value:e.form.data09,callback:function(t){e.$set(e.form,"data09",t)},expression:"form.data09"}}),e._v(" "),a("el-span",{staticClass:"elSpanL elSpan5"},[e._v("千瓦时")])],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-span",{staticClass:"elSpan elSpan1"},[e._v("外供量")]),e._v(" "),a("el-span",{staticClass:"elSpan elSpan3"},[e._v("热力")]),e._v(" "),a("el-input",{staticClass:"elSpan elSpan4",attrs:{placeholder:""},model:{value:e.form.data10,callback:function(t){e.$set(e.form,"data10",t)},expression:"form.data10"}}),e._v(" "),a("el-span",{staticClass:"elSpanL elSpan5"},[e._v("百万千焦")])],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"上报周期(月)",name:"second"}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"上报时间",prop:"reportDate"}},[a("el-date-picker",{staticStyle:{width:"310px",float:"right"},attrs:{clearable:"",size:"small",type:"month","value-format":"yyyy-MM-dd",placeholder:"选择月"},model:{value:e.form.reportDate,callback:function(t){e.$set(e.form,"reportDate",t)},expression:"form.reportDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-span",{staticClass:"elSpan elSpan1"},[e._v("购进量")]),e._v(" "),a("el-span",{staticClass:"elSpan elSpan3"},[e._v("一般煤炭")]),e._v(" "),a("el-input",{staticClass:"elSpan elSpan4",attrs:{placeholder:""},model:{value:e.form.data01,callback:function(t){e.$set(e.form,"data01",t)},expression:"form.data01"}}),e._v(" "),a("el-span",{staticClass:"elSpanL elSpan5"},[e._v("吨")])],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-span",{staticClass:"elSpan elSpan1"},[e._v("购进量")]),e._v(" "),a("el-span",{staticClass:"elSpan elSpan3"},[e._v("褐煤")]),e._v(" "),a("el-input",{staticClass:"elSpan elSpan4",attrs:{placeholder:""},model:{value:e.form.data02,callback:function(t){e.$set(e.form,"data02",t)},expression:"form.data02"}}),e._v(" "),a("el-span",{staticClass:"elSpanL elSpan5"},[e._v("吨")])],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-span",{staticClass:"elSpan elSpan1"},[e._v("购进量")]),e._v(" "),a("el-span",{staticClass:"elSpan elSpan3"},[e._v("其他原煤")]),e._v(" "),a("el-input",{staticClass:"elSpan elSpan4",attrs:{placeholder:""},model:{value:e.form.data03,callback:function(t){e.$set(e.form,"data03",t)},expression:"form.data03"}}),e._v(" "),a("el-span",{staticClass:"elSpanL elSpan5"},[e._v("吨")])],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-span",{staticClass:"elSpan elSpan1"},[e._v("购进量")]),e._v(" "),a("el-span",{staticClass:"elSpan elSpan3"},[e._v("燃料油")]),e._v(" "),a("el-input",{staticClass:"elSpan elSpan4",attrs:{placeholder:""},model:{value:e.form.data04,callback:function(t){e.$set(e.form,"data04",t)},expression:"form.data04"}}),e._v(" "),a("el-span",{staticClass:"elSpanL elSpan5"},[e._v("吨")])],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-span",{staticClass:"elSpan elSpan1"},[e._v("购进量")]),e._v(" "),a("el-span",{staticClass:"elSpan elSpan3"},[e._v("煤矸石")]),e._v(" "),a("el-input",{staticClass:"elSpan elSpan4",attrs:{placeholder:""},model:{value:e.form.data05,callback:function(t){e.$set(e.form,"data05",t)},expression:"form.data05"}}),e._v(" "),a("el-span",{staticClass:"elSpanL elSpan5"},[e._v("吨")])],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-span",{staticClass:"elSpan elSpan1"},[e._v("购进量")]),e._v(" "),a("el-span",{staticClass:"elSpan elSpan3"},[e._v("天然气")]),e._v(" "),a("el-input",{staticClass:"elSpan elSpan4",attrs:{placeholder:""},model:{value:e.form.data06,callback:function(t){e.$set(e.form,"data06",t)},expression:"form.data06"}}),e._v(" "),a("el-span",{staticClass:"elSpanL elSpan5"},[e._v("立方米")])],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-span",{staticClass:"elSpan elSpan1"},[e._v("购进量")]),e._v(" "),a("el-span",{staticClass:"elSpan elSpan3"},[e._v("电力")]),e._v(" "),a("el-input",{staticClass:"elSpan elSpan4",attrs:{placeholder:""},model:{value:e.form.data07,callback:function(t){e.$set(e.form,"data07",t)},expression:"form.data07"}}),e._v(" "),a("el-span",{staticClass:"elSpanL elSpan5"},[e._v("千瓦时")])],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-span",{staticClass:"elSpan elSpan1"},[e._v("购进量")]),e._v(" "),a("el-span",{staticClass:"elSpan elSpan3"},[e._v("其他燃料")]),e._v(" "),a("el-input",{staticClass:"elSpan elSpan4",attrs:{placeholder:""},model:{value:e.form.data08,callback:function(t){e.$set(e.form,"data08",t)},expression:"form.data08"}}),e._v(" "),a("el-span",{staticClass:"elSpanL elSpan5"},[e._v("吨标准煤")])],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-span",{staticClass:"elSpan elSpan1"},[e._v("外供量")]),e._v(" "),a("el-span",{staticClass:"elSpan elSpan3"},[e._v("电力")]),e._v(" "),a("el-input",{staticClass:"elSpan elSpan4",attrs:{placeholder:""},model:{value:e.form.data09,callback:function(t){e.$set(e.form,"data09",t)},expression:"form.data09"}}),e._v(" "),a("el-span",{staticClass:"elSpanL elSpan5"},[e._v("千瓦时")])],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-span",{staticClass:"elSpan elSpan1"},[e._v("外供量")]),e._v(" "),a("el-span",{staticClass:"elSpan elSpan3"},[e._v("热力")]),e._v(" "),a("el-input",{staticClass:"elSpan elSpan4",attrs:{placeholder:""},model:{value:e.form.data10,callback:function(t){e.$set(e.form,"data10",t)},expression:"form.data10"}}),e._v(" "),a("el-span",{staticClass:"elSpanL elSpan5"},[e._v("百万千焦")])],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-span",{staticClass:"elSpan elSpan1"},[e._v("期初库存量")]),e._v(" "),a("el-span",{staticClass:"elSpan elSpan3"},[e._v("一般煤炭")]),e._v(" "),a("el-input",{staticClass:"elSpan elSpan4",attrs:{placeholder:""},model:{value:e.form.data11,callback:function(t){e.$set(e.form,"data11",t)},expression:"form.data11"}}),e._v(" "),a("el-span",{staticClass:"elSpanL elSpan5"},[e._v("吨")])],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-span",{staticClass:"elSpan elSpan1"},[e._v("期初库存量")]),e._v(" "),a("el-span",{staticClass:"elSpan elSpan3"},[e._v("褐煤")]),e._v(" "),a("el-input",{staticClass:"elSpan elSpan4",attrs:{placeholder:""},model:{value:e.form.data12,callback:function(t){e.$set(e.form,"data12",t)},expression:"form.data12"}}),e._v(" "),a("el-span",{staticClass:"elSpanL elSpan5"},[e._v("吨")])],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-span",{staticClass:"elSpan elSpan1"},[e._v("期初库存量")]),e._v(" "),a("el-span",{staticClass:"elSpan elSpan3"},[e._v("其他原煤")]),e._v(" "),a("el-input",{staticClass:"elSpan elSpan4",attrs:{placeholder:""},model:{value:e.form.data13,callback:function(t){e.$set(e.form,"data13",t)},expression:"form.data13"}}),e._v(" "),a("el-span",{staticClass:"elSpanL elSpan5"},[e._v("吨")])],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-span",{staticClass:"elSpan elSpan1"},[e._v("期初库存量")]),e._v(" "),a("el-span",{staticClass:"elSpan elSpan3"},[e._v("燃料油")]),e._v(" "),a("el-input",{staticClass:"elSpan elSpan4",attrs:{placeholder:""},model:{value:e.form.data14,callback:function(t){e.$set(e.form,"data14",t)},expression:"form.data14"}}),e._v(" "),a("el-span",{staticClass:"elSpanL elSpan5"},[e._v("吨")])],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-span",{staticClass:"elSpan elSpan1"},[e._v("期初库存量")]),e._v(" "),a("el-span",{staticClass:"elSpan elSpan3"},[e._v("煤矸石")]),e._v(" "),a("el-input",{staticClass:"elSpan elSpan4",attrs:{placeholder:""},model:{value:e.form.data15,callback:function(t){e.$set(e.form,"data15",t)},expression:"form.data15"}}),e._v(" "),a("el-span",{staticClass:"elSpanL elSpan5"},[e._v("吨")])],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-span",{staticClass:"elSpan elSpan1"},[e._v("期末库存量")]),e._v(" "),a("el-span",{staticClass:"elSpan elSpan3"},[e._v("一般煤炭")]),e._v(" "),a("el-input",{staticClass:"elSpan elSpan4",attrs:{placeholder:""},model:{value:e.form.data16,callback:function(t){e.$set(e.form,"data16",t)},expression:"form.data16"}}),e._v(" "),a("el-span",{staticClass:"elSpanL elSpan5"},[e._v("吨")])],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-span",{staticClass:"elSpan elSpan1"},[e._v("期末库存量")]),e._v(" "),a("el-span",{staticClass:"elSpan elSpan3"},[e._v("褐煤")]),e._v(" "),a("el-input",{staticClass:"elSpan elSpan4",attrs:{placeholder:""},model:{value:e.form.data17,callback:function(t){e.$set(e.form,"data17",t)},expression:"form.data17"}}),e._v(" "),a("el-span",{staticClass:"elSpanL elSpan5"},[e._v("吨")])],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-span",{staticClass:"elSpan elSpan1"},[e._v("期末库存量")]),e._v(" "),a("el-span",{staticClass:"elSpan elSpan3"},[e._v("燃料油")]),e._v(" "),a("el-input",{staticClass:"elSpan elSpan4",attrs:{placeholder:""},model:{value:e.form.data18,callback:function(t){e.$set(e.form,"data18",t)},expression:"form.data18"}}),e._v(" "),a("el-span",{staticClass:"elSpanL elSpan5"},[e._v("吨")])],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-span",{staticClass:"elSpan elSpan1"},[e._v("期末库存量")]),e._v(" "),a("el-span",{staticClass:"elSpan elSpan3"},[e._v("煤矸石")]),e._v(" "),a("el-input",{staticClass:"elSpan elSpan4",attrs:{placeholder:""},model:{value:e.form.data19,callback:function(t){e.$set(e.form,"data19",t)},expression:"form.data19"}}),e._v(" "),a("el-span",{staticClass:"elSpanL elSpan5"},[e._v("吨")])],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-span",{staticClass:"elSpan elSpan1"},[e._v("能源消费量")]),e._v(" "),a("el-span",{staticClass:"elSpan elSpan3"},[e._v("能源消费量")]),e._v(" "),a("el-input",{staticClass:"elSpan elSpan4",attrs:{placeholder:""},model:{value:e.form.data20,callback:function(t){e.$set(e.form,"data20",t)},expression:"form.data20"}}),e._v(" "),a("el-span",{staticClass:"elSpanL elSpan5"},[e._v("吨标准煤")])],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=a("0407"),o={name:"Report",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,reportList:[],title:"",open:!1,reportCycleOptions:[],queryParams:{reportCycle:"",reportDate:""},form:{},rules:{reportCycle:[{required:!0,message:"上报公司不能为空",trigger:"blur"}]},activeName:"first",formItemT:"true",formItemF:""}},created:function(){var e=this;this.getListes(),this.getDicts("sr_cycle_code").then((function(t){e.reportCycleOptions=t.data}))},methods:{handleClick:function(e,t){console.log(e,t)},selectTrigger:function(e){"day"==e?(this.formItemT=!0,this.formItemF=!1):(this.formItemF=!0,this.formItemT=!1)},getListes:function(){var e=this;this.loading=!0;var t={};t=""==this.queryParams.reportCycle?{reportDate:"2020-07-22",reportCycle:"day"}:"day"==this.queryParams.reportCycle?{reportCycle:"day",reportDate:this.queryParams.reportDate}:{reportCycle:"month",reportDate:this.queryParams.reportDate1},Object(n["f"])(t).then((function(t){e.reportList=t.data,e.loading=!1}))},reportCycleFormat:function(e,t){return this.selectDictLabel(this.reportCycleOptions,e.reportCycle)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={reportDate:void 0,data01:void 0,data02:void 0,data03:void 0,data04:void 0,data05:void 0,data06:void 0,data07:void 0,data08:void 0,data09:void 0,data10:void 0,data11:void 0,data12:void 0,data13:void 0,data14:void 0,data15:void 0,data16:void 0,data17:void 0,data18:void 0,data19:void 0,data20:void 0},this.resetForm("form")},handleQuery:function(){this.getListes()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.reportId})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加行业能源总量指标上传记录"},handleUpdate:function(e){var t=this;this.reset();var a=e.reportId||this.ids;Object(n["d"])(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改行业能源总量指标上传记录"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){if(t)if(void 0!=e.form.reportId)Object(n["g"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getListes())}));else{var a=[];a="first"==e.activeName?[{reportCycle:"day",reportType:"外购能源消费量",companyId:"西夏热电",energyVarieties:"一般煤炭",reportValue:e.form.data01,unit:"吨",reportDate:e.form.reportDate},{reportCycle:"day",reportType:"外购能源消费量",companyId:"西夏热电",energyVarieties:"褐煤",reportValue:e.form.data02,unit:"吨",reportDate:e.form.reportDate},{reportCycle:"day",reportType:"外购能源消费量",companyId:"西夏热电",energyVarieties:"其他原煤",reportValue:e.form.data03,unit:"吨",reportDate:e.form.reportDate},{reportCycle:"day",reportType:"外购能源消费量",companyId:"西夏热电",energyVarieties:"燃料油",reportValue:e.form.data04,unit:"吨",reportDate:e.form.reportDate},{reportCycle:"day",reportType:"外购能源消费量",companyId:"西夏热电",energyVarieties:"煤矸石",reportValue:e.form.data05,unit:"吨",reportDate:e.form.reportDate},{reportCycle:"day",reportType:"外购能源消费量",companyId:"西夏热电",energyVarieties:"天然气",reportValue:e.form.data06,unit:"立方米",reportDate:e.form.reportDate},{reportCycle:"day",reportType:"外购能源消费量",companyId:"西夏热电",energyVarieties:"电力",reportValue:e.form.data07,unit:"千瓦时",reportDate:e.form.reportDate},{reportCycle:"day",reportType:"外购能源消费量",companyId:"西夏热电",energyVarieties:"其他燃料",reportValue:e.form.data08,unit:"吨标准煤",reportDate:e.form.reportDate},{reportCycle:"day",reportType:"外供量",companyId:"西夏热电",energyVarieties:"电力",reportValue:e.form.data09,unit:"千瓦时",reportDate:e.form.reportDate},{reportCycle:"day",reportType:"外供量",companyId:"西夏热电",energyVarieties:"热力",reportValue:e.form.data10,unit:"百万千焦",reportDate:e.form.reportDate}]:[{reportCycle:"month",reportType:"购进量",companyId:"西夏热电",energyVarieties:"一般煤炭",reportValue:e.form.data01,unit:"吨",reportDate:e.form.reportDate},{reportCycle:"month",reportType:"购进量",companyId:"西夏热电",energyVarieties:"褐煤",reportValue:e.form.data02,unit:"吨",reportDate:e.form.reportDate},{reportCycle:"month",reportType:"购进量",companyId:"西夏热电",energyVarieties:"其他原煤",reportValue:e.form.data03,unit:"吨",reportDate:e.form.reportDate},{reportCycle:"month",reportType:"购进量",companyId:"西夏热电",energyVarieties:"燃料油",reportValue:e.form.data04,unit:"吨",reportDate:e.form.reportDate},{reportCycle:"month",reportType:"购进量",companyId:"西夏热电",energyVarieties:"煤矸石",reportValue:e.form.data05,unit:"吨",reportDate:e.form.reportDate},{reportCycle:"month",reportType:"购进量",companyId:"西夏热电",energyVarieties:"天然气",reportValue:e.form.data06,unit:"立方米",reportDate:e.form.reportDate},{reportCycle:"month",reportType:"购进量",companyId:"西夏热电",energyVarieties:"电力",reportValue:e.form.data07,unit:"千瓦时",reportDate:e.form.reportDate},{reportCycle:"month",reportType:"购进量",companyId:"西夏热电",energyVarieties:"其他燃料",reportValue:e.form.data08,unit:"吨标准煤",reportDate:e.form.reportDate},{reportCycle:"month",reportType:"外供量",companyId:"西夏热电",energyVarieties:"电力",reportValue:e.form.data09,unit:"千瓦时",reportDate:e.form.reportDate},{reportCycle:"month",reportType:"外供量",companyId:"西夏热电",energyVarieties:"热力",reportValue:e.form.data10,unit:"百万千焦",reportDate:e.form.reportDate},{reportCycle:"month",reportType:"期初库存量",companyId:"西夏热电",energyVarieties:"一般煤炭",reportValue:e.form.data11,unit:"吨",reportDate:e.form.reportDate},{reportCycle:"month",reportType:"期初库存量",companyId:"西夏热电",energyVarieties:"褐煤",reportValue:e.form.data12,unit:"吨",reportDate:e.form.reportDate},{reportCycle:"month",reportType:"期初库存量",companyId:"西夏热电",energyVarieties:"其他原煤",reportValue:e.form.data13,unit:"吨",reportDate:e.form.reportDate},{reportCycle:"month",reportType:"期初库存量",companyId:"燃料油",energyVarieties:"燃料油",reportValue:e.form.data14,unit:"吨",reportDate:e.form.reportDate},{reportCycle:"month",reportType:"期初库存量",companyId:"西夏热电",energyVarieties:"煤矸石",reportValue:e.form.data15,unit:"吨",reportDate:e.form.reportDate},{reportCycle:"month",reportType:"期末库存量",companyId:"西夏热电",energyVarieties:"一般煤炭",reportValue:e.form.data16,unit:"吨",reportDate:e.form.reportDate},{reportCycle:"month",reportType:"期末库存量",companyId:"西夏热电",energyVarieties:"褐煤",reportValue:e.form.data17,unit:"吨",reportDate:e.form.reportDate},{reportCycle:"month",reportType:"期末库存量",companyId:"燃料油",energyVarieties:"燃料油",reportValue:e.form.data18,unit:"吨",reportDate:e.form.reportDate},{reportCycle:"month",reportType:"期末库存量",companyId:"西夏热电",energyVarieties:"煤矸石",reportValue:e.form.data19,unit:"吨",reportDate:e.form.reportDate},{reportCycle:"month",reportType:"综合能源消费量",companyId:"西夏热电",energyVarieties:"综合能源消费量",reportValue:e.form.data20,unit:"吨标准煤",reportDate:e.form.reportDate}],Object(n["a"])(a).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getListes())}))}}))},handleDelete:function(e){var t=this,a=e.reportId||this.ids;this.$confirm('是否确认删除行业能源总量指标上传记录编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["b"])(a)})).then((function(){t.getListes(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有行业能源总量指标上传记录数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["c"])(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},l=o,s=(a("5056"),a("2877")),c=Object(s["a"])(l,i,r,!1,null,null,null);t["default"]=c.exports},"628a":function(e,t,a){},"637a":function(e,t,a){},"65f2":function(e,t,a){"use strict";a.d(t,"d",(function(){return r})),a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return o})),a.d(t,"c",(function(){return l}));var i=a("b775");function r(e){return Object(i["a"])({url:"/monitor/jobLog/list",method:"get",params:e})}function n(e){return Object(i["a"])({url:"/monitor/jobLog/"+e,method:"delete"})}function o(){return Object(i["a"])({url:"/monitor/jobLog/clean",method:"delete"})}function l(e){return Object(i["a"])({url:"/monitor/jobLog/export",method:"get",params:e})}},"67ef":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"登录地址",prop:"ipaddr"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入登录地址",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.ipaddr,callback:function(t){e.$set(e.queryParams,"ipaddr",t)},expression:"queryParams.ipaddr"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户名称",prop:"userName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入用户名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.userName,callback:function(t){e.$set(e.queryParams,"userName",t)},expression:"queryParams.userName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"登录状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"登录时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:logininfor:remove"],expression:"['monitor:logininfor:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:logininfor:remove"],expression:"['monitor:logininfor:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:e.handleClean}},[e._v("清空")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:logininfor:export"],expression:"['system:logininfor:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.list},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"访问编号",align:"center",prop:"infoId"}}),e._v(" "),a("el-table-column",{attrs:{label:"用户名称",align:"center",prop:"userName"}}),e._v(" "),a("el-table-column",{attrs:{label:"登录地址",align:"center",prop:"ipaddr",width:"130","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"登录地点",align:"center",prop:"loginLocation","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"浏览器",align:"center",prop:"browser"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作系统",align:"center",prop:"os"}}),e._v(" "),a("el-table-column",{attrs:{label:"登录状态",align:"center",prop:"status",formatter:e.statusFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"操作信息",align:"center",prop:"msg"}}),e._v(" "),a("el-table-column",{attrs:{label:"登录日期",align:"center",prop:"loginTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.loginTime)))])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1)},r=[],n=a("b775");function o(e){return Object(n["a"])({url:"/monitor/logininfor/list",method:"get",params:e})}function l(e){return Object(n["a"])({url:"/monitor/logininfor/"+e,method:"delete"})}function s(){return Object(n["a"])({url:"/monitor/logininfor/clean",method:"delete"})}function c(e){return Object(n["a"])({url:"/monitor/logininfor/export",method:"get",params:e})}var u={name:"Logininfor",data:function(){return{loading:!0,ids:[],multiple:!0,total:0,list:[],statusOptions:[],dateRange:[],queryParams:{pageNum:1,pageSize:10,ipaddr:void 0,userName:void 0,status:void 0}}},created:function(){var e=this;this.getList(),this.getDicts("sys_common_status").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,o(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.list=t.rows,e.total=t.total,e.loading=!1}))},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.infoId})),this.multiple=!e.length},handleDelete:function(e){var t=this,a=e.infoId||this.ids;this.$confirm('是否确认删除访问编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return l(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleClean:function(){var e=this;this.$confirm("是否确认清空所有登录日志数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return s()})).then((function(){e.getList(),e.msgSuccess("清空成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有操作日志数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return c(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},d=u,m=a("2877"),p=Object(m["a"])(d,i,r,!1,null,null,null);t["default"]=p.exports},"69bb":function(e,t,a){"use strict";var i=a("4178"),r=a.n(i);r.a},"6acb":function(e,t,a){},"6b08":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:"登录地址",prop:"ipaddr"}},[a("el-input",{attrs:{placeholder:"请输入登录地址",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.ipaddr,callback:function(t){e.$set(e.queryParams,"ipaddr",t)},expression:"queryParams.ipaddr"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户名称",prop:"userName"}},[a("el-input",{attrs:{placeholder:"请输入用户名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.userName,callback:function(t){e.$set(e.queryParams,"userName",t)},expression:"queryParams.userName"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.list.slice((e.pageNum-1)*e.pageSize,e.pageNum*e.pageSize)}},[a("el-table-column",{attrs:{label:"序号",type:"index",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s((e.pageNum-1)*e.pageSize+t.$index+1))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"会话编号",align:"center",prop:"tokenId","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"登录名称",align:"center",prop:"userName","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"部门名称",align:"center",prop:"deptName"}}),e._v(" "),a("el-table-column",{attrs:{label:"主机",align:"center",prop:"ipaddr","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"登录地点",align:"center",prop:"loginLocation","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"浏览器",align:"center",prop:"browser"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作系统",align:"center",prop:"os"}}),e._v(" "),a("el-table-column",{attrs:{label:"登录时间",align:"center",prop:"loginTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.loginTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:online:forceLogout"],expression:"['monitor:online:forceLogout']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleForceLogout(t.row)}}},[e._v("强退")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.pageNum,limit:e.pageSize},on:{"update:page":function(t){e.pageNum=t},"update:limit":function(t){e.pageSize=t}}})],1)},r=[],n=a("b775");function o(e){return Object(n["a"])({url:"/monitor/online/list",method:"get",params:e})}function l(e){return Object(n["a"])({url:"/monitor/online/"+e,method:"delete"})}var s={name:"Online",data:function(){return{loading:!0,total:0,list:[],pageNum:1,pageSize:10,queryParams:{ipaddr:void 0,userName:void 0}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,o(this.queryParams).then((function(t){e.list=t.rows,e.total=t.total,e.loading=!1}))},handleQuery:function(){this.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleForceLogout:function(e){var t=this;this.$confirm('是否确认强退名称为"'+e.userName+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return l(e.tokenId)})).then((function(){t.getList(),t.msgSuccess("强退成功")})).catch((function(){}))}}},c=s,u=a("2877"),d=Object(u["a"])(c,i,r,!1,null,null,null);t["default"]=d.exports},"6b4a":function(e,t,a){},"6f72":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"导入表",visible:e.visible,width:"800px",top:"5vh","append-to-body":""},on:{"update:visible":function(t){e.visible=t}}},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:"表名称",prop:"tableName"}},[a("el-input",{attrs:{placeholder:"请输入表名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.tableName,callback:function(t){e.$set(e.queryParams,"tableName",t)},expression:"queryParams.tableName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"表描述",prop:"tableComment"}},[a("el-input",{attrs:{placeholder:"请输入表描述",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.tableComment,callback:function(t){e.$set(e.queryParams,"tableComment",t)},expression:"queryParams.tableComment"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",[a("el-table",{ref:"table",attrs:{data:e.dbTableList,height:"260px"},on:{"row-click":e.clickRow,"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tableName",label:"表名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tableComment",label:"表描述"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"updateTime",label:"更新时间"}})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleImportTable}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")])],1)],1)},r=[],n=a("4b72"),o={data:function(){return{visible:!1,tables:[],total:0,dbTableList:[],queryParams:{pageNum:1,pageSize:10,tableName:void 0,tableComment:void 0}}},methods:{show:function(){this.getList(),this.visible=!0},clickRow:function(e){this.$refs.table.toggleRowSelection(e)},handleSelectionChange:function(e){this.tables=e.map((function(e){return e.tableName}))},getList:function(){var e=this;Object(n["d"])(this.queryParams).then((function(t){200===t.code&&(e.dbTableList=t.rows,e.total=t.total)}))},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleImportTable:function(){var e=this;Object(n["c"])({tables:this.tables.join(",")}).then((function(t){e.msgSuccess(t.msg),200===t.code&&(e.visible=!1,e.$emit("ok"))}))}}},l=o,s=a("2877"),c=Object(s["a"])(l,i,r,!1,null,null,null);t["default"]=c.exports},"70eb":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:"角色名称",prop:"roleName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入角色名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.roleName,callback:function(t){e.$set(e.queryParams,"roleName",t)},expression:"queryParams.roleName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"权限字符",prop:"roleKey"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入权限字符",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.roleKey,callback:function(t){e.$set(e.queryParams,"roleKey",t)},expression:"queryParams.roleKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"角色状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:add"],expression:"['system:role:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:edit"],expression:"['system:role:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:remove"],expression:"['system:role:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:post:export"],expression:"['system:post:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.roleList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"角色编号",prop:"roleId",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"角色名称",prop:"roleName","show-overflow-tooltip":!0,width:"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"权限字符",prop:"roleKey","show-overflow-tooltip":!0,width:"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"显示顺序",prop:"roleSort",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":"0","inactive-value":"1"},on:{change:function(a){return e.handleStatusChange(t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:edit"],expression:"['system:role:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:edit"],expression:"['system:role:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-circle-check"},on:{click:function(a){return e.handleDataScope(t.row)}}},[e._v("数据权限")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:remove"],expression:"['system:role:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"角色名称",prop:"roleName"}},[a("el-input",{attrs:{placeholder:"请输入角色名称"},model:{value:e.form.roleName,callback:function(t){e.$set(e.form,"roleName",t)},expression:"form.roleName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"权限字符",prop:"roleKey"}},[a("el-input",{attrs:{placeholder:"请输入权限字符"},model:{value:e.form.roleKey,callback:function(t){e.$set(e.form,"roleKey",t)},expression:"form.roleKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"角色顺序",prop:"roleSort"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.roleSort,callback:function(t){e.$set(e.form,"roleSort",t)},expression:"form.roleSort"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"菜单权限"}},[a("el-tree",{ref:"menu",attrs:{data:e.menuOptions,"show-checkbox":"","node-key":"id","empty-text":"加载中，请稍后",props:e.defaultProps}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.openDataScope,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.openDataScope=t}}},[a("el-form",{attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"角色名称"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.roleName,callback:function(t){e.$set(e.form,"roleName",t)},expression:"form.roleName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"权限字符"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.roleKey,callback:function(t){e.$set(e.form,"roleKey",t)},expression:"form.roleKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"权限范围"}},[a("el-select",{model:{value:e.form.dataScope,callback:function(t){e.$set(e.form,"dataScope",t)},expression:"form.dataScope"}},e._l(e.dataScopeOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2==e.form.dataScope,expression:"form.dataScope == 2"}],attrs:{label:"数据权限"}},[a("el-tree",{ref:"dept",attrs:{data:e.deptOptions,"show-checkbox":"","default-expand-all":"","node-key":"id","empty-text":"加载中，请稍后",props:e.defaultProps}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitDataScope}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancelDataScope}},[e._v("取 消")])],1)],1)],1)},r=[],n=a("b775");function o(e){return Object(n["a"])({url:"/system/role/list",method:"get",params:e})}function l(e){return Object(n["a"])({url:"/system/role/"+e,method:"get"})}function s(e){return Object(n["a"])({url:"/system/role",method:"post",data:e})}function c(e){return Object(n["a"])({url:"/system/role",method:"put",data:e})}function u(e){return Object(n["a"])({url:"/system/role/dataScope",method:"put",data:e})}function d(e,t){var a={roleId:e,status:t};return Object(n["a"])({url:"/system/role/changeStatus",method:"put",data:a})}function m(e){return Object(n["a"])({url:"/system/role/"+e,method:"delete"})}function p(e){return Object(n["a"])({url:"/system/role/export",method:"get",params:e})}var f=a("a6dc"),v=a("fcb7"),h={name:"Role",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,roleList:[],title:"",open:!1,openDataScope:!1,dateRange:[],statusOptions:[],dataScopeOptions:[{value:"1",label:"全部数据权限"},{value:"2",label:"自定数据权限"},{value:"3",label:"本部门数据权限"},{value:"4",label:"本部门及以下数据权限"},{value:"5",label:"仅本人数据权限"}],menuOptions:[],deptOptions:[],queryParams:{pageNum:1,pageSize:10,roleName:void 0,roleKey:void 0,status:void 0},form:{},defaultProps:{children:"children",label:"label"},rules:{roleName:[{required:!0,message:"角色名称不能为空",trigger:"blur"}],roleKey:[{required:!0,message:"权限字符不能为空",trigger:"blur"}],roleSort:[{required:!0,message:"角色顺序不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,o(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.roleList=t.rows,e.total=t.total,e.loading=!1}))},getMenuTreeselect:function(){var e=this;Object(f["f"])().then((function(t){e.menuOptions=t.data}))},getDeptTreeselect:function(){var e=this;Object(v["g"])().then((function(t){e.deptOptions=t.data}))},getMenuAllCheckedKeys:function(){var e=this.$refs.menu.getHalfCheckedKeys(),t=this.$refs.menu.getCheckedKeys();return e.unshift.apply(e,t),e},getDeptAllCheckedKeys:function(){var e=this.$refs.dept.getHalfCheckedKeys(),t=this.$refs.dept.getCheckedKeys();return e.unshift.apply(e,t),e},getRoleMenuTreeselect:function(e){var t=this;Object(f["e"])(e).then((function(e){t.menuOptions=e.menus,t.$refs.menu.setCheckedKeys(e.checkedKeys)}))},getRoleDeptTreeselect:function(e){var t=this;Object(v["f"])(e).then((function(e){t.deptOptions=e.depts,t.$refs.dept.setCheckedKeys(e.checkedKeys)}))},handleStatusChange:function(e){var t=this,a="0"===e.status?"启用":"停用";this.$confirm('确认要"'+a+'""'+e.roleName+'"角色吗?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return d(e.roleId,e.status)})).then((function(){t.msgSuccess(a+"成功")})).catch((function(){e.status="0"===e.status?"1":"0"}))},cancel:function(){this.open=!1,this.reset()},cancelDataScope:function(){this.openDataScope=!1,this.reset()},reset:function(){void 0!=this.$refs.menu&&this.$refs.menu.setCheckedKeys([]),this.form={roleId:void 0,roleName:void 0,roleKey:void 0,roleSort:0,status:"0",menuIds:[],deptIds:[],remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.roleId})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.getMenuTreeselect(),this.open=!0,this.title="添加角色"},handleUpdate:function(e){var t=this;this.reset();var a=e.roleId||this.ids;this.$nextTick((function(){t.getRoleMenuTreeselect(a)})),l(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改角色"}))},handleDataScope:function(e){var t=this;this.reset(),this.$nextTick((function(){t.getRoleDeptTreeselect(e.roleId)})),l(e.roleId).then((function(e){t.form=e.data,t.openDataScope=!0,t.title="分配数据权限"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.roleId?(e.form.menuIds=e.getMenuAllCheckedKeys(),c(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())}))):(e.form.menuIds=e.getMenuAllCheckedKeys(),s(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())}))))}))},submitDataScope:function(){var e=this;void 0!=this.form.roleId&&(this.form.deptIds=this.getDeptAllCheckedKeys(),u(this.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.openDataScope=!1,e.getList())})))},handleDelete:function(e){var t=this,a=e.roleId||this.ids;this.$confirm('是否确认删除角色编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return m(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有角色数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return p(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},b=h,y=a("2877"),g=Object(y["a"])(b,i,r,!1,null,null,null);t["default"]=g.exports},7546:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"能源品种",prop:"energy"}},[a("el-select",{attrs:{placeholder:"请选择能源品种",clearable:"",filterable:"",size:"small"},model:{value:e.queryParams.energy,callback:function(t){e.$set(e.queryParams,"energy",t)},expression:"queryParams.energy"}},e._l(e.energyOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"测点名称",prop:"point"}},[a("el-input",{attrs:{placeholder:"请输入测点名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.point,callback:function(t){e.$set(e.queryParams,"point",t)},expression:"queryParams.point"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"统计时间",prop:"selectDate"}},[a("el-date-picker",{staticStyle:{width:"150px"},attrs:{clearable:"",size:"small",type:"month","value-format":"yyyy-MM",placeholder:"选择统计时间"},model:{value:e.queryParams.selectDate,callback:function(t){e.$set(e.queryParams,"selectDate",t)},expression:"queryParams.selectDate"}})],1),e._v(" "),a("el-form-item",[a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.companyOneTotalData3List,"row-key":"id","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"},"row-style":e.TableRowStyle}},[a("el-table-column",{attrs:{label:"能源品种",align:"left",prop:"energy",formatter:e.energyFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"测点名称",align:"center",prop:"point"}}),e._v(" "),a("el-table-column",{attrs:{label:"测点序号",align:"center",prop:"pointCode"}}),e._v(" "),a("el-table-column",{attrs:{label:"数据分类",align:"center",prop:"dataType",formatter:e.dataTypeFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"数值",align:"center",prop:"startValue"}}),e._v(" "),a("el-table-column",{attrs:{label:"单位",align:"center",prop:"unit"}}),e._v(" "),a("el-table-column",{attrs:{label:"折标量",align:"center",prop:"endValue"}}),e._v(" "),a("el-table-column",{attrs:{label:"折标系数",align:"center",prop:"coefficient"}}),e._v(" "),a("el-table-column",{attrs:{label:"能源用途",align:"center",prop:"usee",formatter:e.useeFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"是否确认",align:"center",prop:"isOk",formatter:e.isOkFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.parentId?a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:companyOneTotalData3:remove"],expression:"['sirui:companyOneTotalData3:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.updateIsOk(t.row)}}},[e._v("确认")]):e._e(),e._v(" "),0==t.row.parentId?a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:companyOneTotalData3:edit"],expression:"['sirui:companyOneTotalData3:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]):e._e()]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"能源品种"}},[a("el-select",{attrs:{placeholder:"请选择能源品种",disabled:""},model:{value:e.form.energy,callback:function(t){e.$set(e.form,"energy",t)},expression:"form.energy"}},e._l(e.energyOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"数据分类"}},[a("el-select",{attrs:{placeholder:"请选择数据分类",disabled:""},model:{value:e.form.dataType,callback:function(t){e.$set(e.form,"dataType",t)},expression:"form.dataType"}},e._l(e.dataTypeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"单位",prop:"unit"}},[a("el-input",{attrs:{placeholder:"请输入单位",disabled:""},model:{value:e.form.unit,callback:function(t){e.$set(e.form,"unit",t)},expression:"form.unit"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"能源用途",prop:"usee"}},[a("el-select",{attrs:{placeholder:"请选择能源用途",disabled:""},model:{value:e.form.usee,callback:function(t){e.$set(e.form,"usee",t)},expression:"form.usee"}},e._l(e.useeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"数值",prop:"startValue"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.startValue,callback:function(t){e.$set(e.form,"startValue",t)},expression:"form.startValue"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"折标量",prop:"endValue"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.endValue,callback:function(t){e.$set(e.form,"endValue",t)},expression:"form.endValue"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=(a("6b54"),a("f576"),a("1a35")),o=a("ca17"),l=a.n(o),s=(a("542c"),{name:"CompanyOneTotalData3",components:{Treeselect:l.a},data:function(){return{loading:!0,companyOneTotalData3List:[],companyOneTotalData3Options:[],title:"",open:!1,energyOptions:[],dataTypeOptions:[],useeOptions:[],isOkOptions:[],queryParams:{energy:void 0,point:void 0,selectDate:void 0,statType:"2"},form:{},rules:{}}},created:function(){var e=this;this.getBeforeDate(),this.getList(),this.getDicts("sirui_energy_variety").then((function(t){e.energyOptions=t.data})),this.getDicts("sirui_data_type").then((function(t){e.dataTypeOptions=t.data})),this.getDicts("sirui_nyytbm").then((function(t){e.useeOptions=t.data})),this.getDicts("sys_yes_no").then((function(t){e.isOkOptions=t.data}))},updated:function(){this.expandAll()},methods:{expandAll:function(){for(var e=document.getElementsByClassName("el-table__expand-icon--expanded"),t=0;t<e.length;t++)e[t].click()},TableRowStyle:function(e){var t={};if(e.row.startValue<=0)return t.color="red",t},getBeforeDate:function(){var e=new Date;e.setTime(e.getTime()-864e5);var t=e.getFullYear(),a=e.getMonth();e.getDate();0==a&&(t=parseInt(t)-1,a=12),a=a.toString().padStart(2,"0");var i="".concat(t,"-").concat(a);this.$set(this.queryParams,"selectDate",i)},getList:function(){var e=this;this.loading=!0,Object(n["h"])(this.queryParams).then((function(t){e.companyOneTotalData3List=e.handleTree(t.data,"id","parentId"),e.loading=!1}))},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.id,label:e.energy,children:e.children}},getTreeselect:function(){var e=this;Object(n["h"])().then((function(t){e.companyOneTotalData3Options=[];var a={id:0,energy:"顶级节点",children:[]};a.children=e.handleTree(t.data,"id","parentId"),e.companyOneTotalData3Options.push(a)}))},energyFormat:function(e,t){return this.selectDictLabel(this.energyOptions,e.energy)},dataTypeFormat:function(e,t){return this.selectDictLabel(this.dataTypeOptions,e.dataType)},useeFormat:function(e,t){return this.selectDictLabel(this.useeOptions,e.usee)},isOkFormat:function(e,t){return this.selectDictLabel(this.isOkOptions,e.isOk)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,parentId:void 0,energy:void 0,energyCode:void 0,point:void 0,pointCode:void 0,dataType:void 0,relation:void 0,unit:void 0,coefficient:void 0,coefficientUnit:void 0,usee:void 0,xs:void 0,dId:void 0,number:void 0,startValue:void 0,endValue:void 0,inputType:void 0,statType:void 0,scope:void 0,statDate:void 0,valid:void 0,isOk:void 0,isUp:void 0,createTime:void 0,updateTime:void 0},this.resetForm("form")},handleQuery:function(){this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.getTreeselect(),this.open=!0,this.title="添加公司测点配置主"},handleUpdate:function(e){var t=this;console.log(e),this.reset(),this.getTreeselect(),void 0!=e&&(this.form.parentId=e.id),Object(n["d"])(e.dId).then((function(e){t.form=e.data,t.open=!0,t.title="修改公司测点配置主"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?(console.log(e.form),Object(n["i"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())}))):Object(n["a"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},updateIsOk:function(e){var t=this;this.$confirm('是否确认"'+e.energy+'"的数据?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["j"])(e.dId)})).then((function(){t.getList(),t.msgSuccess("确认成功")})).catch((function(){}))}}}),c=s,u=(a("8d60"),a("2877")),d=Object(u["a"])(c,i,r,!1,null,null,null);t["default"]=d.exports},"75c8":function(e,t,a){"use strict";a.d(t,"f",(function(){return r})),a.d(t,"e",(function(){return n})),a.d(t,"a",(function(){return o})),a.d(t,"h",(function(){return l})),a.d(t,"c",(function(){return s})),a.d(t,"d",(function(){return c})),a.d(t,"g",(function(){return u})),a.d(t,"b",(function(){return d}));var i=a("b775");function r(e){return Object(i["a"])({url:"/sirui/data/list",method:"get",params:e})}function n(e){return Object(i["a"])({url:"/sirui/data/"+e,method:"get"})}function o(e){return Object(i["a"])({url:"/sirui/data",method:"post",data:e})}function l(e){return Object(i["a"])({url:"/sirui/data",method:"put",data:e})}function s(e){return Object(i["a"])({url:"/sirui/data/"+e,method:"delete"})}function c(e){return Object(i["a"])({url:"/sirui/data/export",method:"get",params:e})}function u(e){return Object(i["a"])({url:"/sirui/config/srUpCIConfig",method:"post",data:e})}function d(e){return Object(i["a"])({url:"/sirui/data/addList",method:"post",data:e})}},"766b":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"right-board"},[a("el-tabs",{staticClass:"center-tabs",model:{value:e.currentTab,callback:function(t){e.currentTab=t},expression:"currentTab"}},[a("el-tab-pane",{attrs:{label:"组件属性",name:"field"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"表单属性",name:"form"}})],1),e._v(" "),a("div",{staticClass:"field-box"},[a("a",{staticClass:"document-link",attrs:{target:"_blank",href:e.documentLink,title:"查看组件文档"}},[a("i",{staticClass:"el-icon-link"})]),e._v(" "),a("el-scrollbar",{staticClass:"right-scrollbar"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:"field"===e.currentTab&&e.showField,expression:"currentTab==='field' && showField"}],attrs:{size:"small","label-width":"90px"}},[e.activeData.changeTag?a("el-form-item",{attrs:{label:"组件类型"}},[a("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择组件类型"},on:{change:e.tagChange},model:{value:e.activeData.tagIcon,callback:function(t){e.$set(e.activeData,"tagIcon",t)},expression:"activeData.tagIcon"}},e._l(e.tagList,(function(t){return a("el-option-group",{key:t.label,attrs:{label:t.label}},e._l(t.options,(function(t){return a("el-option",{key:t.label,attrs:{label:t.label,value:t.tagIcon}},[a("svg-icon",{staticClass:"node-icon",attrs:{"icon-class":t.tagIcon}}),e._v(" "),a("span",[e._v(" "+e._s(t.label))])],1)})),1)})),1)],1):e._e(),e._v(" "),void 0!==e.activeData.vModel?a("el-form-item",{attrs:{label:"字段名"}},[a("el-input",{attrs:{placeholder:"请输入字段名（v-model）"},model:{value:e.activeData.vModel,callback:function(t){e.$set(e.activeData,"vModel",t)},expression:"activeData.vModel"}})],1):e._e(),e._v(" "),void 0!==e.activeData.componentName?a("el-form-item",{attrs:{label:"组件名"}},[e._v("\n          "+e._s(e.activeData.componentName)+"\n        ")]):e._e(),e._v(" "),void 0!==e.activeData.label?a("el-form-item",{attrs:{label:"标题"}},[a("el-input",{attrs:{placeholder:"请输入标题"},model:{value:e.activeData.label,callback:function(t){e.$set(e.activeData,"label",t)},expression:"activeData.label"}})],1):e._e(),e._v(" "),void 0!==e.activeData.placeholder?a("el-form-item",{attrs:{label:"占位提示"}},[a("el-input",{attrs:{placeholder:"请输入占位提示"},model:{value:e.activeData.placeholder,callback:function(t){e.$set(e.activeData,"placeholder",t)},expression:"activeData.placeholder"}})],1):e._e(),e._v(" "),void 0!==e.activeData["start-placeholder"]?a("el-form-item",{attrs:{label:"开始占位"}},[a("el-input",{attrs:{placeholder:"请输入占位提示"},model:{value:e.activeData["start-placeholder"],callback:function(t){e.$set(e.activeData,"start-placeholder",t)},expression:"activeData['start-placeholder']"}})],1):e._e(),e._v(" "),void 0!==e.activeData["end-placeholder"]?a("el-form-item",{attrs:{label:"结束占位"}},[a("el-input",{attrs:{placeholder:"请输入占位提示"},model:{value:e.activeData["end-placeholder"],callback:function(t){e.$set(e.activeData,"end-placeholder",t)},expression:"activeData['end-placeholder']"}})],1):e._e(),e._v(" "),void 0!==e.activeData.span?a("el-form-item",{attrs:{label:"表单栅格"}},[a("el-slider",{attrs:{max:24,min:1,marks:{12:""}},on:{change:e.spanChange},model:{value:e.activeData.span,callback:function(t){e.$set(e.activeData,"span",t)},expression:"activeData.span"}})],1):e._e(),e._v(" "),"rowFormItem"===e.activeData.layout?a("el-form-item",{attrs:{label:"栅格间隔"}},[a("el-input-number",{attrs:{min:0,placeholder:"栅格间隔"},model:{value:e.activeData.gutter,callback:function(t){e.$set(e.activeData,"gutter",t)},expression:"activeData.gutter"}})],1):e._e(),e._v(" "),"rowFormItem"===e.activeData.layout?a("el-form-item",{attrs:{label:"布局模式"}},[a("el-radio-group",{model:{value:e.activeData.type,callback:function(t){e.$set(e.activeData,"type",t)},expression:"activeData.type"}},[a("el-radio-button",{attrs:{label:"default"}}),e._v(" "),a("el-radio-button",{attrs:{label:"flex"}})],1)],1):e._e(),e._v(" "),void 0!==e.activeData.justify&&"flex"===e.activeData.type?a("el-form-item",{attrs:{label:"水平排列"}},[a("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择水平排列"},model:{value:e.activeData.justify,callback:function(t){e.$set(e.activeData,"justify",t)},expression:"activeData.justify"}},e._l(e.justifyOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),e._v(" "),void 0!==e.activeData.align&&"flex"===e.activeData.type?a("el-form-item",{attrs:{label:"垂直排列"}},[a("el-radio-group",{model:{value:e.activeData.align,callback:function(t){e.$set(e.activeData,"align",t)},expression:"activeData.align"}},[a("el-radio-button",{attrs:{label:"top"}}),e._v(" "),a("el-radio-button",{attrs:{label:"middle"}}),e._v(" "),a("el-radio-button",{attrs:{label:"bottom"}})],1)],1):e._e(),e._v(" "),void 0!==e.activeData.labelWidth?a("el-form-item",{attrs:{label:"标签宽度"}},[a("el-input",{attrs:{type:"number",placeholder:"请输入标签宽度"},model:{value:e.activeData.labelWidth,callback:function(t){e.$set(e.activeData,"labelWidth",e._n(t))},expression:"activeData.labelWidth"}})],1):e._e(),e._v(" "),e.activeData.style&&void 0!==e.activeData.style.width?a("el-form-item",{attrs:{label:"组件宽度"}},[a("el-input",{attrs:{placeholder:"请输入组件宽度",clearable:""},model:{value:e.activeData.style.width,callback:function(t){e.$set(e.activeData.style,"width",t)},expression:"activeData.style.width"}})],1):e._e(),e._v(" "),void 0!==e.activeData.vModel?a("el-form-item",{attrs:{label:"默认值"}},[a("el-input",{attrs:{value:e.setDefaultValue(e.activeData.defaultValue),placeholder:"请输入默认值"},on:{input:e.onDefaultValueInput}})],1):e._e(),e._v(" "),"el-checkbox-group"===e.activeData.tag?a("el-form-item",{attrs:{label:"至少应选"}},[a("el-input-number",{attrs:{value:e.activeData.min,min:0,placeholder:"至少应选"},on:{input:function(t){return e.$set(e.activeData,"min",t||void 0)}}})],1):e._e(),e._v(" "),"el-checkbox-group"===e.activeData.tag?a("el-form-item",{attrs:{label:"最多可选"}},[a("el-input-number",{attrs:{value:e.activeData.max,min:0,placeholder:"最多可选"},on:{input:function(t){return e.$set(e.activeData,"max",t||void 0)}}})],1):e._e(),e._v(" "),void 0!==e.activeData.prepend?a("el-form-item",{attrs:{label:"前缀"}},[a("el-input",{attrs:{placeholder:"请输入前缀"},model:{value:e.activeData.prepend,callback:function(t){e.$set(e.activeData,"prepend",t)},expression:"activeData.prepend"}})],1):e._e(),e._v(" "),void 0!==e.activeData.append?a("el-form-item",{attrs:{label:"后缀"}},[a("el-input",{attrs:{placeholder:"请输入后缀"},model:{value:e.activeData.append,callback:function(t){e.$set(e.activeData,"append",t)},expression:"activeData.append"}})],1):e._e(),e._v(" "),void 0!==e.activeData["prefix-icon"]?a("el-form-item",{attrs:{label:"前图标"}},[a("el-input",{attrs:{placeholder:"请输入前图标名称"},model:{value:e.activeData["prefix-icon"],callback:function(t){e.$set(e.activeData,"prefix-icon",t)},expression:"activeData['prefix-icon']"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-thumb"},on:{click:function(t){return e.openIconsDialog("prefix-icon")}},slot:"append"},[e._v("\n              选择\n            ")])],1)],1):e._e(),e._v(" "),void 0!==e.activeData["suffix-icon"]?a("el-form-item",{attrs:{label:"后图标"}},[a("el-input",{attrs:{placeholder:"请输入后图标名称"},model:{value:e.activeData["suffix-icon"],callback:function(t){e.$set(e.activeData,"suffix-icon",t)},expression:"activeData['suffix-icon']"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-thumb"},on:{click:function(t){return e.openIconsDialog("suffix-icon")}},slot:"append"},[e._v("\n              选择\n            ")])],1)],1):e._e(),e._v(" "),"el-cascader"===e.activeData.tag?a("el-form-item",{attrs:{label:"选项分隔符"}},[a("el-input",{attrs:{placeholder:"请输入选项分隔符"},model:{value:e.activeData.separator,callback:function(t){e.$set(e.activeData,"separator",t)},expression:"activeData.separator"}})],1):e._e(),e._v(" "),void 0!==e.activeData.autosize?a("el-form-item",{attrs:{label:"最小行数"}},[a("el-input-number",{attrs:{min:1,placeholder:"最小行数"},model:{value:e.activeData.autosize.minRows,callback:function(t){e.$set(e.activeData.autosize,"minRows",t)},expression:"activeData.autosize.minRows"}})],1):e._e(),e._v(" "),void 0!==e.activeData.autosize?a("el-form-item",{attrs:{label:"最大行数"}},[a("el-input-number",{attrs:{min:1,placeholder:"最大行数"},model:{value:e.activeData.autosize.maxRows,callback:function(t){e.$set(e.activeData.autosize,"maxRows",t)},expression:"activeData.autosize.maxRows"}})],1):e._e(),e._v(" "),void 0!==e.activeData.min?a("el-form-item",{attrs:{label:"最小值"}},[a("el-input-number",{attrs:{placeholder:"最小值"},model:{value:e.activeData.min,callback:function(t){e.$set(e.activeData,"min",t)},expression:"activeData.min"}})],1):e._e(),e._v(" "),void 0!==e.activeData.max?a("el-form-item",{attrs:{label:"最大值"}},[a("el-input-number",{attrs:{placeholder:"最大值"},model:{value:e.activeData.max,callback:function(t){e.$set(e.activeData,"max",t)},expression:"activeData.max"}})],1):e._e(),e._v(" "),void 0!==e.activeData.step?a("el-form-item",{attrs:{label:"步长"}},[a("el-input-number",{attrs:{placeholder:"步数"},model:{value:e.activeData.step,callback:function(t){e.$set(e.activeData,"step",t)},expression:"activeData.step"}})],1):e._e(),e._v(" "),"el-input-number"===e.activeData.tag?a("el-form-item",{attrs:{label:"精度"}},[a("el-input-number",{attrs:{min:0,placeholder:"精度"},model:{value:e.activeData.precision,callback:function(t){e.$set(e.activeData,"precision",t)},expression:"activeData.precision"}})],1):e._e(),e._v(" "),"el-input-number"===e.activeData.tag?a("el-form-item",{attrs:{label:"按钮位置"}},[a("el-radio-group",{model:{value:e.activeData["controls-position"],callback:function(t){e.$set(e.activeData,"controls-position",t)},expression:"activeData['controls-position']"}},[a("el-radio-button",{attrs:{label:""}},[e._v("\n              默认\n            ")]),e._v(" "),a("el-radio-button",{attrs:{label:"right"}},[e._v("\n              右侧\n            ")])],1)],1):e._e(),e._v(" "),void 0!==e.activeData.maxlength?a("el-form-item",{attrs:{label:"最多输入"}},[a("el-input",{attrs:{placeholder:"请输入字符长度"},model:{value:e.activeData.maxlength,callback:function(t){e.$set(e.activeData,"maxlength",t)},expression:"activeData.maxlength"}},[a("template",{slot:"append"},[e._v("\n              个字符\n            ")])],2)],1):e._e(),e._v(" "),void 0!==e.activeData["active-text"]?a("el-form-item",{attrs:{label:"开启提示"}},[a("el-input",{attrs:{placeholder:"请输入开启提示"},model:{value:e.activeData["active-text"],callback:function(t){e.$set(e.activeData,"active-text",t)},expression:"activeData['active-text']"}})],1):e._e(),e._v(" "),void 0!==e.activeData["inactive-text"]?a("el-form-item",{attrs:{label:"关闭提示"}},[a("el-input",{attrs:{placeholder:"请输入关闭提示"},model:{value:e.activeData["inactive-text"],callback:function(t){e.$set(e.activeData,"inactive-text",t)},expression:"activeData['inactive-text']"}})],1):e._e(),e._v(" "),void 0!==e.activeData["active-value"]?a("el-form-item",{attrs:{label:"开启值"}},[a("el-input",{attrs:{value:e.setDefaultValue(e.activeData["active-value"]),placeholder:"请输入开启值"},on:{input:function(t){return e.onSwitchValueInput(t,"active-value")}}})],1):e._e(),e._v(" "),void 0!==e.activeData["inactive-value"]?a("el-form-item",{attrs:{label:"关闭值"}},[a("el-input",{attrs:{value:e.setDefaultValue(e.activeData["inactive-value"]),placeholder:"请输入关闭值"},on:{input:function(t){return e.onSwitchValueInput(t,"inactive-value")}}})],1):e._e(),e._v(" "),void 0!==e.activeData.type&&"el-date-picker"===e.activeData.tag?a("el-form-item",{attrs:{label:"时间类型"}},[a("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择时间类型"},on:{change:e.dateTypeChange},model:{value:e.activeData.type,callback:function(t){e.$set(e.activeData,"type",t)},expression:"activeData.type"}},e._l(e.dateOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),e._v(" "),void 0!==e.activeData.name?a("el-form-item",{attrs:{label:"文件字段名"}},[a("el-input",{attrs:{placeholder:"请输入上传文件字段名"},model:{value:e.activeData.name,callback:function(t){e.$set(e.activeData,"name",t)},expression:"activeData.name"}})],1):e._e(),e._v(" "),void 0!==e.activeData.accept?a("el-form-item",{attrs:{label:"文件类型"}},[a("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择文件类型",clearable:""},model:{value:e.activeData.accept,callback:function(t){e.$set(e.activeData,"accept",t)},expression:"activeData.accept"}},[a("el-option",{attrs:{label:"图片",value:"image/*"}}),e._v(" "),a("el-option",{attrs:{label:"视频",value:"video/*"}}),e._v(" "),a("el-option",{attrs:{label:"音频",value:"audio/*"}}),e._v(" "),a("el-option",{attrs:{label:"excel",value:".xls,.xlsx"}}),e._v(" "),a("el-option",{attrs:{label:"word",value:".doc,.docx"}}),e._v(" "),a("el-option",{attrs:{label:"pdf",value:".pdf"}}),e._v(" "),a("el-option",{attrs:{label:"txt",value:".txt"}})],1)],1):e._e(),e._v(" "),void 0!==e.activeData.fileSize?a("el-form-item",{attrs:{label:"文件大小"}},[a("el-input",{attrs:{placeholder:"请输入文件大小"},model:{value:e.activeData.fileSize,callback:function(t){e.$set(e.activeData,"fileSize",e._n(t))},expression:"activeData.fileSize"}},[a("el-select",{style:{width:"66px"},attrs:{slot:"append"},slot:"append",model:{value:e.activeData.sizeUnit,callback:function(t){e.$set(e.activeData,"sizeUnit",t)},expression:"activeData.sizeUnit"}},[a("el-option",{attrs:{label:"KB",value:"KB"}}),e._v(" "),a("el-option",{attrs:{label:"MB",value:"MB"}}),e._v(" "),a("el-option",{attrs:{label:"GB",value:"GB"}})],1)],1)],1):e._e(),e._v(" "),void 0!==e.activeData.action?a("el-form-item",{attrs:{label:"上传地址"}},[a("el-input",{attrs:{placeholder:"请输入上传地址",clearable:""},model:{value:e.activeData.action,callback:function(t){e.$set(e.activeData,"action",t)},expression:"activeData.action"}})],1):e._e(),e._v(" "),void 0!==e.activeData["list-type"]?a("el-form-item",{attrs:{label:"列表类型"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.activeData["list-type"],callback:function(t){e.$set(e.activeData,"list-type",t)},expression:"activeData['list-type']"}},[a("el-radio-button",{attrs:{label:"text"}},[e._v("\n              text\n            ")]),e._v(" "),a("el-radio-button",{attrs:{label:"picture"}},[e._v("\n              picture\n            ")]),e._v(" "),a("el-radio-button",{attrs:{label:"picture-card"}},[e._v("\n              picture-card\n            ")])],1)],1):e._e(),e._v(" "),void 0!==e.activeData.buttonText?a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"picture-card"!==e.activeData["list-type"],expression:"'picture-card' !== activeData['list-type']"}],attrs:{label:"按钮文字"}},[a("el-input",{attrs:{placeholder:"请输入按钮文字"},model:{value:e.activeData.buttonText,callback:function(t){e.$set(e.activeData,"buttonText",t)},expression:"activeData.buttonText"}})],1):e._e(),e._v(" "),void 0!==e.activeData["range-separator"]?a("el-form-item",{attrs:{label:"分隔符"}},[a("el-input",{attrs:{placeholder:"请输入分隔符"},model:{value:e.activeData["range-separator"],callback:function(t){e.$set(e.activeData,"range-separator",t)},expression:"activeData['range-separator']"}})],1):e._e(),e._v(" "),void 0!==e.activeData["picker-options"]?a("el-form-item",{attrs:{label:"时间段"}},[a("el-input",{attrs:{placeholder:"请输入时间段"},model:{value:e.activeData["picker-options"].selectableRange,callback:function(t){e.$set(e.activeData["picker-options"],"selectableRange",t)},expression:"activeData['picker-options'].selectableRange"}})],1):e._e(),e._v(" "),void 0!==e.activeData.format?a("el-form-item",{attrs:{label:"时间格式"}},[a("el-input",{attrs:{value:e.activeData.format,placeholder:"请输入时间格式"},on:{input:function(t){return e.setTimeValue(t)}}})],1):e._e(),e._v(" "),["el-checkbox-group","el-radio-group","el-select"].indexOf(e.activeData.tag)>-1?[a("el-divider",[e._v("选项")]),e._v(" "),a("draggable",{attrs:{list:e.activeData.options,animation:340,group:"selectItem",handle:".option-drag"}},e._l(e.activeData.options,(function(t,i){return a("div",{key:i,staticClass:"select-item"},[a("div",{staticClass:"select-line-icon option-drag"},[a("i",{staticClass:"el-icon-s-operation"})]),e._v(" "),a("el-input",{attrs:{placeholder:"选项名",size:"small"},model:{value:t.label,callback:function(a){e.$set(t,"label",a)},expression:"item.label"}}),e._v(" "),a("el-input",{attrs:{placeholder:"选项值",size:"small",value:t.value},on:{input:function(a){return e.setOptionValue(t,a)}}}),e._v(" "),a("div",{staticClass:"close-btn select-line-icon",on:{click:function(t){return e.activeData.options.splice(i,1)}}},[a("i",{staticClass:"el-icon-remove-outline"})])],1)})),0),e._v(" "),a("div",{staticStyle:{"margin-left":"20px"}},[a("el-button",{staticStyle:{"padding-bottom":"0"},attrs:{icon:"el-icon-circle-plus-outline",type:"text"},on:{click:e.addSelectItem}},[e._v("\n              添加选项\n            ")])],1),e._v(" "),a("el-divider")]:e._e(),e._v(" "),["el-cascader"].indexOf(e.activeData.tag)>-1?[a("el-divider",[e._v("选项")]),e._v(" "),a("el-form-item",{attrs:{label:"数据类型"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.activeData.dataType,callback:function(t){e.$set(e.activeData,"dataType",t)},expression:"activeData.dataType"}},[a("el-radio-button",{attrs:{label:"dynamic"}},[e._v("\n                动态数据\n              ")]),e._v(" "),a("el-radio-button",{attrs:{label:"static"}},[e._v("\n                静态数据\n              ")])],1)],1),e._v(" "),"dynamic"===e.activeData.dataType?[a("el-form-item",{attrs:{label:"标签键名"}},[a("el-input",{attrs:{placeholder:"请输入标签键名"},model:{value:e.activeData.labelKey,callback:function(t){e.$set(e.activeData,"labelKey",t)},expression:"activeData.labelKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"值键名"}},[a("el-input",{attrs:{placeholder:"请输入值键名"},model:{value:e.activeData.valueKey,callback:function(t){e.$set(e.activeData,"valueKey",t)},expression:"activeData.valueKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"子级键名"}},[a("el-input",{attrs:{placeholder:"请输入子级键名"},model:{value:e.activeData.childrenKey,callback:function(t){e.$set(e.activeData,"childrenKey",t)},expression:"activeData.childrenKey"}})],1)]:e._e(),e._v(" "),"static"===e.activeData.dataType?a("el-tree",{attrs:{draggable:"",data:e.activeData.options,"node-key":"id","expand-on-click-node":!1,"render-content":e.renderContent}}):e._e(),e._v(" "),"static"===e.activeData.dataType?a("div",{staticStyle:{"margin-left":"20px"}},[a("el-button",{staticStyle:{"padding-bottom":"0"},attrs:{icon:"el-icon-circle-plus-outline",type:"text"},on:{click:e.addTreeItem}},[e._v("\n              添加父级\n            ")])],1):e._e(),e._v(" "),a("el-divider")]:e._e(),e._v(" "),void 0!==e.activeData.optionType?a("el-form-item",{attrs:{label:"选项样式"}},[a("el-radio-group",{model:{value:e.activeData.optionType,callback:function(t){e.$set(e.activeData,"optionType",t)},expression:"activeData.optionType"}},[a("el-radio-button",{attrs:{label:"default"}},[e._v("\n              默认\n            ")]),e._v(" "),a("el-radio-button",{attrs:{label:"button"}},[e._v("\n              按钮\n            ")])],1)],1):e._e(),e._v(" "),void 0!==e.activeData["active-color"]?a("el-form-item",{attrs:{label:"开启颜色"}},[a("el-color-picker",{model:{value:e.activeData["active-color"],callback:function(t){e.$set(e.activeData,"active-color",t)},expression:"activeData['active-color']"}})],1):e._e(),e._v(" "),void 0!==e.activeData["inactive-color"]?a("el-form-item",{attrs:{label:"关闭颜色"}},[a("el-color-picker",{model:{value:e.activeData["inactive-color"],callback:function(t){e.$set(e.activeData,"inactive-color",t)},expression:"activeData['inactive-color']"}})],1):e._e(),e._v(" "),void 0!==e.activeData["allow-half"]?a("el-form-item",{attrs:{label:"允许半选"}},[a("el-switch",{model:{value:e.activeData["allow-half"],callback:function(t){e.$set(e.activeData,"allow-half",t)},expression:"activeData['allow-half']"}})],1):e._e(),e._v(" "),void 0!==e.activeData["show-text"]?a("el-form-item",{attrs:{label:"辅助文字"}},[a("el-switch",{on:{change:e.rateTextChange},model:{value:e.activeData["show-text"],callback:function(t){e.$set(e.activeData,"show-text",t)},expression:"activeData['show-text']"}})],1):e._e(),e._v(" "),void 0!==e.activeData["show-score"]?a("el-form-item",{attrs:{label:"显示分数"}},[a("el-switch",{on:{change:e.rateScoreChange},model:{value:e.activeData["show-score"],callback:function(t){e.$set(e.activeData,"show-score",t)},expression:"activeData['show-score']"}})],1):e._e(),e._v(" "),void 0!==e.activeData["show-stops"]?a("el-form-item",{attrs:{label:"显示间断点"}},[a("el-switch",{model:{value:e.activeData["show-stops"],callback:function(t){e.$set(e.activeData,"show-stops",t)},expression:"activeData['show-stops']"}})],1):e._e(),e._v(" "),void 0!==e.activeData.range?a("el-form-item",{attrs:{label:"范围选择"}},[a("el-switch",{on:{change:e.rangeChange},model:{value:e.activeData.range,callback:function(t){e.$set(e.activeData,"range",t)},expression:"activeData.range"}})],1):e._e(),e._v(" "),void 0!==e.activeData.border&&"default"===e.activeData.optionType?a("el-form-item",{attrs:{label:"是否带边框"}},[a("el-switch",{model:{value:e.activeData.border,callback:function(t){e.$set(e.activeData,"border",t)},expression:"activeData.border"}})],1):e._e(),e._v(" "),"el-color-picker"===e.activeData.tag?a("el-form-item",{attrs:{label:"颜色格式"}},[a("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择颜色格式"},on:{change:e.colorFormatChange},model:{value:e.activeData["color-format"],callback:function(t){e.$set(e.activeData,"color-format",t)},expression:"activeData['color-format']"}},e._l(e.colorFormatOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),e._v(" "),void 0===e.activeData.size||"button"!==e.activeData.optionType&&!e.activeData.border&&"el-color-picker"!==e.activeData.tag?e._e():a("el-form-item",{attrs:{label:"选项尺寸"}},[a("el-radio-group",{model:{value:e.activeData.size,callback:function(t){e.$set(e.activeData,"size",t)},expression:"activeData.size"}},[a("el-radio-button",{attrs:{label:"medium"}},[e._v("\n              中等\n            ")]),e._v(" "),a("el-radio-button",{attrs:{label:"small"}},[e._v("\n              较小\n            ")]),e._v(" "),a("el-radio-button",{attrs:{label:"mini"}},[e._v("\n              迷你\n            ")])],1)],1),e._v(" "),void 0!==e.activeData["show-word-limit"]?a("el-form-item",{attrs:{label:"输入统计"}},[a("el-switch",{model:{value:e.activeData["show-word-limit"],callback:function(t){e.$set(e.activeData,"show-word-limit",t)},expression:"activeData['show-word-limit']"}})],1):e._e(),e._v(" "),"el-input-number"===e.activeData.tag?a("el-form-item",{attrs:{label:"严格步数"}},[a("el-switch",{model:{value:e.activeData["step-strictly"],callback:function(t){e.$set(e.activeData,"step-strictly",t)},expression:"activeData['step-strictly']"}})],1):e._e(),e._v(" "),"el-cascader"===e.activeData.tag?a("el-form-item",{attrs:{label:"是否多选"}},[a("el-switch",{model:{value:e.activeData.props.props.multiple,callback:function(t){e.$set(e.activeData.props.props,"multiple",t)},expression:"activeData.props.props.multiple"}})],1):e._e(),e._v(" "),"el-cascader"===e.activeData.tag?a("el-form-item",{attrs:{label:"展示全路径"}},[a("el-switch",{model:{value:e.activeData["show-all-levels"],callback:function(t){e.$set(e.activeData,"show-all-levels",t)},expression:"activeData['show-all-levels']"}})],1):e._e(),e._v(" "),"el-cascader"===e.activeData.tag?a("el-form-item",{attrs:{label:"可否筛选"}},[a("el-switch",{model:{value:e.activeData.filterable,callback:function(t){e.$set(e.activeData,"filterable",t)},expression:"activeData.filterable"}})],1):e._e(),e._v(" "),void 0!==e.activeData.clearable?a("el-form-item",{attrs:{label:"能否清空"}},[a("el-switch",{model:{value:e.activeData.clearable,callback:function(t){e.$set(e.activeData,"clearable",t)},expression:"activeData.clearable"}})],1):e._e(),e._v(" "),void 0!==e.activeData.showTip?a("el-form-item",{attrs:{label:"显示提示"}},[a("el-switch",{model:{value:e.activeData.showTip,callback:function(t){e.$set(e.activeData,"showTip",t)},expression:"activeData.showTip"}})],1):e._e(),e._v(" "),void 0!==e.activeData.multiple?a("el-form-item",{attrs:{label:"多选文件"}},[a("el-switch",{model:{value:e.activeData.multiple,callback:function(t){e.$set(e.activeData,"multiple",t)},expression:"activeData.multiple"}})],1):e._e(),e._v(" "),void 0!==e.activeData["auto-upload"]?a("el-form-item",{attrs:{label:"自动上传"}},[a("el-switch",{model:{value:e.activeData["auto-upload"],callback:function(t){e.$set(e.activeData,"auto-upload",t)},expression:"activeData['auto-upload']"}})],1):e._e(),e._v(" "),void 0!==e.activeData.readonly?a("el-form-item",{attrs:{label:"是否只读"}},[a("el-switch",{model:{value:e.activeData.readonly,callback:function(t){e.$set(e.activeData,"readonly",t)},expression:"activeData.readonly"}})],1):e._e(),e._v(" "),void 0!==e.activeData.disabled?a("el-form-item",{attrs:{label:"是否禁用"}},[a("el-switch",{model:{value:e.activeData.disabled,callback:function(t){e.$set(e.activeData,"disabled",t)},expression:"activeData.disabled"}})],1):e._e(),e._v(" "),"el-select"===e.activeData.tag?a("el-form-item",{attrs:{label:"是否可搜索"}},[a("el-switch",{model:{value:e.activeData.filterable,callback:function(t){e.$set(e.activeData,"filterable",t)},expression:"activeData.filterable"}})],1):e._e(),e._v(" "),"el-select"===e.activeData.tag?a("el-form-item",{attrs:{label:"是否多选"}},[a("el-switch",{on:{change:e.multipleChange},model:{value:e.activeData.multiple,callback:function(t){e.$set(e.activeData,"multiple",t)},expression:"activeData.multiple"}})],1):e._e(),e._v(" "),void 0!==e.activeData.required?a("el-form-item",{attrs:{label:"是否必填"}},[a("el-switch",{model:{value:e.activeData.required,callback:function(t){e.$set(e.activeData,"required",t)},expression:"activeData.required"}})],1):e._e(),e._v(" "),e.activeData.layoutTree?[a("el-divider",[e._v("布局结构树")]),e._v(" "),a("el-tree",{attrs:{data:[e.activeData],props:e.layoutTreeProps,"node-key":"renderKey","default-expand-all":"",draggable:""},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.node,r=t.data;return a("span",{},[a("span",{staticClass:"node-label"},[a("svg-icon",{staticClass:"node-icon",attrs:{"icon-class":r.tagIcon}}),e._v("\n                "+e._s(i.label)+"\n              ")],1)])}}],null,!1,2951611081)})]:e._e(),e._v(" "),"colFormItem"===e.activeData.layout?[a("el-divider",[e._v("正则校验")]),e._v(" "),e._l(e.activeData.regList,(function(t,i){return a("div",{key:i,staticClass:"reg-item"},[a("span",{staticClass:"close-btn",on:{click:function(t){return e.activeData.regList.splice(i,1)}}},[a("i",{staticClass:"el-icon-close"})]),e._v(" "),a("el-form-item",{attrs:{label:"表达式"}},[a("el-input",{attrs:{placeholder:"请输入正则"},model:{value:t.pattern,callback:function(a){e.$set(t,"pattern",a)},expression:"item.pattern"}})],1),e._v(" "),a("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:"错误提示"}},[a("el-input",{attrs:{placeholder:"请输入错误提示"},model:{value:t.message,callback:function(a){e.$set(t,"message",a)},expression:"item.message"}})],1)],1)})),e._v(" "),a("div",{staticStyle:{"margin-left":"20px"}},[a("el-button",{attrs:{icon:"el-icon-circle-plus-outline",type:"text"},on:{click:e.addReg}},[e._v("\n              添加规则\n            ")])],1)]:e._e()],2),e._v(" "),a("el-form",{directives:[{name:"show",rawName:"v-show",value:"form"===e.currentTab,expression:"currentTab === 'form'"}],attrs:{size:"small","label-width":"90px"}},[a("el-form-item",{attrs:{label:"表单名"}},[a("el-input",{attrs:{placeholder:"请输入表单名（ref）"},model:{value:e.formConf.formRef,callback:function(t){e.$set(e.formConf,"formRef",t)},expression:"formConf.formRef"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"表单模型"}},[a("el-input",{attrs:{placeholder:"请输入数据模型"},model:{value:e.formConf.formModel,callback:function(t){e.$set(e.formConf,"formModel",t)},expression:"formConf.formModel"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"校验模型"}},[a("el-input",{attrs:{placeholder:"请输入校验模型"},model:{value:e.formConf.formRules,callback:function(t){e.$set(e.formConf,"formRules",t)},expression:"formConf.formRules"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"表单尺寸"}},[a("el-radio-group",{model:{value:e.formConf.size,callback:function(t){e.$set(e.formConf,"size",t)},expression:"formConf.size"}},[a("el-radio-button",{attrs:{label:"medium"}},[e._v("\n              中等\n            ")]),e._v(" "),a("el-radio-button",{attrs:{label:"small"}},[e._v("\n              较小\n            ")]),e._v(" "),a("el-radio-button",{attrs:{label:"mini"}},[e._v("\n              迷你\n            ")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"标签对齐"}},[a("el-radio-group",{model:{value:e.formConf.labelPosition,callback:function(t){e.$set(e.formConf,"labelPosition",t)},expression:"formConf.labelPosition"}},[a("el-radio-button",{attrs:{label:"left"}},[e._v("\n              左对齐\n            ")]),e._v(" "),a("el-radio-button",{attrs:{label:"right"}},[e._v("\n              右对齐\n            ")]),e._v(" "),a("el-radio-button",{attrs:{label:"top"}},[e._v("\n              顶部对齐\n            ")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"标签宽度"}},[a("el-input-number",{attrs:{placeholder:"标签宽度"},model:{value:e.formConf.labelWidth,callback:function(t){e.$set(e.formConf,"labelWidth",t)},expression:"formConf.labelWidth"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"栅格间隔"}},[a("el-input-number",{attrs:{min:0,placeholder:"栅格间隔"},model:{value:e.formConf.gutter,callback:function(t){e.$set(e.formConf,"gutter",t)},expression:"formConf.gutter"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"禁用表单"}},[a("el-switch",{model:{value:e.formConf.disabled,callback:function(t){e.$set(e.formConf,"disabled",t)},expression:"formConf.disabled"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"表单按钮"}},[a("el-switch",{model:{value:e.formConf.formBtns,callback:function(t){e.$set(e.formConf,"formBtns",t)},expression:"formConf.formBtns"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"显示未选中组件边框"}},[a("el-switch",{model:{value:e.formConf.unFocusedComponentBorder,callback:function(t){e.$set(e.formConf,"unFocusedComponentBorder",t)},expression:"formConf.unFocusedComponentBorder"}})],1)],1)],1)],1),e._v(" "),a("treeNode-dialog",{attrs:{visible:e.dialogVisible,title:"添加选项"},on:{"update:visible":function(t){e.dialogVisible=t},commit:e.addNode}}),e._v(" "),a("icons-dialog",{attrs:{visible:e.iconsVisible,current:e.activeData[e.currentIconModel]},on:{"update:visible":function(t){e.iconsVisible=t},select:e.setIcon}})],1)},r=[],n=(a("7514"),a("28a5"),a("20d6"),a("3022")),o=a("c81a"),l=a("ed08"),s=a("d0b2"),c=a("2e2a"),u={date:"yyyy-MM-dd",week:"yyyy 第 WW 周",month:"yyyy-MM",year:"yyyy",datetime:"yyyy-MM-dd HH:mm:ss",daterange:"yyyy-MM-dd",monthrange:"yyyy-MM",datetimerange:"yyyy-MM-dd HH:mm:ss"},d={components:{TreeNodeDialog:o["default"],IconsDialog:s["default"]},props:["showField","activeData","formConf"],data:function(){return{currentTab:"field",currentNode:null,dialogVisible:!1,iconsVisible:!1,currentIconModel:null,dateTypeOptions:[{label:"日(date)",value:"date"},{label:"周(week)",value:"week"},{label:"月(month)",value:"month"},{label:"年(year)",value:"year"},{label:"日期时间(datetime)",value:"datetime"}],dateRangeTypeOptions:[{label:"日期范围(daterange)",value:"daterange"},{label:"月范围(monthrange)",value:"monthrange"},{label:"日期时间范围(datetimerange)",value:"datetimerange"}],colorFormatOptions:[{label:"hex",value:"hex"},{label:"rgb",value:"rgb"},{label:"rgba",value:"rgba"},{label:"hsv",value:"hsv"},{label:"hsl",value:"hsl"}],justifyOptions:[{label:"start",value:"start"},{label:"end",value:"end"},{label:"center",value:"center"},{label:"space-around",value:"space-around"},{label:"space-between",value:"space-between"}],layoutTreeProps:{label:function(e,t){return e.componentName||"".concat(e.label,": ").concat(e.vModel)}}}},computed:{documentLink:function(){return this.activeData.document||"https://element.eleme.cn/#/zh-CN/component/installation"},dateOptions:function(){return void 0!==this.activeData.type&&"el-date-picker"===this.activeData.tag?void 0===this.activeData["start-placeholder"]?this.dateTypeOptions:this.dateRangeTypeOptions:[]},tagList:function(){return[{label:"输入型组件",options:c["b"]},{label:"选择型组件",options:c["d"]}]}},methods:{addReg:function(){this.activeData.regList.push({pattern:"",message:""})},addSelectItem:function(){this.activeData.options.push({label:"",value:""})},addTreeItem:function(){++this.idGlobal,this.dialogVisible=!0,this.currentNode=this.activeData.options},renderContent:function(e,t){var a=this,i=t.node,r=t.data;t.store;return e("div",{class:"custom-tree-node"},[e("span",[i.label]),e("span",{class:"node-operation"},[e("i",{on:{click:function(){return a.append(r)}},class:"el-icon-plus",attrs:{title:"添加"}}),e("i",{on:{click:function(){return a.remove(i,r)}},class:"el-icon-delete",attrs:{title:"删除"}})])])},append:function(e){e.children||this.$set(e,"children",[]),this.dialogVisible=!0,this.currentNode=e.children},remove:function(e,t){var a=e.parent,i=a.data.children||a.data,r=i.findIndex((function(e){return e.id===t.id}));i.splice(r,1)},addNode:function(e){this.currentNode.push(e)},setOptionValue:function(e,t){e.value=Object(l["e"])(t)?+t:t},setDefaultValue:function(e){return Array.isArray(e)?e.join(","):["string","number"].indexOf(e)>-1?e:"boolean"===typeof e?"".concat(e):e},onDefaultValueInput:function(e){Object(n["isArray"])(this.activeData.defaultValue)?this.$set(this.activeData,"defaultValue",e.split(",").map((function(e){return Object(l["e"])(e)?+e:e}))):["true","false"].indexOf(e)>-1?this.$set(this.activeData,"defaultValue",JSON.parse(e)):this.$set(this.activeData,"defaultValue",Object(l["e"])(e)?+e:e)},onSwitchValueInput:function(e,t){["true","false"].indexOf(e)>-1?this.$set(this.activeData,t,JSON.parse(e)):this.$set(this.activeData,t,Object(l["e"])(e)?+e:e)},setTimeValue:function(e,t){var a="week"===t?u.date:e;this.$set(this.activeData,"defaultValue",null),this.$set(this.activeData,"value-format",a),this.$set(this.activeData,"format",e)},spanChange:function(e){this.formConf.span=e},multipleChange:function(e){this.$set(this.activeData,"defaultValue",e?[]:"")},dateTypeChange:function(e){this.setTimeValue(u[e],e)},rangeChange:function(e){this.$set(this.activeData,"defaultValue",e?[this.activeData.min,this.activeData.max]:this.activeData.min)},rateTextChange:function(e){e&&(this.activeData["show-score"]=!1)},rateScoreChange:function(e){e&&(this.activeData["show-text"]=!1)},colorFormatChange:function(e){this.activeData.defaultValue=null,this.activeData["show-alpha"]=e.indexOf("a")>-1,this.activeData.renderKey=+new Date},openIconsDialog:function(e){this.iconsVisible=!0,this.currentIconModel=e},setIcon:function(e){this.activeData[this.currentIconModel]=e},tagChange:function(e){var t=c["b"].find((function(t){return t.tagIcon===e}));t||(t=c["d"].find((function(t){return t.tagIcon===e}))),this.$emit("tag-change",t)}}},m=d,p=(a("d8af"),a("2877")),f=Object(p["a"])(m,i,r,!1,null,"53ded860",null);t["default"]=f.exports},"76f8":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",[a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"基本信息",name:"basic"}},[a("basic-info-form",{ref:"basicInfo",attrs:{info:e.info}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"字段信息",name:"cloum"}},[a("el-table",{ref:"dragTable",attrs:{data:e.cloumns,"row-key":"columnId","max-height":e.tableHeight}},[a("el-table-column",{attrs:{label:"序号",type:"index","min-width":"5%","class-name":"allowDrag"}}),e._v(" "),a("el-table-column",{attrs:{label:"字段列名",prop:"columnName","min-width":"10%","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"字段描述","min-width":"10%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.columnComment,callback:function(a){e.$set(t.row,"columnComment",a)},expression:"scope.row.columnComment"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"物理类型",prop:"columnType","min-width":"10%","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"Java类型","min-width":"11%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{model:{value:t.row.javaType,callback:function(a){e.$set(t.row,"javaType",a)},expression:"scope.row.javaType"}},[a("el-option",{attrs:{label:"Long",value:"Long"}}),e._v(" "),a("el-option",{attrs:{label:"String",value:"String"}}),e._v(" "),a("el-option",{attrs:{label:"Integer",value:"Integer"}}),e._v(" "),a("el-option",{attrs:{label:"Double",value:"Double"}}),e._v(" "),a("el-option",{attrs:{label:"BigDecimal",value:"BigDecimal"}}),e._v(" "),a("el-option",{attrs:{label:"Date",value:"Date"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"java属性","min-width":"10%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.javaField,callback:function(a){e.$set(t.row,"javaField",a)},expression:"scope.row.javaField"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"插入","min-width":"5%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{"true-label":"1"},model:{value:t.row.isInsert,callback:function(a){e.$set(t.row,"isInsert",a)},expression:"scope.row.isInsert"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"编辑","min-width":"5%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{"true-label":"1"},model:{value:t.row.isEdit,callback:function(a){e.$set(t.row,"isEdit",a)},expression:"scope.row.isEdit"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"列表","min-width":"5%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{"true-label":"1"},model:{value:t.row.isList,callback:function(a){e.$set(t.row,"isList",a)},expression:"scope.row.isList"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"查询","min-width":"5%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{"true-label":"1"},model:{value:t.row.isQuery,callback:function(a){e.$set(t.row,"isQuery",a)},expression:"scope.row.isQuery"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"查询方式","min-width":"10%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{model:{value:t.row.queryType,callback:function(a){e.$set(t.row,"queryType",a)},expression:"scope.row.queryType"}},[a("el-option",{attrs:{label:"=",value:"EQ"}}),e._v(" "),a("el-option",{attrs:{label:"!=",value:"NE"}}),e._v(" "),a("el-option",{attrs:{label:">",value:"GT"}}),e._v(" "),a("el-option",{attrs:{label:">=",value:"GTE"}}),e._v(" "),a("el-option",{attrs:{label:"<",value:"LT"}}),e._v(" "),a("el-option",{attrs:{label:"<=",value:"LTE"}}),e._v(" "),a("el-option",{attrs:{label:"LIKE",value:"LIKE"}}),e._v(" "),a("el-option",{attrs:{label:"BETWEEN",value:"BETWEEN"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"必填","min-width":"5%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{"true-label":"1"},model:{value:t.row.isRequired,callback:function(a){e.$set(t.row,"isRequired",a)},expression:"scope.row.isRequired"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"显示类型","min-width":"12%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{model:{value:t.row.htmlType,callback:function(a){e.$set(t.row,"htmlType",a)},expression:"scope.row.htmlType"}},[a("el-option",{attrs:{label:"文本框",value:"input"}}),e._v(" "),a("el-option",{attrs:{label:"文本域",value:"textarea"}}),e._v(" "),a("el-option",{attrs:{label:"下拉框",value:"select"}}),e._v(" "),a("el-option",{attrs:{label:"单选框",value:"radio"}}),e._v(" "),a("el-option",{attrs:{label:"复选框",value:"checkbox"}}),e._v(" "),a("el-option",{attrs:{label:"日期控件",value:"datetime"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"字典类型","min-width":"12%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:t.row.dictType,callback:function(a){e.$set(t.row,"dictType",a)},expression:"scope.row.dictType"}},e._l(e.dictOptions,(function(t){return a("el-option",{key:t.dictType,attrs:{label:t.dictName,value:t.dictType}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.dictName))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.dictType))])])})),1)]}}])})],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"生成信息",name:"genInfo"}},[a("gen-info-form",{ref:"genInfo",attrs:{info:e.info}})],1)],1),e._v(" "),a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{staticStyle:{"text-align":"center","margin-left":"-100px","margin-top":"10px"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm()}}},[e._v("提交")]),e._v(" "),a("el-button",{on:{click:function(t){return e.close()}}},[e._v("返回")])],1)],1)],1)},r=[],n=(a("ac6a"),a("5df3"),a("4b72")),o=a("ed45"),l=a("ed69"),s=a("8586"),c=a("53fe"),u=a.n(c),d={name:"GenEdit",components:{basicInfoForm:l["default"],genInfoForm:s["default"]},data:function(){return{activeName:"cloum",tableHeight:document.documentElement.scrollHeight-245+"px",cloumns:[],dictOptions:[],info:{}}},beforeCreate:function(){var e=this,t=this.$route.query.tableId;t&&(Object(n["b"])(t).then((function(t){e.cloumns=t.data.rows,e.info=t.data.info})),Object(o["g"])().then((function(t){e.dictOptions=t.data})))},methods:{submitForm:function(){var e=this,t=this.$refs.basicInfo.$refs.basicInfoForm,a=this.$refs.genInfo.$refs.genInfoForm;Promise.all([t,a].map(this.getFormPromise)).then((function(i){var r=i.every((function(e){return!!e}));if(r){var o=Object.assign({},t.model,a.model);o.columns=e.cloumns,o.params={treeCode:o.treeCode,treeName:o.treeName,treeParentCode:o.treeParentCode},Object(n["g"])(o).then((function(t){e.msgSuccess(t.msg),200===t.code&&e.close()}))}else e.msgError("表单校验未通过，请重新检查提交内容")}))},getFormPromise:function(e){return new Promise((function(t){e.validate((function(e){t(e)}))}))},close:function(){this.$store.dispatch("tagsView/delView",this.$route),this.$router.push({path:"/tool/gen",query:{t:Date.now()}})}},mounted:function(){var e=this,t=this.$refs.dragTable.$el.querySelectorAll(".el-table__body-wrapper > table > tbody")[0];u.a.create(t,{handle:".allowDrag",onEnd:function(t){var a=e.cloumns.splice(t.oldIndex,1)[0];for(var i in e.cloumns.splice(t.newIndex,0,a),e.cloumns)e.cloumns[i].sort=parseInt(i)+1}})}},m=d,p=a("2877"),f=Object(p["a"])(m,i,r,!1,null,null,null);t["default"]=f.exports},7709:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"对应测点",prop:"pName"}},[a("el-input",{attrs:{placeholder:"请输入对应测点名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.pName,callback:function(t){e.$set(e.queryParams,"pName",t)},expression:"queryParams.pName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"对应位号",prop:"pCoding"}},[a("el-input",{attrs:{placeholder:"请输入对应位号",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.pCoding,callback:function(t){e.$set(e.queryParams,"pCoding",t)},expression:"queryParams.pCoding"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:RealtimeFollow:edit"],expression:"['sirui:RealtimeFollow:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:RealtimeFollow:remove"],expression:"['sirui:RealtimeFollow:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:RealtimeFollow:export"],expression:"['sirui:RealtimeFollow:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.RealtimeFollowList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"符号",align:"center",prop:"id"}}),e._v(" "),a("el-table-column",{attrs:{label:"对应测点名称",align:"center",prop:"pName"}}),e._v(" "),a("el-table-column",{attrs:{label:"对应位号",align:"center",prop:"pCoding"}}),e._v(" "),a("el-table-column",{attrs:{label:"倍数",align:"center",prop:"xs"}}),e._v(" "),a("el-table-column",{attrs:{label:"单位换算系数",align:"center",prop:"cs"}}),e._v(" "),a("el-table-column",{attrs:{label:"符号",align:"center",prop:"fh"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"符号",prop:"mId"}},[a("el-input",{attrs:{placeholder:"请输入符号"},model:{value:e.form.mId,callback:function(t){e.$set(e.form,"mId",t)},expression:"form.mId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"对应测点名称",prop:"pName"}},[a("el-input",{attrs:{placeholder:"请输入对应测点名称"},model:{value:e.form.pName,callback:function(t){e.$set(e.form,"pName",t)},expression:"form.pName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"对应位号",prop:"pCoding"}},[a("el-input",{attrs:{placeholder:"请输入对应位号"},model:{value:e.form.pCoding,callback:function(t){e.$set(e.form,"pCoding",t)},expression:"form.pCoding"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"倍数",prop:"xs"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.xs,callback:function(t){e.$set(e.form,"xs",t)},expression:"form.xs"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"单位换算系数",prop:"cs"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.cs,callback:function(t){e.$set(e.form,"cs",t)},expression:"form.cs"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"符号",prop:"fh"}},[a("el-input",{attrs:{placeholder:"请输入符号"},model:{value:e.form.fh,callback:function(t){e.$set(e.form,"fh",t)},expression:"form.fh"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=a("2420"),o=(a("550d"),{name:"RealtimeFollow",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,RealtimeFollowList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,pName:void 0,pCoding:void 0,xs:void 0,cs:void 0,fh:void 0},form:{},rules:{}}},created:function(){var e=this.$route.params&&this.$route.params.dictId;this.getList(e)},methods:{getList:function(e){var t=this;this.loading=!0,Object(n["e"])(this.queryParams,e).then((function(e){t.RealtimeFollowList=e.rows,t.total=e.total,t.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,mId:void 0,pName:void 0,pCoding:void 0,xs:void 0,cs:void 0,fh:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加实时数据配置从"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;Object(n["d"])(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改实时数据配置从"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?Object(n["f"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):Object(n["a"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除实时数据配置从编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["b"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有实时数据配置从数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["c"])(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}}),l=o,s=a("2877"),c=Object(s["a"])(l,i,r,!1,null,null,null);t["default"]=c.exports},"77e1":function(e,t,a){},7952:function(e,t,a){},"7f00":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container",staticStyle:{"overflow-x":"auto"}},[a("div",{staticStyle:{width:"2000px"}},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"统计时间",prop:"selectDate"}},[a("el-date-picker",{staticStyle:{width:"150px"},attrs:{clearable:"",size:"small",type:"month","value-format":"yyyy-MM",placeholder:"选择统计时间"},model:{value:e.queryParams.selectDate,callback:function(t){e.$set(e.queryParams,"selectDate",t)},expression:"queryParams.selectDate"}})],1),e._v(" "),a("el-form-item",[a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")])],1)],1),e._v(" "),a("a-table",{attrs:{columns:e.columns,"data-source":e.data,pagination:!1,bordered:""},scopedSlots:e._u([e._l(["energy","point","pointCode","usee","unit","zbxsUnit","adoptionZbxs","startStock","buyNumber","startValue","endValue","material","endStock","totalStartStock","totalBuyNumber","totalStartValue","totalEndValue","totalMaterial","totalEndStock"],(function(t){return{key:t,fn:function(i,r,n){return[a("div",{key:t},[r.editable?a("a-input",{staticStyle:{margin:"-5px 0"},attrs:{value:i},on:{change:function(a){return e.handleChange(a.target.value,r.key,t)}}}):[e._v("\n\t\t\t\t\t\t"+e._s(i)+"\n\t\t\t\t\t")]],2)]}}})),{key:"operation",fn:function(t,i,r){return[a("div",{staticClass:"editable-row-operations"},[i.editable?a("span",[a("a",{on:{click:function(){return e.save(i.key)}}},[e._v("确认")])]):a("span",[a("a",{attrs:{disabled:""!==e.editingKey},on:{click:function(){return e.edit(i.key)}}},[e._v("编辑")])])])]}}],null,!0)})],1)])},r=[],n=a("2909"),o=(a("f576"),a("6b54"),a("b775"));function l(e){return Object(o["a"])({url:"/baofeng/oneMonthStatistical",method:"post",data:e})}function s(e){return Object(o["a"])({url:"/baofeng/update",method:"post",data:e})}var c={data:function(){return{editingKey:"",data:[],queryParams:{selectDate:void 0},columns:[{title:"能源品种",width:"80px",dataIndex:"energy"},{title:"测点名称",width:"80px",dataIndex:"point"},{title:"测点序号",width:"80px",dataIndex:"pointCode"},{title:"能源用途",width:"80px",dataIndex:"usee"},{title:"计量单位",width:"80px",dataIndex:"unit"},{title:"采用折标系数",children:[{title:"单位",width:"80px",dataIndex:"zbxsUnit",key:"zbxsUnit"},{title:"数值",width:"80px",dataIndex:"adoptionZbxs",key:"adoptionZbxs"}]},{title:"本月",children:[{title:"期初库存",width:"80px",dataIndex:"startStock",key:"startStock",scopedSlots:{customRender:"startStock"}},{title:"购进量",width:"80px",dataIndex:"buyNumber",key:"buyNumber",scopedSlots:{customRender:"buyNumber"}},{title:"消费/产出量",width:"80px",dataIndex:"startValue",key:"startValue"},{title:"消费/产出折标量",width:"80px",dataIndex:"endValue",key:"endValue"},{title:"用于原材料",width:"80px",dataIndex:"material",key:"material",scopedSlots:{customRender:"material"}},{title:"期末库存",width:"80px",dataIndex:"endStock",key:"endStock",scopedSlots:{customRender:"endStock"}}]},{title:"1-本月",children:[{title:"期初库存",width:"80px",dataIndex:"totalStartStock",key:"totalStartStock"},{title:"购进量",width:"80px",dataIndex:"totalBuyNumber",key:"totalBuyNumber"},{title:"消费/产出量",width:"80px",dataIndex:"totalStartValue",key:"totalStartValue"},{title:"消费/产出折标量",width:"80px",dataIndex:"totalEndValue",key:"totalEndValue"},{title:"用于原材料",width:"80px",dataIndex:"totalMaterial",key:"totalMaterial"},{title:"期末库存",width:"80px",dataIndex:"totalEndStock",key:"totalEndStock"}]},{title:"操作",width:"80px",dataIndex:"operation",scopedSlots:{customRender:"operation"}}]}},created:function(){this.getBeforeDate(),this.oneMonthStatistical()},methods:{oneMonthStatistical:function(){var e=this;l(this.queryParams).then((function(t){if(e.data=[],200==t.code)for(var a=t.data,i=0;i<a.length;i++)e.data.push({key:i.toString(),energy:a[i].energy,point:a[i].point,pointCode:a[i].pointCode,usee:a[i].usee,unit:a[i].unit,zbxsUnit:a[i].zbxsUnit,adoptionZbxs:a[i].adoptionZbxs,startStock:a[i].startStock,buyNumber:a[i].buyNumber,startValue:a[i].startValue,endValue:a[i].endValue,material:a[i].material,endStock:a[i].endStock,totalStartStock:a[i].totalStartStock,totalBuyNumber:a[i].totalBuyNumber,totalStartValue:a[i].totalStartValue,totalEndValue:a[i].totalEndValue,totalMaterial:a[i].totalMaterial,totalEndStock:a[i].totalEndStock,dId:a[i].dId});else e.msgSuccess(t.msg)}))},getBeforeDate:function(){var e=new Date;e.setTime(e.getTime()-864e5);var t=e.getFullYear(),a=e.getMonth();e.getDate();0==a&&(t=parseInt(t)-1,a=12),a=a.toString().padStart(2,"0");var i="".concat(t,"-").concat(a);this.$set(this.queryParams,"selectDate",i)},handleQuery:function(){this.oneMonthStatistical()},handleChange:function(e,t,a){var i=Object(n["a"])(this.data);console.log(i);var r=i.filter((function(e){return t===e.key}))[0];r&&(r[a]=e,this.data=i)},edit:function(e){var t=Object(n["a"])(this.data);console.log(t+"1");var a=t.filter((function(t){return e===t.key}))[0];this.editingKey=e,a&&(a.editable=!0,this.data=t)},save:function(e){var t=this,a=Object(n["a"])(this.data),i=a.filter((function(t){return e===t.key}))[0];i&&(delete i.editable,s(this.data).then((function(e){console.log(e),200==e.code?t.oneMonthStatistical():t.msgSuccess(e.msg)}))),this.editingKey=""}}},u=c,d=(a("ddfd"),a("2877")),m=Object(d["a"])(u,i,r,!1,null,"11c3ab60",null);t["default"]=m.exports},"7f99":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"是否上传   Y:是  N：否",prop:"mId"}},[a("el-input",{attrs:{placeholder:"请输入是否上传   Y:是  N：否",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.mId,callback:function(t){e.$set(e.queryParams,"mId",t)},expression:"queryParams.mId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"表数据",prop:"number"}},[a("el-input",{attrs:{placeholder:"请输入表数据",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.number,callback:function(t){e.$set(e.queryParams,"number",t)},expression:"queryParams.number"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"计算数据",prop:"startValue"}},[a("el-input",{attrs:{placeholder:"请输入计算数据",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.startValue,callback:function(t){e.$set(e.queryParams,"startValue",t)},expression:"queryParams.startValue"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"单位",prop:"unit"}},[a("el-input",{attrs:{placeholder:"请输入单位",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.unit,callback:function(t){e.$set(e.queryParams,"unit",t)},expression:"queryParams.unit"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"折标系数",prop:"coefficient"}},[a("el-input",{attrs:{placeholder:"请输入折标系数",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.coefficient,callback:function(t){e.$set(e.queryParams,"coefficient",t)},expression:"queryParams.coefficient"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"折标量",prop:"endValue"}},[a("el-input",{attrs:{placeholder:"请输入折标量",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.endValue,callback:function(t){e.$set(e.queryParams,"endValue",t)},expression:"queryParams.endValue"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"折标系数单位",prop:"coefficientUnit"}},[a("el-input",{attrs:{placeholder:"请输入折标系数单位",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.coefficientUnit,callback:function(t){e.$set(e.queryParams,"coefficientUnit",t)},expression:"queryParams.coefficientUnit"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"能源用途",prop:"usee"}},[a("el-input",{attrs:{placeholder:"请输入能源用途",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.usee,callback:function(t){e.$set(e.queryParams,"usee",t)},expression:"queryParams.usee"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"数据采集类型：1 管理信息系统；2 生产监控管理系统；3 分布式控制系统；4 现场仪表；5 手工填报",prop:"inputType"}},[a("el-select",{attrs:{placeholder:"请选择数据采集类型：1 管理信息系统；2 生产监控管理系统；3 分布式控制系统；4 现场仪表；5 手工填报",clearable:"",size:"small"},model:{value:e.queryParams.inputType,callback:function(t){e.$set(e.queryParams,"inputType",t)},expression:"queryParams.inputType"}},[a("el-option",{attrs:{label:"请选择字典生成",value:""}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"数据采集频率 0 实时、1 日、2 月、3 年",prop:"statType"}},[a("el-select",{attrs:{placeholder:"请选择数据采集频率 0 实时、1 日、2 月、3 年",clearable:"",size:"small"},model:{value:e.queryParams.statType,callback:function(t){e.$set(e.queryParams,"statType",t)},expression:"queryParams.statType"}},[a("el-option",{attrs:{label:"请选择字典生成",value:""}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"数据范围：1 全厂；2 生产工序；3 生产工序单元；4 重点耗能设备",prop:"scope"}},[a("el-input",{attrs:{placeholder:"请输入数据范围：1 全厂；2 生产工序；3 生产工序单元；4 重点耗能设备",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.scope,callback:function(t){e.$set(e.queryParams,"scope",t)},expression:"queryParams.scope"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"统计时间",prop:"statDate"}},[a("el-input",{attrs:{placeholder:"请输入统计时间",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.statDate,callback:function(t){e.$set(e.queryParams,"statDate",t)},expression:"queryParams.statDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"数据有效性",prop:"valid"}},[a("el-input",{attrs:{placeholder:"请输入数据有效性",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.valid,callback:function(t){e.$set(e.queryParams,"valid",t)},expression:"queryParams.valid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"工序",prop:"craft"}},[a("el-input",{attrs:{placeholder:"请输入工序",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.craft,callback:function(t){e.$set(e.queryParams,"craft",t)},expression:"queryParams.craft"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"工序单元",prop:"craftUnit"}},[a("el-input",{attrs:{placeholder:"请输入工序单元",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.craftUnit,callback:function(t){e.$set(e.queryParams,"craftUnit",t)},expression:"queryParams.craftUnit"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"耗能设备",prop:"device"}},[a("el-input",{attrs:{placeholder:"请输入耗能设备",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.device,callback:function(t){e.$set(e.queryParams,"device",t)},expression:"queryParams.device"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否上传   Y:是  N：否",prop:"isOk"}},[a("el-input",{attrs:{placeholder:"请输入是否上传   Y:是  N：否",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.isOk,callback:function(t){e.$set(e.queryParams,"isOk",t)},expression:"queryParams.isOk"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否上传   Y:是  N：否",prop:"isUp"}},[a("el-input",{attrs:{placeholder:"请输入是否上传   Y:是  N：否",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.isUp,callback:function(t){e.$set(e.queryParams,"isUp",t)},expression:"queryParams.isUp"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:companyOneTotalData4:add"],expression:"['sirui:companyOneTotalData4:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:companyOneTotalData4:edit"],expression:"['sirui:companyOneTotalData4:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:companyOneTotalData4:remove"],expression:"['sirui:companyOneTotalData4:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:companyOneTotalData4:export"],expression:"['sirui:companyOneTotalData4:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.companyOneTotalData4List},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"主键",align:"center",prop:"id"}}),e._v(" "),a("el-table-column",{attrs:{label:"主键",align:"center",prop:"mId"}}),e._v(" "),a("el-table-column",{attrs:{label:"表数据",align:"center",prop:"number"}}),e._v(" "),a("el-table-column",{attrs:{label:"计算数据",align:"center",prop:"startValue"}}),e._v(" "),a("el-table-column",{attrs:{label:"单位",align:"center",prop:"unit"}}),e._v(" "),a("el-table-column",{attrs:{label:"折标系数",align:"center",prop:"coefficient"}}),e._v(" "),a("el-table-column",{attrs:{label:"折标量",align:"center",prop:"endValue"}}),e._v(" "),a("el-table-column",{attrs:{label:"折标系数单位",align:"center",prop:"coefficientUnit"}}),e._v(" "),a("el-table-column",{attrs:{label:"能源用途",align:"center",prop:"usee"}}),e._v(" "),a("el-table-column",{attrs:{label:"数据采集类型：1 管理信息系统；2 生产监控管理系统；3 分布式控制系统；4 现场仪表；5 手工填报",align:"center",prop:"inputType"}}),e._v(" "),a("el-table-column",{attrs:{label:"数据采集频率 0 实时、1 日、2 月、3 年",align:"center",prop:"statType"}}),e._v(" "),a("el-table-column",{attrs:{label:"数据范围：1 全厂；2 生产工序；3 生产工序单元；4 重点耗能设备",align:"center",prop:"scope"}}),e._v(" "),a("el-table-column",{attrs:{label:"统计时间",align:"center",prop:"statDate"}}),e._v(" "),a("el-table-column",{attrs:{label:"数据有效性",align:"center",prop:"valid"}}),e._v(" "),a("el-table-column",{attrs:{label:"工序",align:"center",prop:"craft"}}),e._v(" "),a("el-table-column",{attrs:{label:"工序单元",align:"center",prop:"craftUnit"}}),e._v(" "),a("el-table-column",{attrs:{label:"耗能设备",align:"center",prop:"device"}}),e._v(" "),a("el-table-column",{attrs:{label:"是否上传   Y:是  N：否",align:"center",prop:"isOk"}}),e._v(" "),a("el-table-column",{attrs:{label:"是否上传   Y:是  N：否",align:"center",prop:"isUp"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:companyOneTotalData4:edit"],expression:"['sirui:companyOneTotalData4:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:companyOneTotalData4:remove"],expression:"['sirui:companyOneTotalData4:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"更新时间",prop:"mId"}},[a("el-input",{attrs:{placeholder:"请输入更新时间"},model:{value:e.form.mId,callback:function(t){e.$set(e.form,"mId",t)},expression:"form.mId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"表数据",prop:"number"}},[a("el-input",{attrs:{placeholder:"请输入表数据"},model:{value:e.form.number,callback:function(t){e.$set(e.form,"number",t)},expression:"form.number"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"计算数据",prop:"startValue"}},[a("el-input",{attrs:{placeholder:"请输入计算数据"},model:{value:e.form.startValue,callback:function(t){e.$set(e.form,"startValue",t)},expression:"form.startValue"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"单位",prop:"unit"}},[a("el-input",{attrs:{placeholder:"请输入单位"},model:{value:e.form.unit,callback:function(t){e.$set(e.form,"unit",t)},expression:"form.unit"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"折标系数",prop:"coefficient"}},[a("el-input",{attrs:{placeholder:"请输入折标系数"},model:{value:e.form.coefficient,callback:function(t){e.$set(e.form,"coefficient",t)},expression:"form.coefficient"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"折标量",prop:"endValue"}},[a("el-input",{attrs:{placeholder:"请输入折标量"},model:{value:e.form.endValue,callback:function(t){e.$set(e.form,"endValue",t)},expression:"form.endValue"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"折标系数单位",prop:"coefficientUnit"}},[a("el-input",{attrs:{placeholder:"请输入折标系数单位"},model:{value:e.form.coefficientUnit,callback:function(t){e.$set(e.form,"coefficientUnit",t)},expression:"form.coefficientUnit"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"能源用途",prop:"usee"}},[a("el-input",{attrs:{placeholder:"请输入能源用途"},model:{value:e.form.usee,callback:function(t){e.$set(e.form,"usee",t)},expression:"form.usee"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"数据采集类型：1 管理信息系统；2 生产监控管理系统；3 分布式控制系统；4 现场仪表；5 手工填报"}},[a("el-select",{attrs:{placeholder:"请选择数据采集类型：1 管理信息系统；2 生产监控管理系统；3 分布式控制系统；4 现场仪表；5 手工填报"},model:{value:e.form.inputType,callback:function(t){e.$set(e.form,"inputType",t)},expression:"form.inputType"}},[a("el-option",{attrs:{label:"请选择字典生成",value:""}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"数据采集频率 0 实时、1 日、2 月、3 年"}},[a("el-select",{attrs:{placeholder:"请选择数据采集频率 0 实时、1 日、2 月、3 年"},model:{value:e.form.statType,callback:function(t){e.$set(e.form,"statType",t)},expression:"form.statType"}},[a("el-option",{attrs:{label:"请选择字典生成",value:""}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"数据范围：1 全厂；2 生产工序；3 生产工序单元；4 重点耗能设备",prop:"scope"}},[a("el-input",{attrs:{placeholder:"请输入数据范围：1 全厂；2 生产工序；3 生产工序单元；4 重点耗能设备"},model:{value:e.form.scope,callback:function(t){e.$set(e.form,"scope",t)},expression:"form.scope"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"统计时间",prop:"statDate"}},[a("el-input",{attrs:{placeholder:"请输入统计时间"},model:{value:e.form.statDate,callback:function(t){e.$set(e.form,"statDate",t)},expression:"form.statDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"数据有效性",prop:"valid"}},[a("el-input",{attrs:{placeholder:"请输入数据有效性"},model:{value:e.form.valid,callback:function(t){e.$set(e.form,"valid",t)},expression:"form.valid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"工序",prop:"craft"}},[a("el-input",{attrs:{placeholder:"请输入工序"},model:{value:e.form.craft,callback:function(t){e.$set(e.form,"craft",t)},expression:"form.craft"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"工序单元",prop:"craftUnit"}},[a("el-input",{attrs:{placeholder:"请输入工序单元"},model:{value:e.form.craftUnit,callback:function(t){e.$set(e.form,"craftUnit",t)},expression:"form.craftUnit"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"耗能设备",prop:"device"}},[a("el-input",{attrs:{placeholder:"请输入耗能设备"},model:{value:e.form.device,callback:function(t){e.$set(e.form,"device",t)},expression:"form.device"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否上传   Y:是  N：否",prop:"isOk"}},[a("el-input",{attrs:{placeholder:"请输入是否上传   Y:是  N：否"},model:{value:e.form.isOk,callback:function(t){e.$set(e.form,"isOk",t)},expression:"form.isOk"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否上传   Y:是  N：否",prop:"isUp"}},[a("el-input",{attrs:{placeholder:"请输入是否上传   Y:是  N：否"},model:{value:e.form.isUp,callback:function(t){e.$set(e.form,"isUp",t)},expression:"form.isUp"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=a("b775");function o(e){return Object(n["a"])({url:"/sirui/companyOneTotalData4/list",method:"get",params:e})}function l(e){return Object(n["a"])({url:"/sirui/companyOneTotalData4/"+e,method:"get"})}function s(e){return Object(n["a"])({url:"/sirui/companyOneTotalData4",method:"post",data:e})}function c(e){return Object(n["a"])({url:"/sirui/companyOneTotalData4",method:"put",data:e})}function u(e){return Object(n["a"])({url:"/sirui/companyOneTotalData4/"+e,method:"delete"})}function d(e){return Object(n["a"])({url:"/sirui/companyOneTotalData4/export",method:"get",params:e})}var m={name:"CompanyOneTotalData4",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,companyOneTotalData4List:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,mId:void 0,number:void 0,startValue:void 0,unit:void 0,coefficient:void 0,endValue:void 0,coefficientUnit:void 0,usee:void 0,inputType:void 0,statType:void 0,scope:void 0,statDate:void 0,valid:void 0,craft:void 0,craftUnit:void 0,device:void 0,isOk:void 0,isUp:void 0},form:{},rules:{}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,o(this.queryParams).then((function(t){e.companyOneTotalData4List=t.rows,e.total=t.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,mId:void 0,number:void 0,startValue:void 0,unit:void 0,coefficient:void 0,endValue:void 0,coefficientUnit:void 0,usee:void 0,inputType:void 0,statType:void 0,scope:void 0,statDate:void 0,valid:void 0,craft:void 0,craftUnit:void 0,device:void 0,isOk:void 0,isUp:void 0,createTime:void 0,updateTime:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加公司测点配置副"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;l(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改公司测点配置副"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?c(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):s(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除公司测点配置副编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有公司测点配置副数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return d(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},p=m,f=a("2877"),v=Object(f["a"])(p,i,r,!1,null,null,null);t["default"]=v.exports},"80de":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return makeUpJs}));var core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("456d"),core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("ac6a"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__),util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("3022"),util__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(util__WEBPACK_IMPORTED_MODULE_2__),_utils_index__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("ed08"),_config__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("2e2a"),units={KB:"1024",MB:"1024 / 1024",GB:"1024 / 1024 / 1024"},confGlobal,inheritAttrs={file:"",dialog:"inheritAttrs: false,"};function makeUpJs(e,t){confGlobal=e=JSON.parse(JSON.stringify(e));var a=[],i=[],r=[],n=[],o=mixinMethod(t),l=[];e.fields.forEach((function(e){buildAttributes(e,a,i,r,o,n,l)}));var s=buildexport(e,t,a.join("\n"),i.join("\n"),r.join("\n"),l.join("\n"),n.join("\n"),o.join("\n"));return confGlobal=null,s}function buildAttributes(e,t,a,i,r,n,o){if(buildData(e,t),buildRules(e,a),e.options&&e.options.length&&(buildOptions(e,i),"dynamic"===e.dataType)){var l="".concat(e.vModel,"Options"),s=Object(_utils_index__WEBPACK_IMPORTED_MODULE_3__["h"])(l);buildOptionMethod("get".concat(s),l,r)}e.props&&e.props.props&&buildProps(e,n),e.action&&"el-upload"===e.tag&&(o.push("".concat(e.vModel,"Action: '").concat(e.action,"',\n      ").concat(e.vModel,"fileList: [],")),r.push(buildBeforeUpload(e)),e["auto-upload"]||r.push(buildSubmitUpload(e))),e.children&&e.children.forEach((function(e){buildAttributes(e,t,a,i,r,n,o)}))}function mixinMethod(e){var t=[],a={file:confGlobal.formBtns?{submitForm:"submitForm() {\n        this.$refs['".concat(confGlobal.formRef,"'].validate(valid => {\n          if(!valid) return\n          // TODO 提交表单\n        })\n      },"),resetForm:"resetForm() {\n        this.$refs['".concat(confGlobal.formRef,"'].resetFields()\n      },")}:null,dialog:{onOpen:"onOpen() {},",onClose:"onClose() {\n        this.$refs['".concat(confGlobal.formRef,"'].resetFields()\n      },"),close:"close() {\n        this.$emit('update:visible', false)\n      },",handelConfirm:"handelConfirm() {\n        this.$refs['".concat(confGlobal.formRef,"'].validate(valid => {\n          if(!valid) return\n          this.close()\n        })\n      },")}},i=a[e];return i&&Object.keys(i).forEach((function(e){t.push(i[e])})),t}function buildData(e,t){var a;void 0!==e.vModel&&(a="string"!==typeof e.defaultValue||e.multiple?"".concat(JSON.stringify(e.defaultValue)):"'".concat(e.defaultValue,"'"),t.push("".concat(e.vModel,": ").concat(a,",")))}function buildRules(conf,ruleList){if(void 0!==conf.vModel){var rules=[];if(_config__WEBPACK_IMPORTED_MODULE_4__["e"][conf.tag]){if(conf.required){var type=Object(util__WEBPACK_IMPORTED_MODULE_2__["isArray"])(conf.defaultValue)?"type: 'array',":"",message=Object(util__WEBPACK_IMPORTED_MODULE_2__["isArray"])(conf.defaultValue)?"请至少选择一个".concat(conf.vModel):conf.placeholder;void 0===message&&(message="".concat(conf.label,"不能为空")),rules.push("{ required: true, ".concat(type," message: '").concat(message,"', trigger: '").concat(_config__WEBPACK_IMPORTED_MODULE_4__["e"][conf.tag],"' }"))}conf.regList&&Object(util__WEBPACK_IMPORTED_MODULE_2__["isArray"])(conf.regList)&&conf.regList.forEach((function(item){item.pattern&&rules.push("{ pattern: ".concat(eval(item.pattern),", message: '").concat(item.message,"', trigger: '").concat(_config__WEBPACK_IMPORTED_MODULE_4__["e"][conf.tag],"' }"))})),ruleList.push("".concat(conf.vModel,": [").concat(rules.join(","),"],"))}}}function buildOptions(e,t){if(void 0!==e.vModel){"dynamic"===e.dataType&&(e.options=[]);var a="".concat(e.vModel,"Options: ").concat(JSON.stringify(e.options),",");t.push(a)}}function buildProps(e,t){"dynamic"===e.dataType&&("value"!==e.valueKey&&(e.props.props.value=e.valueKey),"label"!==e.labelKey&&(e.props.props.label=e.labelKey),"children"!==e.childrenKey&&(e.props.props.children=e.childrenKey));var a="".concat(e.vModel,"Props: ").concat(JSON.stringify(e.props.props),",");t.push(a)}function buildBeforeUpload(e){var t=units[e.sizeUnit],a="",i="",r=[];e.fileSize&&(a="let isRightSize = file.size / ".concat(t," < ").concat(e.fileSize,"\n    if(!isRightSize){\n      this.$message.error('文件大小超过 ").concat(e.fileSize).concat(e.sizeUnit,"')\n    }"),r.push("isRightSize")),e.accept&&(i="let isAccept = new RegExp('".concat(e.accept,"').test(file.type)\n    if(!isAccept){\n      this.$message.error('应该选择").concat(e.accept,"类型的文件')\n    }"),r.push("isAccept"));var n="".concat(e.vModel,"BeforeUpload(file) {\n    ").concat(a,"\n    ").concat(i,"\n    return ").concat(r.join("&&"),"\n  },");return r.length?n:""}function buildSubmitUpload(e){var t="submitUpload() {\n    this.$refs['".concat(e.vModel,"'].submit()\n  },");return t}function buildOptionMethod(e,t,a){var i="".concat(e,"() {\n    // TODO 发起请求获取数据\n    this.").concat(t,"\n  },");a.push(i)}function buildexport(e,t,a,i,r,n,o,l){var s="".concat(_utils_index__WEBPACK_IMPORTED_MODULE_3__["d"],"{\n  ").concat(inheritAttrs[t],"\n  components: {},\n  props: [],\n  data () {\n    return {\n      ").concat(e.formModel,": {\n        ").concat(a,"\n      },\n      ").concat(e.formRules,": {\n        ").concat(i,"\n      },\n      ").concat(n,"\n      ").concat(r,"\n      ").concat(o,"\n    }\n  },\n  computed: {},\n  watch: {},\n  created () {},\n  mounted () {},\n  methods: {\n    ").concat(l,"\n  }\n}");return s}},8134:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"工序名称",prop:"process"}},[a("el-input",{attrs:{placeholder:"请输入工序名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.process,callback:function(t){e.$set(e.queryParams,"process",t)},expression:"queryParams.process"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"能源品种",prop:"energy"}},[a("el-select",{attrs:{placeholder:"请选择能源品种",clearable:"",filterable:"",size:"small"},model:{value:e.queryParams.energy,callback:function(t){e.$set(e.queryParams,"energy",t)},expression:"queryParams.energy"}},e._l(e.energyOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"统计时间",prop:"statDate"}},[a("el-date-picker",{staticStyle:{width:"200px"},attrs:{clearable:"",size:"small",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择统计时间"},model:{value:e.queryParams.statDate,callback:function(t){e.$set(e.queryParams,"statDate",t)},expression:"queryParams.statDate"}})],1),e._v(" "),a("el-form-item",[a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")])],1)],1),e._v(" "),a("div",{staticClass:"data-style"},[e._v("汇总数据")]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.totalList,"row-key":"id","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{label:"工序名称",align:"center",prop:"process"}}),e._v(" "),a("el-table-column",{attrs:{label:"测点名称",align:"center",prop:"point"}}),e._v(" "),a("el-table-column",{attrs:{label:"能源品种",width:"200",align:"left",prop:"energy"}}),e._v(" "),a("el-table-column",{attrs:{label:"数值",align:"center",prop:"startValue"}}),e._v(" "),a("el-table-column",{attrs:{label:"折标量",align:"center",prop:"endValue"}})],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"父级菜单",prop:"parentId"}},[a("treeselect",{attrs:{options:e.companyOneTotalData5Options,normalizer:e.normalizer,placeholder:"请选择父级菜单"},model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"工序名称",prop:"process"}},[a("el-input",{attrs:{placeholder:"请输入工序名称"},model:{value:e.form.process,callback:function(t){e.$set(e.form,"process",t)},expression:"form.process"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"工序编号",prop:"processCode"}},[a("el-input",{attrs:{placeholder:"请输入工序编号"},model:{value:e.form.processCode,callback:function(t){e.$set(e.form,"processCode",t)},expression:"form.processCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"能源品种",prop:"energy"}},[a("el-input",{attrs:{placeholder:"请输入能源品种"},model:{value:e.form.energy,callback:function(t){e.$set(e.form,"energy",t)},expression:"form.energy"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"能源品种编号",prop:"energyCode"}},[a("el-input",{attrs:{placeholder:"请输入能源品种编号"},model:{value:e.form.energyCode,callback:function(t){e.$set(e.form,"energyCode",t)},expression:"form.energyCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"测点名称",prop:"point"}},[a("el-input",{attrs:{placeholder:"请输入测点名称"},model:{value:e.form.point,callback:function(t){e.$set(e.form,"point",t)},expression:"form.point"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"测点位号",prop:"pointCode"}},[a("el-input",{attrs:{placeholder:"请输入测点位号"},model:{value:e.form.pointCode,callback:function(t){e.$set(e.form,"pointCode",t)},expression:"form.pointCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"倍数",prop:"multiple"}},[a("el-input",{attrs:{placeholder:"请输入倍数"},model:{value:e.form.multiple,callback:function(t){e.$set(e.form,"multiple",t)},expression:"form.multiple"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"单位换算系数",prop:"xs"}},[a("el-input",{attrs:{placeholder:"请输入单位换算系数"},model:{value:e.form.xs,callback:function(t){e.$set(e.form,"xs",t)},expression:"form.xs"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=(a("6b54"),a("f576"),a("a6d1")),o=a("ca17"),l=a.n(o),s=(a("542c"),{name:"CompanyOneTotalData5",components:{Treeselect:l.a},data:function(){return{loading:!0,companyOneTotalData5List:[],totalList:[],companyOneTotalData5Options:[],energyOptions:[],useeOptions:[],title:"",open:!1,queryParams:{process:void 0,device:void 0,statDate:void 0,selectDate:void 0,energy:void 0,type:"3",statType:"0"},form:{},rules:{}}},created:function(){var e=this;this.getTotalList(),this.getNowDate(),this.getDicts("sirui_energy_variety").then((function(t){e.energyOptions=t.data})),this.getDicts("sirui_nyytbm").then((function(t){e.useeOptions=t.data}))},updated:function(){this.expandAll()},methods:{expandAll:function(){for(var e=document.getElementsByClassName("el-table__expand-icon--expanded"),t=0;t<e.length;t++)e[t].click()},energyFormat:function(e,t){return this.selectDictLabel(this.energyOptions,e.energy)},useeFormat:function(e,t){return this.selectDictLabel(this.useeOptions,e.usee)},getTotalList:function(){var e=this;this.loading=!0,Object(n["d"])(this.queryParams).then((function(t){e.totalList=e.handleTree(t.data,"id","parentId"),e.loading=!1}))},getList:function(){var e=this;this.loading=!0,Object(n["g"])(this.queryParams).then((function(t){e.companyOneTotalData5List=e.handleTree(t.data,"id","parentId"),e.loading=!1}))},getNowDate:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth(),i=e.getDate();a+=1,a=a.toString().padStart(2,"0"),i=i.toString().padStart(2,"0");var r="".concat(t,"-").concat(a,"-").concat(i);this.$set(this.queryParams,"statDate",r)},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.id,label:e.process,children:e.children}},getTreeselect:function(){var e=this;Object(n["g"])().then((function(t){e.companyOneTotalData5Options=[];var a={id:0,process:"顶级节点",children:[]};a.children=e.handleTree(t.data,"id","parentId"),e.companyOneTotalData5Options.push(a)}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,parentId:void 0,process:void 0,processCode:void 0,type:"3",device:void 0,deviceCode:void 0,energy:void 0,energyCode:void 0,point:void 0,pointCode:void 0,multiple:void 0,xs:void 0,company:void 0,usee:void 0,createTime:void 0,updateTime:void 0,dId:void 0,number:void 0,startValue:void 0,endValue:void 0,inputType:void 0,statType:"0",scope:void 0,statDate:void 0},this.resetForm("form")},handleQuery:function(){this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.getTreeselect(),this.open=!0,this.title="添加二级数据测点配置"},handleUpdate:function(e){var t=this;this.reset(),this.getTreeselect(),void 0!=e&&(this.form.parentId=e.id),Object(n["c"])(e.id).then((function(e){t.form=e.data,t.open=!0,t.title="修改二级数据测点配置"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?Object(n["h"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):Object(n["a"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this;this.$confirm('是否确认删除二级数据测点配置编号为"'+e.id+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["b"])(e.id)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}}),c=s,u=(a("5b37"),a("2877")),d=Object(u["a"])(c,i,r,!1,null,null,null);t["default"]=d.exports},"82a3":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"能源品种",prop:"energy"}},[a("el-select",{attrs:{placeholder:"请选择能源品种",clearable:"",filterable:"",size:"small"},model:{value:e.queryParams.energy,callback:function(t){e.$set(e.queryParams,"energy",t)},expression:"queryParams.energy"}},e._l(e.energyOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"数据分类",prop:"dataType"}},[a("el-select",{attrs:{placeholder:"请选择数据分类",clearable:"",filterable:"",size:"small"},model:{value:e.queryParams.dataType,callback:function(t){e.$set(e.queryParams,"dataType",t)},expression:"queryParams.dataType"}},e._l(e.dataTypeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"统计时间",prop:"statDate"}},[a("el-date-picker",{staticStyle:{width:"200px"},attrs:{clearable:"",size:"small",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择统计时间"},model:{value:e.queryParams.statDate,callback:function(t){e.$set(e.queryParams,"statDate",t)},expression:"queryParams.statDate"}})],1),e._v(" "),a("el-form-item",[a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:oneData1:add"],expression:"['sirui:oneData1:add']"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.oneData1List,"row-key":"id","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{label:"能源品种",width:"200",align:"left",prop:"energy"}}),e._v(" "),a("el-table-column",{attrs:{label:"数据分类",align:"center",prop:"dataType",formatter:e.dataTypeFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"数值",align:"center",prop:"startValue"}}),e._v(" "),a("el-table-column",{attrs:{label:"单位",align:"center",prop:"unit"}}),e._v(" "),a("el-table-column",{attrs:{label:"折标量",align:"center",prop:"endValue"}}),e._v(" "),a("el-table-column",{attrs:{label:"数据采集频率 ",align:"center",prop:"statType",formatter:e.statTypeFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"统计时间",align:"center",prop:"statDate"}}),e._v(" "),a("el-table-column",{attrs:{label:"是否确认",align:"center",prop:"isOk",formatter:e.isOkFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:oneData1:edit"],expression:"['sirui:oneData1:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleConfirm(t.row)}}},[e._v("确认")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:oneData1:edit"],expression:"['sirui:oneData1:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:oneData1:remove"],expression:"['sirui:oneData1:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"能源品种"}},[a("el-select",{attrs:{placeholder:"请选择能源品种"},model:{value:e.form.energy,callback:function(t){e.$set(e.form,"energy",t)},expression:"form.energy"}},e._l(e.energyOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"数值",prop:"startValue"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.startValue,callback:function(t){e.$set(e.form,"startValue",t)},expression:"form.startValue"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"能源用途"}},[a("el-select",{attrs:{placeholder:"请选择能源用途"},model:{value:e.form.usee,callback:function(t){e.$set(e.form,"usee",t)},expression:"form.usee"}},e._l(e.useeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"数据采集频率 "}},[a("el-select",{attrs:{placeholder:"请选择数据采集频率 "},on:{change:e.statTypeChange},model:{value:e.form.statType,callback:function(t){e.$set(e.form,"statType",t)},expression:"form.statType"}},e._l(e.statTypeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"统计时间",prop:"statDate"}},["0"==this.form.statType?a("el-date-picker",{staticStyle:{width:"200px"},attrs:{clearable:"",size:"small",type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择统计时间"},model:{value:e.form.statDate,callback:function(t){e.$set(e.form,"statDate",t)},expression:"form.statDate"}}):e._e(),e._v(" "),"1"==this.form.statType?a("el-date-picker",{staticStyle:{width:"200px"},attrs:{clearable:"",size:"small",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择统计时间"},model:{value:e.form.statDate,callback:function(t){e.$set(e.form,"statDate",t)},expression:"form.statDate"}}):e._e(),e._v(" "),"2"==this.form.statType?a("el-date-picker",{staticStyle:{width:"200px"},attrs:{clearable:"",size:"small",type:"month","value-format":"yyyy-MM",placeholder:"选择统计时间"},model:{value:e.form.statDate,callback:function(t){e.$set(e.form,"statDate",t)},expression:"form.statDate"}}):e._e(),e._v(" "),"3"==this.form.statType?a("el-date-picker",{staticStyle:{width:"200px"},attrs:{clearable:"",size:"small",type:"year","value-format":"yyyy",placeholder:"选择统计时间"},model:{value:e.form.statDate,callback:function(t){e.$set(e.form,"statDate",t)},expression:"form.statDate"}}):e._e()],1),e._v(" "),a("el-form-item",{attrs:{label:"数据范围"}},[a("el-select",{attrs:{placeholder:"请选择数据范围"},model:{value:e.form.scope,callback:function(t){e.$set(e.form,"scope",t)},expression:"form.scope"}},e._l(e.scopeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=(a("6b54"),a("f576"),a("48b1")),o=a("ca17"),l=a.n(o),s=(a("542c"),{name:"OneData1",components:{Treeselect:l.a},data:function(){return{loading:!0,oneData1List:[],oneData1Options:[],title:"",open:!1,energyOptions:[],dataTypeOptions:[],useeOptions:[],inputTypeOptions:[],statTypeOptions:[],scopeOptions:[],validOptions:[],isOkOptions:[],isUpOptions:[],queryParams:{energy:void 0,company:void 0,point:void 0,dataType:void 0,statType:void 0,statDate:void 0},form:{},rules:{}}},created:function(){var e=this;this.getNowDate(),this.getList(),this.getDicts("sirui_energy_variety").then((function(t){e.energyOptions=t.data})),this.getDicts("sirui_data_type").then((function(t){e.dataTypeOptions=t.data})),this.getDicts("sirui_nyytbm").then((function(t){e.useeOptions=t.data})),this.getDicts("sr_sjsc_inputType").then((function(t){e.inputTypeOptions=t.data})),this.getDicts("sr_sjsc_statType").then((function(t){e.statTypeOptions=t.data})),this.getDicts("sr_sjsc_scope").then((function(t){e.scopeOptions=t.data})),this.getDicts("sirui_valid").then((function(t){e.validOptions=t.data})),this.getDicts("sys_yes_no").then((function(t){e.isOkOptions=t.data})),this.getDicts("sys_yes_no").then((function(t){e.isUpOptions=t.data}))},methods:{statTypeChange:function(){this.form.statDate=""},getNowDate:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth(),i=e.getDate();a+=1,a=a.toString().padStart(2,"0"),i=i.toString().padStart(2,"0");var r="".concat(t,"-").concat(a,"-").concat(i);this.$set(this.queryParams,"statDate",r)},getList:function(){var e=this;this.loading=!0,Object(n["f"])(this.queryParams).then((function(t){e.oneData1List=e.handleTree(t.data,"id","parentId"),e.loading=!1}))},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.id,label:e.energy,children:e.children}},getTreeselect:function(){var e=this;Object(n["f"])().then((function(t){e.oneData1Options=[];var a={id:0,energy:"顶级节点",children:[]};a.children=e.handleTree(t.data,"id","parentId"),e.oneData1Options.push(a)}))},energyFormat:function(e,t){return this.selectDictLabel(this.energyOptions,e.energy)},dataTypeFormat:function(e,t){return this.selectDictLabel(this.dataTypeOptions,e.dataType)},useeFormat:function(e,t){return this.selectDictLabel(this.useeOptions,e.usee)},inputTypeFormat:function(e,t){return this.selectDictLabel(this.inputTypeOptions,e.inputType)},statTypeFormat:function(e,t){return this.selectDictLabel(this.statTypeOptions,e.statType)},scopeFormat:function(e,t){return this.selectDictLabel(this.scopeOptions,e.scope)},validFormat:function(e,t){return this.selectDictLabel(this.validOptions,e.valid)},isOkFormat:function(e,t){return this.selectDictLabel(this.isOkOptions,e.isOk)},isUpFormat:function(e,t){return this.selectDictLabel(this.isUpOptions,e.isUp)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,parentId:void 0,energy:void 0,company:void 0,point:void 0,dataType:void 0,number:void 0,startValue:void 0,endValue:void 0,usee:void 0,unit:void 0,inputType:void 0,statType:void 0,statDate:void 0,scope:void 0,valid:void 0,isOk:void 0,isUp:void 0,createTime:void 0,updateTime:void 0},this.resetForm("form")},handleQuery:function(){this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.getTreeselect(),this.open=!0,this.title="添加一级数据（原始记录）"},handleUpdate:function(e){var t=this;this.reset(),this.getTreeselect(),void 0!=e&&(this.form.parentId=e.id),Object(n["d"])(e.id).then((function(e){t.form=e.data,t.open=!0,t.title="修改一级数据（原始记录）"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?Object(n["h"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):Object(n["a"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this;this.$confirm('是否确认删除一级数据（原始记录）编号为"'+e.id+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["c"])(e.id)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleConfirm:function(e){var t=this;this.$confirm('是否确认提交一级数据编号为"'+e.id+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["b"])(e.id)})).then((function(){t.getList(),t.msgSuccess("确认成功")})).catch((function(){}))}}}),c=s,u=a("2877"),d=Object(u["a"])(c,i,r,!1,null,null,null);t["default"]=d.exports},"82c8":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"表名称",prop:"tableName"}},[a("el-input",{attrs:{placeholder:"请输入表名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.tableName,callback:function(t){e.$set(e.queryParams,"tableName",t)},expression:"queryParams.tableName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"表描述",prop:"tableComment"}},[a("el-input",{attrs:{placeholder:"请输入表描述",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.tableComment,callback:function(t){e.$set(e.queryParams,"tableComment",t)},expression:"queryParams.tableComment"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["tool:gen:code"],expression:"['tool:gen:code']"}],attrs:{type:"primary",icon:"el-icon-download",size:"mini"},on:{click:e.handleGenTable}},[e._v("生成")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["tool:gen:import"],expression:"['tool:gen:import']"}],attrs:{type:"info",icon:"el-icon-upload",size:"mini"},on:{click:e.openImportTable}},[e._v("导入")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["tool:gen:edit"],expression:"['tool:gen:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleEditTable}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["tool:gen:remove"],expression:"['tool:gen:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.tableList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{label:"序号",type:"index",width:"50",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s((e.queryParams.pageNum-1)*e.queryParams.pageSize+t.$index+1))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"表名称",align:"center",prop:"tableName","show-overflow-tooltip":!0,width:"130"}}),e._v(" "),a("el-table-column",{attrs:{label:"表描述",align:"center",prop:"tableComment","show-overflow-tooltip":!0,width:"130"}}),e._v(" "),a("el-table-column",{attrs:{label:"实体",align:"center",prop:"className","show-overflow-tooltip":!0,width:"130"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{label:"更新时间",align:"center",prop:"updateTime",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["tool:gen:preview"],expression:"['tool:gen:preview']"}],attrs:{type:"text",size:"small",icon:"el-icon-view"},on:{click:function(a){return e.handlePreview(t.row)}}},[e._v("预览")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["tool:gen:edit"],expression:"['tool:gen:edit']"}],attrs:{type:"text",size:"small",icon:"el-icon-edit"},on:{click:function(a){return e.handleEditTable(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["tool:gen:remove"],expression:"['tool:gen:remove']"}],attrs:{type:"text",size:"small",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["tool:gen:code"],expression:"['tool:gen:code']"}],attrs:{type:"text",size:"small",icon:"el-icon-download"},on:{click:function(a){return e.handleGenTable(t.row)}}},[e._v("生成代码")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.preview.title,visible:e.preview.open,width:"80%",top:"5vh","append-to-body":""},on:{"update:visible":function(t){return e.$set(e.preview,"open",t)}}},[a("el-tabs",{model:{value:e.preview.activeName,callback:function(t){e.$set(e.preview,"activeName",t)},expression:"preview.activeName"}},e._l(e.preview.data,(function(t,i){return a("el-tab-pane",{key:i,attrs:{label:i.substring(i.lastIndexOf("/")+1,i.indexOf(".vm")),name:i.substring(i.lastIndexOf("/")+1,i.indexOf(".vm"))}},[a("pre",[e._v(e._s(t))])])})),1)],1),e._v(" "),a("import-table",{ref:"import",on:{ok:e.handleQuery}})],1)},r=[],n=a("4b72"),o=a("6f72"),l=(a("a481"),a("3b2b"),a("bc3a")),s=a.n(l),c=a("5f87"),u={xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",zip:"application/zip"},d="/prod-api";function m(e,t){var a=d+e;s()({method:"get",url:a,responseType:"blob",headers:{Authorization:"Bearer "+Object(c["a"])()}}).then((function(e){p(e,u.zip)}))}function p(e,t){var a=document.createElement("a"),i=new Blob([e.data],{type:t}),r=new RegExp("filename=([^;]+\\.[^\\.;]+);*"),n=decodeURI(e.headers["content-disposition"]),o=r.exec(n),l=o[1];l=l.replace(/\"/g,""),a.href=URL.createObjectURL(i),a.setAttribute("download",l),document.body.appendChild(a),a.click(),document.body.appendChild(a)}var f={name:"Gen",components:{importTable:o["default"]},data:function(){return{loading:!0,uniqueId:"",ids:[],tableNames:[],single:!0,multiple:!0,total:0,tableList:[],dateRange:"",queryParams:{pageNum:1,pageSize:10,tableName:void 0,tableComment:void 0},preview:{open:!1,title:"代码预览",data:{},activeName:"domain.java"}}},created:function(){this.getList()},activated:function(){var e=this.$route.query.t;null!=e&&e!=this.uniqueId&&(this.uniqueId=e,this.resetQuery())},methods:{getList:function(){var e=this;this.loading=!0,Object(n["e"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.tableList=t.rows,e.total=t.total,e.loading=!1}))},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},handleGenTable:function(e){var t=e.tableName||this.tableNames;""!=t?m("/tool/gen/batchGenCode?tables="+t,"ruoyi"):this.msgError("请选择要生成的数据")},openImportTable:function(){this.$refs.import.show()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handlePreview:function(e){var t=this;Object(n["f"])(e.tableId).then((function(e){t.preview.data=e.data,t.preview.open=!0}))},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.tableId})),this.tableNames=e.map((function(e){return e.tableName})),this.single=1!=e.length,this.multiple=!e.length},handleEditTable:function(e){var t=e.tableId||this.ids[0];this.$router.push({path:"/gen/edit",query:{tableId:t}})},handleDelete:function(e){var t=this,a=e.tableId||this.ids;this.$confirm('是否确认删除表编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["a"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}},v=f,h=a("2877"),b=Object(h["a"])(v,i,r,!1,null,null,null);t["default"]=b.exports},8586:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"genInfoForm",attrs:{model:e.info,rules:e.rules,"label-width":"150px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"tplCategory"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("生成模板")]),e._v(" "),a("el-select",{model:{value:e.info.tplCategory,callback:function(t){e.$set(e.info,"tplCategory",t)},expression:"info.tplCategory"}},[a("el-option",{attrs:{label:"单表（增删改查）",value:"crud"}}),e._v(" "),a("el-option",{attrs:{label:"树表（增删改查）",value:"tree"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"packageName"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("\n          生成包路径\n          "),a("el-tooltip",{attrs:{content:"生成在哪个java包下，例如 com.ruoyi.system",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("el-input",{model:{value:e.info.packageName,callback:function(t){e.$set(e.info,"packageName",t)},expression:"info.packageName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"moduleName"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("\n          生成模块名\n          "),a("el-tooltip",{attrs:{content:"可理解为子系统名，例如 system",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("el-input",{model:{value:e.info.moduleName,callback:function(t){e.$set(e.info,"moduleName",t)},expression:"info.moduleName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"businessName"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("\n          生成业务名\n          "),a("el-tooltip",{attrs:{content:"可理解为功能英文名，例如 user",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("el-input",{model:{value:e.info.businessName,callback:function(t){e.$set(e.info,"businessName",t)},expression:"info.businessName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"functionName"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("\n          生成功能名\n          "),a("el-tooltip",{attrs:{content:"用作类描述，例如 用户",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("el-input",{model:{value:e.info.functionName,callback:function(t){e.$set(e.info,"functionName",t)},expression:"info.functionName"}})],1)],1)],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:"tree"==e.info.tplCategory,expression:"info.tplCategory == 'tree'"}]},[a("h4",{staticClass:"form-header"},[e._v("其他信息")]),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("\n          树编码字段\n          "),a("el-tooltip",{attrs:{content:"树显示的编码字段名， 如：dept_id",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.info.treeCode,callback:function(t){e.$set(e.info,"treeCode",t)},expression:"info.treeCode"}},e._l(e.info.columns,(function(e){return a("el-option",{key:e.columnName,attrs:{label:e.columnName+"："+e.columnComment,value:e.columnName}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("\n          树父编码字段\n          "),a("el-tooltip",{attrs:{content:"树显示的父编码字段名， 如：parent_Id",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.info.treeParentCode,callback:function(t){e.$set(e.info,"treeParentCode",t)},expression:"info.treeParentCode"}},e._l(e.info.columns,(function(e){return a("el-option",{key:e.columnName,attrs:{label:e.columnName+"："+e.columnComment,value:e.columnName}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("\n          树名称字段\n          "),a("el-tooltip",{attrs:{content:"树节点的显示名称字段名， 如：dept_name",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.info.treeName,callback:function(t){e.$set(e.info,"treeName",t)},expression:"info.treeName"}},e._l(e.info.columns,(function(e){return a("el-option",{key:e.columnName,attrs:{label:e.columnName+"："+e.columnComment,value:e.columnName}})})),1)],1)],1)],1)],1)},r=[],n={name:"BasicInfoForm",props:{info:{type:Object,default:null}},data:function(){return{rules:{tplCategory:[{required:!0,message:"请选择生成模板",trigger:"blur"}],packageName:[{required:!0,message:"请输入生成包路径",trigger:"blur"}],moduleName:[{required:!0,message:"请输入生成模块名",trigger:"blur"}],businessName:[{required:!0,message:"请输入生成业务名",trigger:"blur"}],functionName:[{required:!0,message:"请输入生成功能名",trigger:"blur"}]}}},created:function(){}},o=n,l=a("2877"),s=Object(l["a"])(o,i,r,!1,null,null,null);t["default"]=s.exports},"85cd":function(e,t,a){},8708:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.name,callback:function(t){e.$set(e.queryParams,"name",t)},expression:"queryParams.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"编码",prop:"coding"}},[a("el-input",{attrs:{placeholder:"请输入编码",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.coding,callback:function(t){e.$set(e.queryParams,"coding",t)},expression:"queryParams.coding"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:consumption:add"],expression:"['sirui:consumption:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:consumption:edit"],expression:"['sirui:consumption:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:consumption:remove"],expression:"['sirui:consumption:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:consumption:export"],expression:"['sirui:consumption:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.consumptionList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"名称",align:"center",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:"编码",align:"center",prop:"coding"}}),e._v(" "),a("el-table-column",{attrs:{label:"折标系数",align:"center",prop:"conversionFactor"}}),e._v(" "),a("el-table-column",{attrs:{label:"折标系数单位",align:"center",prop:"conversionFactorUnit"}}),e._v(" "),a("el-table-column",{attrs:{label:"计量单位",align:"center",prop:"unit"}}),e._v(" "),a("el-table-column",{attrs:{label:"数值精度",align:"center",prop:"numericalAccuracy"}}),e._v(" "),a("el-table-column",{attrs:{label:"折标计量单位",align:"center",prop:"discountUnit"}}),e._v(" "),a("el-table-column",{attrs:{label:"折标数值精度",align:"center",prop:"discountNumericalAccuracy"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:consumption:edit"],expression:"['sirui:consumption:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:consumption:remove"],expression:"['sirui:consumption:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"编码",prop:"coding"}},[a("el-input",{attrs:{placeholder:"请输入编码"},model:{value:e.form.coding,callback:function(t){e.$set(e.form,"coding",t)},expression:"form.coding"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"折标系数",prop:"conversionFactor"}},[a("el-input",{attrs:{placeholder:"请输入折标系数"},model:{value:e.form.conversionFactor,callback:function(t){e.$set(e.form,"conversionFactor",t)},expression:"form.conversionFactor"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"折标系数单位",prop:"conversionFactorUnit"}},[a("el-input",{attrs:{placeholder:"请输入折标系数单位"},model:{value:e.form.conversionFactorUnit,callback:function(t){e.$set(e.form,"conversionFactorUnit",t)},expression:"form.conversionFactorUnit"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"计量单位",prop:"unit"}},[a("el-input",{attrs:{placeholder:"请输入计量单位"},model:{value:e.form.unit,callback:function(t){e.$set(e.form,"unit",t)},expression:"form.unit"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"数值精度",prop:"numericalAccuracy"}},[a("el-input",{attrs:{placeholder:"请输入数值精度"},model:{value:e.form.numericalAccuracy,callback:function(t){e.$set(e.form,"numericalAccuracy",t)},expression:"form.numericalAccuracy"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"折标计量单位",prop:"discountUnit"}},[a("el-input",{attrs:{placeholder:"请输入折标计量单位"},model:{value:e.form.discountUnit,callback:function(t){e.$set(e.form,"discountUnit",t)},expression:"form.discountUnit"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"折标数值精度",prop:"discountNumericalAccuracy"}},[a("el-input",{attrs:{placeholder:"请输入折标数值精度"},model:{value:e.form.discountNumericalAccuracy,callback:function(t){e.$set(e.form,"discountNumericalAccuracy",t)},expression:"form.discountNumericalAccuracy"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=a("b775");function o(e){return Object(n["a"])({url:"/sirui/consumption/list",method:"get",params:e})}function l(e){return Object(n["a"])({url:"/sirui/consumption/"+e,method:"get"})}function s(e){return Object(n["a"])({url:"/sirui/consumption",method:"post",data:e})}function c(e){return Object(n["a"])({url:"/sirui/consumption",method:"put",data:e})}function u(e){return Object(n["a"])({url:"/sirui/consumption/"+e,method:"delete"})}function d(e){return Object(n["a"])({url:"/sirui/consumption/export",method:"get",params:e})}var m={name:"Consumption",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,consumptionList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,name:void 0,coding:void 0,conversionFactor:void 0,conversionFactorUnit:void 0,unit:void 0,numericalAccuracy:void 0,discountUnit:void 0,discountNumericalAccuracy:void 0,createdBy:void 0,createdTime:void 0,updatedBy:void 0,updatedTime:void 0},form:{},rules:{}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,o(this.queryParams).then((function(t){e.consumptionList=t.rows,e.total=t.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,name:void 0,coding:void 0,conversionFactor:void 0,conversionFactorUnit:void 0,unit:void 0,numericalAccuracy:void 0,discountUnit:void 0,discountNumericalAccuracy:void 0,createdBy:void 0,createdTime:void 0,updatedBy:void 0,updatedTime:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加耗能工质"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;l(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改耗能工质"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?c(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):s(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除耗能工质编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有耗能工质数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return d(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},p=m,f=a("2877"),v=Object(f["a"])(p,i,r,!1,null,null,null);t["default"]=v.exports},"897c":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"工序名称",prop:"process"}},[a("el-input",{attrs:{placeholder:"请输入工序名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.process,callback:function(t){e.$set(e.queryParams,"process",t)},expression:"queryParams.process"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"能源品种",prop:"energy"}},[a("el-select",{attrs:{placeholder:"请选择能源品种",clearable:"",filterable:"",size:"small"},model:{value:e.queryParams.energy,callback:function(t){e.$set(e.queryParams,"energy",t)},expression:"queryParams.energy"}},e._l(e.energyOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"统计时间",prop:"statDate"}},[a("el-date-picker",{staticStyle:{width:"200px"},attrs:{clearable:"",size:"small",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择统计时间"},model:{value:e.queryParams.statDate,callback:function(t){e.$set(e.queryParams,"statDate",t)},expression:"queryParams.statDate"}})],1),e._v(" "),a("el-form-item",[a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.companyOneTotalData5List,"row-key":"id","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{label:"工序名称",align:"center",prop:"process"}}),e._v(" "),a("el-table-column",{attrs:{label:"能源品种",align:"center",prop:"energy"}}),e._v(" "),a("el-table-column",{attrs:{label:"数值",align:"center",prop:"startValue"}}),e._v(" "),a("el-table-column",{attrs:{label:"折标量",align:"center",prop:"endValue"}}),e._v(" "),a("el-table-column",{attrs:{label:"统计时间",align:"center",prop:"statDate"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:companyOneTotalData5:edit"],expression:"['sirui:companyOneTotalData5:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:companyOneTotalData5:remove"],expression:"['sirui:companyOneTotalData5:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"父级菜单",prop:"parentId"}},[a("treeselect",{attrs:{options:e.companyOneTotalData5Options,normalizer:e.normalizer,placeholder:"请选择父级菜单"},model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"工序名称",prop:"process"}},[a("el-input",{attrs:{placeholder:"请输入工序名称"},model:{value:e.form.process,callback:function(t){e.$set(e.form,"process",t)},expression:"form.process"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"工序编号",prop:"processCode"}},[a("el-input",{attrs:{placeholder:"请输入工序编号"},model:{value:e.form.processCode,callback:function(t){e.$set(e.form,"processCode",t)},expression:"form.processCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"能源品种",prop:"energy"}},[a("el-input",{attrs:{placeholder:"请输入能源品种"},model:{value:e.form.energy,callback:function(t){e.$set(e.form,"energy",t)},expression:"form.energy"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"能源品种编号",prop:"energyCode"}},[a("el-input",{attrs:{placeholder:"请输入能源品种编号"},model:{value:e.form.energyCode,callback:function(t){e.$set(e.form,"energyCode",t)},expression:"form.energyCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"测点名称",prop:"point"}},[a("el-input",{attrs:{placeholder:"请输入测点名称"},model:{value:e.form.point,callback:function(t){e.$set(e.form,"point",t)},expression:"form.point"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"测点位号",prop:"pointCode"}},[a("el-input",{attrs:{placeholder:"请输入测点位号"},model:{value:e.form.pointCode,callback:function(t){e.$set(e.form,"pointCode",t)},expression:"form.pointCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"倍数",prop:"multiple"}},[a("el-input",{attrs:{placeholder:"请输入倍数"},model:{value:e.form.multiple,callback:function(t){e.$set(e.form,"multiple",t)},expression:"form.multiple"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"单位换算系数",prop:"xs"}},[a("el-input",{attrs:{placeholder:"请输入单位换算系数"},model:{value:e.form.xs,callback:function(t){e.$set(e.form,"xs",t)},expression:"form.xs"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=(a("6b54"),a("f576"),a("a6d1")),o=a("ca17"),l=a.n(o),s=(a("542c"),{name:"CompanyOneTotalData5",components:{Treeselect:l.a},data:function(){return{loading:!0,companyOneTotalData5List:[],totalList:[],companyOneTotalData5Options:[],energyOptions:[],useeOptions:[],title:"",open:!1,queryParams:{process:void 0,device:void 0,statDate:void 0,selectDate:void 0,energy:void 0,type:"2",statType:"0"},form:{},rules:{}}},created:function(){var e=this;this.getList(),this.getNowDate(),this.getDicts("sirui_energy_variety").then((function(t){e.energyOptions=t.data})),this.getDicts("sirui_nyytbm").then((function(t){e.useeOptions=t.data}))},updated:function(){this.expandAll()},methods:{expandAll:function(){for(var e=document.getElementsByClassName("el-table__expand-icon--expanded"),t=0;t<e.length;t++)e[t].click()},getNowDate:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth(),i=e.getDate();a+=1,a=a.toString().padStart(2,"0"),i=i.toString().padStart(2,"0");var r="".concat(t,"-").concat(a,"-").concat(i);this.$set(this.queryParams,"statDate",r)},energyFormat:function(e,t){return this.selectDictLabel(this.energyOptions,e.energy)},useeFormat:function(e,t){return this.selectDictLabel(this.useeOptions,e.usee)},getTotalList:function(){var e=this;this.loading=!0,Object(n["d"])(this.queryParams).then((function(t){e.totalList=e.handleTree(t.data,"id","parentId"),e.loading=!1}))},getList:function(){var e=this;this.loading=!0,Object(n["g"])(this.queryParams).then((function(t){e.companyOneTotalData5List=e.handleTree(t.data,"id","parentId"),e.loading=!1}))},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.id,label:e.process,children:e.children}},getTreeselect:function(){var e=this;Object(n["g"])().then((function(t){e.companyOneTotalData5Options=[];var a={id:0,process:"顶级节点",children:[]};a.children=e.handleTree(t.data,"id","parentId"),e.companyOneTotalData5Options.push(a)}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,parentId:void 0,process:void 0,processCode:void 0,type:"2",device:void 0,deviceCode:void 0,energy:void 0,energyCode:void 0,point:void 0,pointCode:void 0,multiple:void 0,xs:void 0,company:void 0,usee:void 0,createTime:void 0,updateTime:void 0,dId:void 0,number:void 0,startValue:void 0,endValue:void 0,inputType:void 0,statType:"0",scope:void 0,statDate:void 0},this.resetForm("form")},handleQuery:function(){this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.getTreeselect(),this.open=!0,this.title="添加二级数据测点配置"},handleUpdate:function(e){var t=this;this.reset(),this.getTreeselect(),void 0!=e&&(this.form.parentId=e.id),Object(n["c"])(e.id).then((function(e){t.form=e.data,t.open=!0,t.title="修改二级数据测点配置"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?Object(n["h"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):Object(n["a"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this;this.$confirm('是否确认删除二级数据测点配置编号为"'+e.id+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["b"])(e.id)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}}),c=s,u=(a("e0c3"),a("2877")),d=Object(u["a"])(c,i,r,!1,null,null,null);t["default"]=d.exports},"89a8":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"panel-group",attrs:{gutter:40}},[a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(t){return e.handleSetLineChartData("newVisitis")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-people"},[a("svg-icon",{attrs:{"icon-class":"peoples","class-name":"card-panel-icon"}})],1),e._v(" "),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v("\n          访客\n        ")]),e._v(" "),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":102400,duration:2600}})],1)])]),e._v(" "),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(t){return e.handleSetLineChartData("messages")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-message"},[a("svg-icon",{attrs:{"icon-class":"message","class-name":"card-panel-icon"}})],1),e._v(" "),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v("\n          消息\n        ")]),e._v(" "),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":81212,duration:3e3}})],1)])]),e._v(" "),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(t){return e.handleSetLineChartData("purchases")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-money"},[a("svg-icon",{attrs:{"icon-class":"money","class-name":"card-panel-icon"}})],1),e._v(" "),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v("\n          金额\n        ")]),e._v(" "),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":9280,duration:3200}})],1)])]),e._v(" "),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(t){return e.handleSetLineChartData("shoppings")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-shopping"},[a("svg-icon",{attrs:{"icon-class":"shopping","class-name":"card-panel-icon"}})],1),e._v(" "),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v("\n          订单\n        ")]),e._v(" "),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":13600,duration:3600}})],1)])])],1)},r=[],n=a("ec1b"),o=a.n(n),l={components:{CountTo:o.a},methods:{handleSetLineChartData:function(e){this.$emit("handleSetLineChartData",e)}}},s=l,c=(a("1acf"),a("2877")),u=Object(c["a"])(s,i,r,!1,null,"abc3639a",null);t["default"]=u.exports},"8d60":function(e,t,a){"use strict";var i=a("f3b5"),r=a.n(i);r.a},"8dd8":function(e,t,a){},"8e41":function(e,t,a){"use strict";a.r(t);var i=a("ed08");t["default"]={data:function(){return{$_sidebarElm:null,$_resizeHandler:null}},mounted:function(){this.initListener()},activated:function(){this.$_resizeHandler||this.initListener(),this.resize()},beforeDestroy:function(){this.destroyListener()},deactivated:function(){this.destroyListener()},methods:{$_sidebarResizeHandler:function(e){"width"===e.propertyName&&this.$_resizeHandler()},initListener:function(){var e=this;this.$_resizeHandler=Object(i["c"])((function(){e.resize()}),100),window.addEventListener("resize",this.$_resizeHandler),this.$_sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener("transitionend",this.$_sidebarResizeHandler)},destroyListener:function(){window.removeEventListener("resize",this.$_resizeHandler),this.$_resizeHandler=null,this.$_sidebarElm&&this.$_sidebarElm.removeEventListener("transitionend",this.$_sidebarResizeHandler)},resize:function(){var e=this.chart;e&&e.resize()}}}},9055:function(e,t,a){},9131:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:config:add"],expression:"['sirui:config:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:config:edit"],expression:"['sirui:config:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:config:remove"],expression:"['sirui:config:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:config:export"],expression:"['sirui:config:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.configList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"ID",align:"center",prop:"id"}}),e._v(" "),a("el-table-column",{attrs:{label:"采集数据项指标名称",align:"center",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:"生产工序",align:"center",prop:"processCode"}}),e._v(" "),a("el-table-column",{attrs:{label:"工序单元",align:"center",prop:"processUnitCode"}}),e._v(" "),a("el-table-column",{attrs:{label:"设备类型",align:"center",prop:"equipmentCode"}}),e._v(" "),a("el-table-column",{attrs:{label:"设备编号",align:"center",prop:"equipmentUnitCode"}}),e._v(" "),a("el-table-column",{attrs:{label:"采集对象类型",align:"center",prop:"energyClassCode"}}),e._v(" "),a("el-table-column",{attrs:{label:"能源分类",align:"center",prop:"energyTypeCode"}}),e._v(" "),a("el-table-column",{attrs:{label:"用途编码",align:"center",prop:"dataUsageCode"}}),e._v(" "),a("el-table-column",{attrs:{label:"数据采集来源",align:"center",prop:"inputType",formatter:e.inputTypeFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"数据最大值",align:"center",prop:"dataValueMax"}}),e._v(" "),a("el-table-column",{attrs:{label:"数据最小值",align:"center",prop:"dataValueMin"}}),e._v(" "),a("el-table-column",{attrs:{label:"采集频率",align:"center",prop:"statType",formatter:e.stattypeFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"采集系统名称",align:"center",prop:"collectSystemName"}}),e._v(" "),a("el-table-column",{attrs:{label:"范围",align:"center",prop:"scope",formatter:e.scopeFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:config:edit"],expression:"['sirui:config:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:config:remove"],expression:"['sirui:config:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"采集数据项指标名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入采集数据项指标名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"生产工序",prop:"processCode"}},[a("el-input",{attrs:{placeholder:"请输入生产工序"},model:{value:e.form.processCode,callback:function(t){e.$set(e.form,"processCode",t)},expression:"form.processCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"工序单元",prop:"processUnitCode"}},[a("el-input",{attrs:{placeholder:"请输入工序单元"},model:{value:e.form.processUnitCode,callback:function(t){e.$set(e.form,"processUnitCode",t)},expression:"form.processUnitCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"设备类型",prop:"equipmentCode"}},[a("el-input",{attrs:{placeholder:"请输入设备类型"},model:{value:e.form.equipmentCode,callback:function(t){e.$set(e.form,"equipmentCode",t)},expression:"form.equipmentCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"设备编号",prop:"equipmentUnitCode"}},[a("el-input",{attrs:{placeholder:"请输入设备编号"},model:{value:e.form.equipmentUnitCode,callback:function(t){e.$set(e.form,"equipmentUnitCode",t)},expression:"form.equipmentUnitCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"采集对象类型",prop:"energyClassCode"}},[a("el-input",{attrs:{placeholder:"请输入采集对象类型"},model:{value:e.form.energyClassCode,callback:function(t){e.$set(e.form,"energyClassCode",t)},expression:"form.energyClassCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"能源分类",prop:"energyTypeCode"}},[a("el-input",{attrs:{placeholder:"请输入能源分类"},model:{value:e.form.energyTypeCode,callback:function(t){e.$set(e.form,"energyTypeCode",t)},expression:"form.energyTypeCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用途编码",prop:"dataUsageCode"}},[a("el-input",{attrs:{placeholder:"请输入用途编码"},model:{value:e.form.dataUsageCode,callback:function(t){e.$set(e.form,"dataUsageCode",t)},expression:"form.dataUsageCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"数据采集来源"}},[a("el-select",{attrs:{placeholder:"请选择数据采集来源"},model:{value:e.form.inputType,callback:function(t){e.$set(e.form,"inputType",t)},expression:"form.inputType"}},e._l(e.inputTypeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"数据最大值",prop:"dataValueMax"}},[a("el-input",{attrs:{placeholder:"请输入数据最大值"},model:{value:e.form.dataValueMax,callback:function(t){e.$set(e.form,"dataValueMax",t)},expression:"form.dataValueMax"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"数据最小值",prop:"dataValueMin"}},[a("el-input",{attrs:{placeholder:"请输入数据最小值"},model:{value:e.form.dataValueMin,callback:function(t){e.$set(e.form,"dataValueMin",t)},expression:"form.dataValueMin"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"采集频率"}},[a("el-select",{attrs:{placeholder:"请选择采集频率"},model:{value:e.form.statType,callback:function(t){e.$set(e.form,"statType",t)},expression:"form.statType"}},e._l(e.stattypeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"采集系统名称",prop:"collectSystemName"}},[a("el-input",{attrs:{placeholder:"请输入采集系统名称"},model:{value:e.form.collectSystemName,callback:function(t){e.$set(e.form,"collectSystemName",t)},expression:"form.collectSystemName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"范围"}},[a("el-select",{attrs:{placeholder:"请选择范围"},model:{value:e.form.scope,callback:function(t){e.$set(e.form,"scope",t)},expression:"form.scope"}},e._l(e.scopeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=a("b775");function o(e){return Object(n["a"])({url:"/sirui/config/list",method:"get",params:e})}function l(e){return Object(n["a"])({url:"/sirui/config/"+e,method:"get"})}function s(e){return Object(n["a"])({url:"/sirui/config",method:"post",data:e})}function c(e){return Object(n["a"])({url:"/sirui/config",method:"put",data:e})}function u(e){return Object(n["a"])({url:"/sirui/config/"+e,method:"delete"})}function d(e){return Object(n["a"])({url:"/sirui/config/export",method:"get",params:e})}var m={name:"Config",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,configList:[],title:"",open:!1,inputTypeOptions:[],stattypeOptions:[],scopeOptions:[],queryParams:{pageNum:1,pageSize:10},form:{},rules:{id:[{required:!0,message:"ID不能为空",trigger:"blur"}],name:[{required:!0,message:"采集数据项指标名称不能为空",trigger:"blur"}],processCode:[{required:!0,message:"生产工序不能为空",trigger:"blur"}],processUnitCode:[{required:!0,message:"工序单元不能为空",trigger:"blur"}],equipmentCode:[{required:!0,message:"设备类型不能为空",trigger:"blur"}],equipmentUnitCode:[{required:!0,message:"设备编号不能为空",trigger:"blur"}],energyClassCode:[{required:!0,message:"采集对象类型不能为空",trigger:"blur"}],energyTypeCode:[{required:!0,message:"能源分类不能为空",trigger:"blur"}],dataUsageCode:[{required:!0,message:"用途编码不能为空",trigger:"blur"}],inputType:[{required:!0,message:"数据采集来源不能为空",trigger:"blur"}],dataValueMax:[{required:!0,message:"数据最大值不能为空",trigger:"blur"}],dataValueMin:[{required:!0,message:"数据最小值不能为空",trigger:"blur"}],statType:[{required:!0,message:"采集频率不能为空",trigger:"blur"}],collectSystemName:[{required:!0,message:"采集系统名称不能为空",trigger:"blur"}],scope:[{required:!0,message:"范围不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sr_sjsc_inputType").then((function(t){e.inputTypeOptions=t.data})),this.getDicts("sr_sjsc_statType1").then((function(t){e.stattypeOptions=t.data})),this.getDicts("sr_sjsc_scope").then((function(t){e.scopeOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,o(this.queryParams).then((function(t){e.configList=t.rows,e.total=t.total,e.loading=!1}))},inputTypeFormat:function(e,t){return this.selectDictLabel(this.inputTypeOptions,e.inputType)},stattypeFormat:function(e,t){return this.selectDictLabel(this.stattypeOptions,e.statType)},scopeFormat:function(e,t){return this.selectDictLabel(this.scopeOptions,e.scope)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,name:void 0,processCode:void 0,processUnitCode:void 0,equipmentCode:void 0,equipmentUnitCode:void 0,energyClassCode:void 0,energyTypeCode:void 0,dataUsageCode:void 0,inputType:void 0,dataValueMax:void 0,dataValueMin:void 0,statType:void 0,collectSystemName:void 0,scope:void 0,createBy:void 0,createTime:void 0,updateBy:void 0,updateTime:void 0,remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加采集数据项配置"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;l(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改采集数据项配置"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?c(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):s(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除采集数据项配置编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有采集数据项配置数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return d(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},p=m,f=a("2877"),v=Object(f["a"])(p,i,r,!1,null,null,null);t["default"]=v.exports},"92cf":function(e,t,a){},9345:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"指标编码",prop:"code"}},[a("el-input",{attrs:{placeholder:"请输入指标编码",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.code,callback:function(t){e.$set(e.queryParams,"code",t)},expression:"queryParams.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"指标名",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入指标名",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.name,callback:function(t){e.$set(e.queryParams,"name",t)},expression:"queryParams.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"行业编码",prop:"industrycode"}},[a("el-input",{attrs:{placeholder:"请输入行业编码",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.industrycode,callback:function(t){e.$set(e.queryParams,"industrycode",t)},expression:"queryParams.industrycode"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}}),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.quotaList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{label:"指标编码",align:"center",prop:"code"}}),e._v(" "),a("el-table-column",{attrs:{label:"指标名",align:"center",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:"地区编码",align:"center",prop:"regioncode"}}),e._v(" "),a("el-table-column",{attrs:{label:"行业编码",align:"center",prop:"industrycode"}}),e._v(" "),a("el-table-column",{attrs:{label:"国标",align:"center",prop:"gbvalue"}}),e._v(" "),a("el-table-column",{attrs:{label:"地方标准",align:"center",prop:"dbvalue"}}),e._v(" "),a("el-table-column",{attrs:{label:"分子单位",align:"center",prop:"elemunit"}}),e._v(" "),a("el-table-column",{attrs:{label:"分母单位",align:"center",prop:"denounit"}}),e._v(" "),a("el-table-column",{attrs:{label:"指标单位",align:"center",prop:"quotaunit"}}),e._v(" "),a("el-table-column",{attrs:{label:"单位换算系数",align:"center",prop:"zbxs"}}),e._v(" "),a("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark"}})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"指标编码",prop:"code"}},[a("el-input",{attrs:{placeholder:"请输入指标编码"},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"指标名",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入指标名"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"地区编码",prop:"regioncode"}},[a("el-input",{attrs:{placeholder:"请输入地区编码"},model:{value:e.form.regioncode,callback:function(t){e.$set(e.form,"regioncode",t)},expression:"form.regioncode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"行业编码",prop:"industrycode"}},[a("el-input",{attrs:{placeholder:"请输入行业编码"},model:{value:e.form.industrycode,callback:function(t){e.$set(e.form,"industrycode",t)},expression:"form.industrycode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"国标",prop:"gbvalue"}},[a("el-input",{attrs:{placeholder:"请输入国标"},model:{value:e.form.gbvalue,callback:function(t){e.$set(e.form,"gbvalue",t)},expression:"form.gbvalue"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"地方标准",prop:"dbvalue"}},[a("el-input",{attrs:{placeholder:"请输入地方标准"},model:{value:e.form.dbvalue,callback:function(t){e.$set(e.form,"dbvalue",t)},expression:"form.dbvalue"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"分子单位",prop:"elemunit"}},[a("el-input",{attrs:{placeholder:"请输入分子单位"},model:{value:e.form.elemunit,callback:function(t){e.$set(e.form,"elemunit",t)},expression:"form.elemunit"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"分母单位",prop:"denounit"}},[a("el-input",{attrs:{placeholder:"请输入分母单位"},model:{value:e.form.denounit,callback:function(t){e.$set(e.form,"denounit",t)},expression:"form.denounit"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"指标单位",prop:"quotaunit"}},[a("el-input",{attrs:{placeholder:"请输入指标单位"},model:{value:e.form.quotaunit,callback:function(t){e.$set(e.form,"quotaunit",t)},expression:"form.quotaunit"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"单位换算系数",prop:"zbxs"}},[a("el-input",{attrs:{placeholder:"请输入单位换算系数"},model:{value:e.form.zbxs,callback:function(t){e.$set(e.form,"zbxs",t)},expression:"form.zbxs"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=a("b775");function o(e){return Object(n["a"])({url:"/sirui/quota/list",method:"get",params:e})}function l(e){return Object(n["a"])({url:"/sirui/quota/"+e,method:"get"})}function s(e){return Object(n["a"])({url:"/sirui/quota",method:"post",data:e})}function c(e){return Object(n["a"])({url:"/sirui/quota",method:"put",data:e})}function u(e){return Object(n["a"])({url:"/sirui/quota/"+e,method:"delete"})}function d(e){return Object(n["a"])({url:"/sirui/quota/export",method:"get",params:e})}var m={name:"Quota",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,quotaList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,code:void 0,name:void 0,regioncode:void 0,industrycode:void 0},form:{},rules:{}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,o(this.queryParams).then((function(t){e.quotaList=t.rows,e.total=t.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,code:void 0,name:void 0,regioncode:void 0,industrycode:void 0,gbvalue:void 0,dbvalue:void 0,elemunit:void 0,denounit:void 0,quotaunit:void 0,zbxs:void 0,createBy:void 0,createTime:void 0,updateBy:void 0,updateTime:void 0,remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加产品指标，提供各类单产能耗指标项的标准值"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;l(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改产品指标，提供各类单产能耗指标项的标准值"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?c(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):s(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除产品指标，提供各类单产能耗指标项的标准值编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有产品指标，提供各类单产能耗指标项的标准值数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return d(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},p=m,f=a("2877"),v=Object(f["a"])(p,i,r,!1,null,null,null);t["default"]=v.exports},9429:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("img",{staticClass:"img-circle img-lg",attrs:{src:e.options.img,title:"点击上传头像"},on:{click:function(t){return e.editCropper()}}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"800px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-row",[a("el-col",{style:{height:"350px"},attrs:{xs:24,md:12}},[a("vue-cropper",{ref:"cropper",attrs:{img:e.options.img,info:!0,autoCrop:e.options.autoCrop,autoCropWidth:e.options.autoCropWidth,autoCropHeight:e.options.autoCropHeight,fixedBox:e.options.fixedBox},on:{realTime:e.realTime}})],1),e._v(" "),a("el-col",{style:{height:"350px"},attrs:{xs:24,md:12}},[a("div",{staticClass:"avatar-upload-preview"},[a("img",{style:e.previews.img,attrs:{src:e.previews.url}})])])],1),e._v(" "),a("br"),e._v(" "),a("el-row",[a("el-col",{attrs:{lg:2,md:2}},[a("el-upload",{attrs:{action:"#","http-request":e.requestUpload,"show-file-list":!1,"before-upload":e.beforeUpload}},[a("el-button",{attrs:{size:"small"}},[e._v("\n            上传\n            "),a("i",{staticClass:"el-icon-upload el-icon--right"})])],1)],1),e._v(" "),a("el-col",{attrs:{lg:{span:1,offset:2},md:2}},[a("el-button",{attrs:{icon:"el-icon-plus",size:"small"},on:{click:function(t){return e.changeScale(1)}}})],1),e._v(" "),a("el-col",{attrs:{lg:{span:1,offset:1},md:2}},[a("el-button",{attrs:{icon:"el-icon-minus",size:"small"},on:{click:function(t){return e.changeScale(-1)}}})],1),e._v(" "),a("el-col",{attrs:{lg:{span:1,offset:1},md:2}},[a("el-button",{attrs:{icon:"el-icon-refresh-left",size:"small"},on:{click:function(t){return e.rotateLeft()}}})],1),e._v(" "),a("el-col",{attrs:{lg:{span:1,offset:1},md:2}},[a("el-button",{attrs:{icon:"el-icon-refresh-right",size:"small"},on:{click:function(t){return e.rotateRight()}}})],1),e._v(" "),a("el-col",{attrs:{lg:{span:2,offset:6},md:2}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.uploadImg()}}},[e._v("提 交")])],1)],1)],1)],1)},r=[],n=a("4360"),o=a("7e79"),l=a("c0c7"),s={components:{VueCropper:o["VueCropper"]},props:{user:{type:Object}},data:function(){return{open:!1,title:"修改头像",options:{img:n["a"].getters.avatar,autoCrop:!0,autoCropWidth:200,autoCropHeight:200,fixedBox:!0},previews:{}}},methods:{editCropper:function(){this.open=!0},requestUpload:function(){},rotateLeft:function(){this.$refs.cropper.rotateLeft()},rotateRight:function(){this.$refs.cropper.rotateRight()},changeScale:function(e){e=e||1,this.$refs.cropper.changeScale(e)},beforeUpload:function(e){var t=this;if(-1==e.type.indexOf("image/"))this.msgError("文件格式错误，请上传图片类型,如：JPG，PNG后缀的文件。");else{var a=new FileReader;a.readAsDataURL(e),a.onload=function(){t.options.img=a.result}}},uploadImg:function(){var e=this;this.$refs.cropper.getCropBlob((function(t){var a=new FormData;a.append("avatarfile",t),Object(l["m"])(a).then((function(t){200===t.code&&(e.open=!1,e.options.img="/prod-api"+t.imgUrl,e.msgSuccess("修改成功")),e.$refs.cropper.clearCrop()}))}))},realTime:function(e){this.previews=e}}},c=s,u=a("2877"),d=Object(u["a"])(c,i,r,!1,null,null,null);t["default"]=d.exports},9488:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},r=[],n=a("313e"),o=a.n(n),l=a("feb2");a("817d");var s=6e3,c={mixins:[l["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=o.a.init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{top:10,left:"2%",right:"2%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value",axisTick:{show:!1}}],series:[{name:"pageA",type:"bar",stack:"vistors",barWidth:"60%",data:[79,52,200,334,390,330,220],animationDuration:s},{name:"pageB",type:"bar",stack:"vistors",barWidth:"60%",data:[80,52,200,334,390,330,220],animationDuration:s},{name:"pageC",type:"bar",stack:"vistors",barWidth:"60%",data:[30,52,200,334,390,330,220],animationDuration:s}]})}}},u=c,d=a("2877"),m=Object(d["a"])(u,i,r,!1,null,null,null);t["default"]=m.exports},"95d4":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"任务名称",prop:"jobName"}},[a("el-input",{attrs:{placeholder:"请输入任务名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.jobName,callback:function(t){e.$set(e.queryParams,"jobName",t)},expression:"queryParams.jobName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"任务组名",prop:"jobGroup"}},[a("el-select",{attrs:{placeholder:"请选择任务组名",clearable:"",size:"small"},model:{value:e.queryParams.jobGroup,callback:function(t){e.$set(e.queryParams,"jobGroup",t)},expression:"queryParams.jobGroup"}},e._l(e.jobGroupOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"任务状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"请选择任务状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:add"],expression:"['monitor:job:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:edit"],expression:"['monitor:job:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:remove"],expression:"['monitor:job:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:export"],expression:"['monitor:job:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:query"],expression:"['monitor:job:query']"}],attrs:{type:"info",icon:"el-icon-s-operation",size:"mini"},on:{click:e.handleJobLog}},[e._v("日志")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.jobList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"任务编号",align:"center",prop:"jobId"}}),e._v(" "),a("el-table-column",{attrs:{label:"任务名称",align:"center",prop:"jobName","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"任务组名",align:"center",prop:"jobGroup",formatter:e.jobGroupFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"调用目标字符串",align:"center",prop:"invokeTarget","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"cron执行表达式",align:"center",prop:"cronExpression","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":"0","inactive-value":"1"},on:{change:function(a){return e.handleStatusChange(t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:edit"],expression:"['monitor:job:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-caret-right"},on:{click:function(a){return e.handleRun(t.row)}}},[e._v("执行一次")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:query"],expression:"['monitor:job:query']"}],attrs:{size:"mini",type:"text",icon:"el-icon-view"},on:{click:function(a){return e.handleView(t.row)}}},[e._v("详细")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"700px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"任务名称",prop:"jobName"}},[a("el-input",{attrs:{placeholder:"请输入任务名称"},model:{value:e.form.jobName,callback:function(t){e.$set(e.form,"jobName",t)},expression:"form.jobName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"任务分组",prop:"jobGroup"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.jobGroup,callback:function(t){e.$set(e.form,"jobGroup",t)},expression:"form.jobGroup"}},e._l(e.jobGroupOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"invokeTarget"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("\n              调用方法\n              "),a("el-tooltip",{attrs:{placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n                  Bean调用示例：ryTask.ryParams('ry')\n                  "),a("br"),e._v("Class类调用示例：com.ruoyi.quartz.task.RyTask.ryParams('ry')\n                  "),a("br"),e._v("参数说明：支持字符串，布尔类型，长整型，浮点型，整型\n                ")]),e._v(" "),a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("el-input",{attrs:{placeholder:"请输入调用目标字符串"},model:{value:e.form.invokeTarget,callback:function(t){e.$set(e.form,"invokeTarget",t)},expression:"form.invokeTarget"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"cron表达式",prop:"cronExpression"}},[a("el-input",{attrs:{placeholder:"请输入cron执行表达式"},model:{value:e.form.cronExpression,callback:function(t){e.$set(e.form,"cronExpression",t)},expression:"form.cronExpression"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"是否并发",prop:"concurrent"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.form.concurrent,callback:function(t){e.$set(e.form,"concurrent",t)},expression:"form.concurrent"}},[a("el-radio-button",{attrs:{label:"0"}},[e._v("允许")]),e._v(" "),a("el-radio-button",{attrs:{label:"1"}},[e._v("禁止")])],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"错误策略",prop:"misfirePolicy"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.form.misfirePolicy,callback:function(t){e.$set(e.form,"misfirePolicy",t)},expression:"form.misfirePolicy"}},[a("el-radio-button",{attrs:{label:"1"}},[e._v("立即执行")]),e._v(" "),a("el-radio-button",{attrs:{label:"2"}},[e._v("执行一次")]),e._v(" "),a("el-radio-button",{attrs:{label:"3"}},[e._v("放弃执行")])],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"任务详细",visible:e.openView,width:"700px","append-to-body":""},on:{"update:visible":function(t){e.openView=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px",size:"mini"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"任务编号："}},[e._v(e._s(e.form.jobId))]),e._v(" "),a("el-form-item",{attrs:{label:"任务名称："}},[e._v(e._s(e.form.jobName))])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"任务分组："}},[e._v(e._s(e.jobGroupFormat(e.form)))]),e._v(" "),a("el-form-item",{attrs:{label:"创建时间："}},[e._v(e._s(e.form.createTime))])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"cron表达式："}},[e._v(e._s(e.form.cronExpression))])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"下次执行时间："}},[e._v(e._s(e.parseTime(e.form.nextValidTime)))])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"调用目标方法："}},[e._v(e._s(e.form.invokeTarget))])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"任务状态："}},[0==e.form.status?a("div",[e._v("正常")]):1==e.form.status?a("div",[e._v("失败")]):e._e()])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"是否并发："}},[0==e.form.concurrent?a("div",[e._v("允许")]):1==e.form.concurrent?a("div",[e._v("禁止")]):e._e()])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"执行策略："}},[0==e.form.misfirePolicy?a("div",[e._v("默认策略")]):1==e.form.misfirePolicy?a("div",[e._v("立即执行")]):2==e.form.misfirePolicy?a("div",[e._v("执行一次")]):3==e.form.misfirePolicy?a("div",[e._v("放弃执行")]):e._e()])],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.openView=!1}}},[e._v("关 闭")])],1)],1)],1)},r=[],n=a("a1590"),o={name:"Job",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,jobList:[],title:"",open:!1,openView:!1,jobGroupOptions:[],statusOptions:[],queryParams:{pageNum:1,pageSize:10,jobName:void 0,jobGroup:void 0,status:void 0},form:{},rules:{jobName:[{required:!0,message:"任务名称不能为空",trigger:"blur"}],invokeTarget:[{required:!0,message:"调用目标字符串不能为空",trigger:"blur"}],cronExpression:[{required:!0,message:"cron执行表达式不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_job_group").then((function(t){e.jobGroupOptions=t.data})),this.getDicts("sys_job_status").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,Object(n["f"])(this.queryParams).then((function(t){e.jobList=t.rows,e.total=t.total,e.loading=!1}))},jobGroupFormat:function(e,t){return this.selectDictLabel(this.jobGroupOptions,e.jobGroup)},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={jobId:void 0,jobName:void 0,jobGroup:void 0,invokeTarget:void 0,cronExpression:void 0,misfirePolicy:1,concurrent:1,status:"0"},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.jobId})),this.single=1!=e.length,this.multiple=!e.length},handleStatusChange:function(e){var t=this,a="0"===e.status?"启用":"停用";this.$confirm('确认要"'+a+'""'+e.jobName+'"任务吗?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["b"])(e.jobId,e.status)})).then((function(){t.msgSuccess(a+"成功")})).catch((function(){e.status="0"===e.status?"1":"0"}))},handleRun:function(e){var t=this;this.$confirm('确认要立即执行一次"'+e.jobName+'"任务吗?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["g"])(e.jobId,e.jobGroup)})).then((function(){t.msgSuccess("执行成功")})).catch((function(){}))},handleView:function(e){var t=this;Object(n["e"])(e.jobId).then((function(e){t.form=e.data,t.openView=!0}))},handleJobLog:function(){this.$router.push("/job/log")},handleAdd:function(){this.reset(),this.open=!0,this.title="添加任务"},handleUpdate:function(e){var t=this;this.reset();var a=e.jobId||this.ids;Object(n["e"])(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改任务"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.jobId?Object(n["h"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):Object(n["a"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this,a=e.jobId||this.ids;this.$confirm('是否确认删除定时任务编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["c"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有定时任务数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["d"])(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},l=o,s=a("2877"),c=Object(s["a"])(l,i,r,!1,null,null,null);t["default"]=c.exports},9705:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},r=[],n=a("313e"),o=a.n(n),l=a("8e41"),s=a("bc3a"),c=a.n(s);a("817d");var u=6e3,d={mixins:[l["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null,tuBiaoData3:""}},mounted:function(){},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},created:function(){var e=this;this.getTuBiao(c.a.get("/prod-api/xxrd/nyjkSeriesFdmh",{params:{}}).then((function(t){e.tuBiaoData3=t.data.data.nyjkSeries,e.$nextTick((function(){e.initChart()}))})).catch((function(e){console.log("获取数据失败")})))},methods:{initChart:function(){this.chart=o.a.init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{top:10,left:"2%",right:"2%",bottom:"3%",containLabel:!0},xAxis:{type:"time",splitLine:{show:!1}},yAxis:[{type:"value",axisTick:{show:!1}}],series:[{name:this.tuBiaoData3[0].seriesName,type:"bar",stack:"vistors",barWidth:"60%",data:this.tuBiaoData3[0].seriesDataEchart,animationDuration:u},{name:this.tuBiaoData3[1].seriesName,type:"bar",stack:"vistors",barWidth:"60%",data:this.tuBiaoData3[1].seriesDataEchart,animationDuration:u},{name:this.tuBiaoData3[2].seriesName,type:"bar",stack:"vistors",barWidth:"60%",data:this.tuBiaoData3[2].seriesDataEchart,animationDuration:u},{name:this.tuBiaoData3[3].seriesName,type:"bar",stack:"vistors",barWidth:"60%",data:this.tuBiaoData3[3].seriesDataEchart,animationDuration:u}]})}}},m=d,p=a("2877"),f=Object(p["a"])(m,i,r,!1,null,null,null);t["default"]=f.exports},9736:function(e,t,a){"use strict";a.d(t,"e",(function(){return r})),a.d(t,"d",(function(){return n})),a.d(t,"a",(function(){return o})),a.d(t,"f",(function(){return l})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return c}));var i=a("b775");function r(e){return Object(i["a"])({url:"/sirui/srUpload/list",method:"get",params:e})}function n(e){return Object(i["a"])({url:"/sirui/srUpload/"+e,method:"get"})}function o(e){return Object(i["a"])({url:"/sirui/srUpload",method:"post",data:e})}function l(e){return Object(i["a"])({url:"/sirui/srUpload",method:"put",data:e})}function s(e){return Object(i["a"])({url:"/sirui/srUpload/"+e,method:"delete"})}function c(e){return Object(i["a"])({url:"/sirui/srUpload/export",method:"get",params:e})}},9800:function(e,t,a){"use strict";var i=a("4dcd"),r=a.n(i);r.a},"99c1":function(e,t,a){"use strict";var i=a("f368"),r=a.n(i);r.a},"9b8f":function(e,t,a){"use strict";a.r(t);a("a481");var i,r,n={created:function(){var e=this.$route,t=e.params,a=e.query,i=t.path;this.$router.replace({path:"/"+i,query:a})},render:function(e){return e()}},o=n,l=a("2877"),s=Object(l["a"])(o,i,r,!1,null,null,null);t["default"]=s.exports},"9bb6":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.zhuce,expression:"zhuce"},{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:registration:add"],expression:"['sirui:registration:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:registration:export"],expression:"['sirui:registration:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:registration:export"],expression:"['sirui:registration:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleAddComInfo}},[e._v("用能单位基础信息上传")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:registration:export"],expression:"['sirui:registration:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleUploadEnergyData}},[e._v("数据提交")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.registrationList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"ID",align:"center",prop:"id"}}),e._v(" "),a("el-table-column",{attrs:{label:"统一社会信用代码",align:"center",prop:"enterpriseCode"}}),e._v(" "),a("el-table-column",{attrs:{label:"行政区划代码",align:"center",prop:"region"}}),e._v(" "),a("el-table-column",{attrs:{label:"返回码",align:"center",prop:"responseCode"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态提示",align:"center",prop:"responseMessage"}}),e._v(" "),a("el-table-column",{attrs:{label:"设备序列号",align:"center",prop:"deviceId"}}),e._v(" "),a("el-table-column",{attrs:{label:"基础数据下载地址",align:"center",prop:"loadConfigUrl"}}),e._v(" "),a("el-table-column",{attrs:{label:"平台版本下载地址",align:"center",prop:"loadDicVersionUrl"}}),e._v(" "),a("el-table-column",{attrs:{label:"用能单位基础信息配置上传地址",align:"center",prop:"centerinfoUrl"}}),e._v(" "),a("el-table-column",{attrs:{label:"采集数据上传地址",align:"center",prop:"centerDataUrl"}}),e._v(" "),a("el-table-column",{attrs:{label:"用能单位基础信息配置下载地址",align:"center",prop:"centerInfoDownloadUrl"}}),e._v(" "),a("el-table-column",{attrs:{label:"采集数据下载地址",align:"center",prop:"centerDataDownloadUrl"}}),e._v(" "),a("el-table-column",{attrs:{label:"上报时间点",align:"center",prop:"uploadTime"}}),e._v(" "),a("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:job:query"],expression:"['sirui:job:query']"}],attrs:{size:"mini",type:"text",icon:"el-icon-view"},on:{click:function(a){return e.handleView(t.row)}}},[e._v("详细")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"统一社会信用代码",prop:"enterpriseCode"}},[a("el-input",{attrs:{placeholder:"请输入统一社会信用代码"},model:{value:e.form.enterpriseCode,callback:function(t){e.$set(e.form,"enterpriseCode",t)},expression:"form.enterpriseCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"行政区划代码",prop:"region"}},[a("el-input",{attrs:{placeholder:"请输入行政区划代码，具体到县级"},model:{value:e.form.region,callback:function(t){e.$set(e.form,"region",t)},expression:"form.region"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"任务详细",visible:e.openView,width:"600px","append-to-body":""},on:{"update:visible":function(t){e.openView=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"240px",size:"mini"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"统一社会信用代码："}},[e._v(e._s(e.form.enterpriseCode))])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"行政区划代码："}},[e._v(e._s(e.form.region))])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"返回码："}},[e._v(e._s(e.form.responseCode))])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"状态提示："}},[e._v(e._s(e.form.responseMessage))])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"设备序列号："}},[e._v(e._s(e.form.deviceId))])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"基础数据下载地址："}},[e._v(e._s(e.form.loadConfigUrl))])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"平台版本下载地址："}},[e._v(e._s(e.form.loadDicVersionUrl))])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"用能单位基础信息配置上传地址："}},[e._v(e._s(e.form.centerinfoUrl))])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"采集数据上传地址："}},[e._v(e._s(e.form.centerDataUrl))])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"用能单位基础信息配置下载地址："}},[e._v(e._s(e.form.centerInfoDownloadUrl))])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"采集数据下载地址："}},[e._v(e._s(e.form.centerDataDownloadUrl))])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"上报时间点："}},[e._v(e._s(e.form.uploadTime))])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"备注："}},[e._v(e._s(e.form.remark))])],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.openView=!1}}},[e._v("关 闭")])],1)],1)],1)},r=[],n=a("b775");function o(e){return Object(n["a"])({url:"/sirui/registration/list",method:"get",params:e})}function l(e){return Object(n["a"])({url:"/sirui/registration/"+e,method:"get"})}function s(e){return Object(n["a"])({url:"/sirui/registration",method:"post",data:e})}function c(e){return Object(n["a"])({url:"/sirui/registration",method:"put",data:e})}function u(e){return Object(n["a"])({url:"/sirui/registration/export",method:"get",params:e})}function d(){return Object(n["a"])({url:"/sirui/uploadConfigData/uploadConfigData",method:"get"})}function m(){return Object(n["a"])({url:"/sirui/uploadEnergyData/upload",method:"get"})}var p={name:"Registration",data:function(){return{openView:!1,zhuce:"",loading:!0,ids:[],single:!0,multiple:!0,total:0,registrationList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10},form:{},rules:{enterpriseCode:[{required:!0,message:"统一社会信用代码不能为空",trigger:"blur"}],region:[{required:!0,message:"行政区划代码，具体到县级不能为空",trigger:"blur"}]}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,o(this.queryParams).then((function(t){t.rows.length>0?e.zhuce=!1:e.zhuce=!0,e.registrationList=t.rows,e.total=t.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,enterpriseCode:void 0,region:void 0,responseCode:void 0,responseMessage:void 0,deviceId:void 0,loadConfigUrl:void 0,loadDicVersionUrl:void 0,centerinfoUrl:void 0,centerDataUrl:void 0,centerInfoDownloadUrl:void 0,centerDataDownloadUrl:void 0,uploadTime:void 0,createBy:void 0,createTime:void 0,updateBy:void 0,updateTime:void 0,remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加端设备注册"},handleView:function(e){var t=this;l(e.id).then((function(e){console.log(e.data),t.form=e.data,t.openView=!0}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?c(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):s(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有端设备注册数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))},handleAddComInfo:function(){var e=this;this.$confirm("您是否已完善数据上传中的“采集数据项配置、用能单位、生产工序、工序单元”四个模块内容填写?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return d()})).then((function(){e.msgSuccess("用能单位基础信息上传成功")})).catch((function(){}))},handleUploadEnergyData:function(){var e=this;this.$confirm("您确定要向省平台上传数据?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return m()})).then((function(){e.msgSuccess("省平台上传数据成功")})).catch((function(){}))}}},f=p,v=a("2877"),h=Object(v["a"])(f,i,r,!1,null,null,null);t["default"]=h.exports},"9cb7":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"数据分类",prop:"dataType"}},[a("el-select",{attrs:{placeholder:"请选择数据分类",clearable:"",filterable:"",size:"small"},model:{value:e.queryParams.dataType,callback:function(t){e.$set(e.queryParams,"dataType",t)},expression:"queryParams.dataType"}},e._l(e.dataTypeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"能源品种",prop:"energy"}},[a("el-select",{attrs:{placeholder:"请选择能源品种",clearable:"",filterable:"",size:"small"},model:{value:e.queryParams.energy,callback:function(t){e.$set(e.queryParams,"energy",t)},expression:"queryParams.energy"}},e._l(e.energyOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:writeCompanyData1:add"],expression:"['sirui:writeCompanyData1:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:writeCompanyData1:edit"],expression:"['sirui:writeCompanyData1:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:writeCompanyData1:remove"],expression:"['sirui:writeCompanyData1:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.writeCompanyData1List},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"能源品种",align:"center",prop:"id"}}),e._v(" "),a("el-table-column",{attrs:{label:"数据分类",align:"center",prop:"dataType",formatter:e.dataTypeFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"能源品种",align:"center",prop:"energy",formatter:e.energyFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"计算数据",align:"center",prop:"startValue"}}),e._v(" "),a("el-table-column",{attrs:{label:"单位",align:"center",prop:"unit"}}),e._v(" "),a("el-table-column",{attrs:{label:"折标系数",align:"center",prop:"coefficient"}}),e._v(" "),a("el-table-column",{attrs:{label:"折标量",align:"center",prop:"endValue"}}),e._v(" "),a("el-table-column",{attrs:{label:"折标系数单位",align:"center",prop:"coefficientUnit"}}),e._v(" "),a("el-table-column",{attrs:{label:"能源用途",align:"center",prop:"usee",formatter:e.useeFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"数据采集频率",align:"center",prop:"statType",formatter:e.statTypeFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"数据范围",align:"center",prop:"scope",formatter:e.scopeFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"统计时间",align:"center",prop:"statDate",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.statDate,"{y}-{m}-{d}")))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"数据有效性",align:"center",prop:"valid",formatter:e.validFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:writeCompanyData1:edit"],expression:"['sirui:writeCompanyData1:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:writeCompanyData1:remove"],expression:"['sirui:writeCompanyData1:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"能源品种"}},[a("el-select",{attrs:{placeholder:"请选择能源品种",filterable:""},model:{value:e.form.energy,callback:function(t){e.$set(e.form,"energy",t)},expression:"form.energy"}},e._l(e.energyOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"能源用途"}},[a("el-select",{attrs:{placeholder:"请选择能源用途",filterable:""},model:{value:e.form.usee,callback:function(t){e.$set(e.form,"usee",t)},expression:"form.usee"}},e._l(e.useeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"数据范围"}},[a("el-select",{attrs:{placeholder:"请选择数据范围",filterable:""},model:{value:e.form.scope,callback:function(t){e.$set(e.form,"scope",t)},expression:"form.scope"}},e._l(e.scopeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"数据采集频率"}},[a("el-select",{attrs:{placeholder:"请选择数据采集频率",filterable:""},on:{change:e.statTypeChange},model:{value:e.form.statType,callback:function(t){e.$set(e.form,"statType",t)},expression:"form.statType"}},e._l(e.statTypeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),void 0!=this.form.statType?a("el-form-item",{attrs:{label:"统计时间",prop:"statDate"}},["0"==this.form.statType?a("el-date-picker",{staticStyle:{width:"200px"},attrs:{clearable:"",size:"small",type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择统计时间"},model:{value:e.form.statDate,callback:function(t){e.$set(e.form,"statDate",t)},expression:"form.statDate"}}):e._e(),e._v(" "),"1"==this.form.statType?a("el-date-picker",{staticStyle:{width:"200px"},attrs:{clearable:"",size:"small",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择统计时间"},model:{value:e.form.statDate,callback:function(t){e.$set(e.form,"statDate",t)},expression:"form.statDate"}}):e._e(),e._v(" "),"2"==this.form.statType?a("el-date-picker",{staticStyle:{width:"200px"},attrs:{clearable:"",size:"small",type:"month","value-format":"yyyy-MM",placeholder:"选择统计时间"},model:{value:e.form.statDate,callback:function(t){e.$set(e.form,"statDate",t)},expression:"form.statDate"}}):e._e(),e._v(" "),"3"==this.form.statType?a("el-date-picker",{staticStyle:{width:"200px"},attrs:{clearable:"",size:"small",type:"year","value-format":"yyyy",placeholder:"选择统计时间"},model:{value:e.form.statDate,callback:function(t){e.$set(e.form,"statDate",t)},expression:"form.statDate"}}):e._e()],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"数值",prop:"startValue"}},[a("el-input-number",{attrs:{min:0,placeholder:"请输入数据"},model:{value:e.form.startValue,callback:function(t){e.$set(e.form,"startValue",t)},expression:"form.startValue"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=a("b775");function o(e){return Object(n["a"])({url:"/sirui/writeCompanyData1/list",method:"get",params:e})}function l(e){return Object(n["a"])({url:"/sirui/writeCompanyData1/"+e,method:"get"})}function s(e){return Object(n["a"])({url:"/sirui/writeCompanyData1",method:"post",data:e})}function c(e){return Object(n["a"])({url:"/sirui/writeCompanyData1",method:"put",data:e})}function u(e){return Object(n["a"])({url:"/sirui/writeCompanyData1/"+e,method:"delete"})}function d(e){return Object(n["a"])({url:"/sirui/writeCompanyData1/export",method:"get",params:e})}var m={name:"WriteCompanyData1",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,writeCompanyData1List:[],title:"",open:!1,dataTypeOptions:[],energyOptions:[],useeOptions:[],inputTypeOptions:[],statTypeOptions:[],scopeOptions:[],validOptions:[],isOkOptions:[],isUpOptions:[],queryParams:{pageNum:1,pageSize:10,dataType:void 0,energy:void 0},form:{},rules:{}}},created:function(){var e=this;this.getList(),this.getDicts("sirui_data_type").then((function(t){e.dataTypeOptions=t.data})),this.getDicts("sirui_energy_variety").then((function(t){e.energyOptions=t.data})),this.getDicts("sirui_nyytbm").then((function(t){e.useeOptions=t.data})),this.getDicts("sr_sjsc_inputType").then((function(t){e.inputTypeOptions=t.data})),this.getDicts("sr_sjsc_statType").then((function(t){e.statTypeOptions=t.data})),this.getDicts("sr_sjsc_scope").then((function(t){e.scopeOptions=t.data})),this.getDicts("sys_yes_no").then((function(t){e.validOptions=t.data})),this.getDicts("sys_yes_no").then((function(t){e.isOkOptions=t.data})),this.getDicts("sys_yes_no").then((function(t){e.isUpOptions=t.data}))},methods:{statTypeChange:function(){this.form.statDate=""},getList:function(){var e=this;this.loading=!0,o(this.queryParams).then((function(t){e.writeCompanyData1List=t.rows,e.total=t.total,e.loading=!1}))},dataTypeFormat:function(e,t){return this.selectDictLabel(this.dataTypeOptions,e.dataType)},energyFormat:function(e,t){return this.selectDictLabel(this.energyOptions,e.energy)},useeFormat:function(e,t){return this.selectDictLabel(this.useeOptions,e.usee)},inputTypeFormat:function(e,t){return this.selectDictLabel(this.inputTypeOptions,e.inputType)},statTypeFormat:function(e,t){return this.selectDictLabel(this.statTypeOptions,e.statType)},scopeFormat:function(e,t){return this.selectDictLabel(this.scopeOptions,e.scope)},validFormat:function(e,t){return this.selectDictLabel(this.validOptions,e.valid)},isOkFormat:function(e,t){return this.selectDictLabel(this.isOkOptions,e.isOk)},isUpFormat:function(e,t){return this.selectDictLabel(this.isUpOptions,e.isUp)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,dataType:void 0,energy:void 0,number:void 0,startValue:void 0,unit:void 0,coefficient:void 0,endValue:void 0,coefficientUnit:void 0,usee:void 0,inputType:void 0,statType:void 0,scope:void 0,statDate:void 0,valid:void 0,craft:void 0,craftUnit:void 0,device:void 0,isOk:void 0,isUp:void 0,createTime:void 0,updateTime:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加企业能源总量指标"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;l(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改企业能源总量指标"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?c(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):s(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除企业能源总量指标编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有企业能源总量指标(确认记录)数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return d(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},p=m,f=a("2877"),v=Object(f["a"])(p,i,r,!1,null,null,null);t["default"]=v.exports},"9e2f":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"工序名称",prop:"process"}},[a("el-input",{attrs:{placeholder:"请输入工序名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.process,callback:function(t){e.$set(e.queryParams,"process",t)},expression:"queryParams.process"}})],1),e._v(" "),a("el-form-item",[a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:companyOneTotalData5:add"],expression:"['sirui:companyOneTotalData5:add']"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.companyOneTotalData5List,"row-key":"id","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{label:"工序名称",align:"center",prop:"process"}}),e._v(" "),a("el-table-column",{attrs:{label:"能源品种",align:"center",prop:"energy"}}),e._v(" "),a("el-table-column",{attrs:{label:"测点名称",align:"center",prop:"point"}}),e._v(" "),a("el-table-column",{attrs:{label:"测点位号",align:"center",prop:"pointCode"}}),e._v(" "),a("el-table-column",{attrs:{label:"倍数",align:"center",prop:"multiple"}}),e._v(" "),a("el-table-column",{attrs:{label:"单位换算系数",align:"center",prop:"xs"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:companyOneTotalData5:edit"],expression:"['sirui:companyOneTotalData5:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:companyOneTotalData5:add"],expression:"['sirui:companyOneTotalData5:add']"}],attrs:{size:"mini",type:"text",icon:"el-icon-plus"},on:{click:function(a){return e.handleAdd(t.row)}}},[e._v("新增")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"父级菜单",prop:"parentId"}},[a("treeselect",{attrs:{options:e.companyOneTotalData5Options,normalizer:e.normalizer,placeholder:"请选择父级菜单"},model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"工序名称",prop:"process"}},[a("el-input",{attrs:{placeholder:"请输入工序名称"},model:{value:e.form.process,callback:function(t){e.$set(e.form,"process",t)},expression:"form.process"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"工序编号",prop:"processCode"}},[a("el-input",{attrs:{placeholder:"请输入工序编号"},model:{value:e.form.processCode,callback:function(t){e.$set(e.form,"processCode",t)},expression:"form.processCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"能源品种",prop:"energy"}},[a("el-input",{attrs:{placeholder:"请输入能源品种"},model:{value:e.form.energy,callback:function(t){e.$set(e.form,"energy",t)},expression:"form.energy"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"能源品种编号",prop:"energyCode"}},[a("el-input",{attrs:{placeholder:"请输入能源品种编号"},model:{value:e.form.energyCode,callback:function(t){e.$set(e.form,"energyCode",t)},expression:"form.energyCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"测点名称",prop:"point"}},[a("el-input",{attrs:{placeholder:"请输入测点名称"},model:{value:e.form.point,callback:function(t){e.$set(e.form,"point",t)},expression:"form.point"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"测点位号",prop:"pointCode"}},[a("el-input",{attrs:{placeholder:"请输入测点位号"},model:{value:e.form.pointCode,callback:function(t){e.$set(e.form,"pointCode",t)},expression:"form.pointCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"倍数",prop:"multiple"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.multiple,callback:function(t){e.$set(e.form,"multiple",t)},expression:"form.multiple"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"单位换算系数",prop:"xs"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.xs,callback:function(t){e.$set(e.form,"xs",t)},expression:"form.xs"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=a("a6d1"),o=a("ca17"),l=a.n(o),s=(a("542c"),{name:"CompanyOneTotalData5",components:{Treeselect:l.a},data:function(){return{loading:!0,companyOneTotalData5List:[],companyOneTotalData5Options:[],title:"",open:!1,queryParams:{process:void 0,device:void 0,type:"2"},form:{},rules:{}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(n["e"])(this.queryParams).then((function(t){e.companyOneTotalData5List=e.handleTree(t.data,"id","parentId"),e.loading=!1}))},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.id,label:e.process,children:e.children}},getTreeselect:function(){var e=this;Object(n["e"])().then((function(t){e.companyOneTotalData5Options=[];var a={id:0,process:"顶级节点",children:[]};a.children=e.handleTree(t.data,"id","parentId"),e.companyOneTotalData5Options.push(a)}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,parentId:void 0,process:void 0,processCode:void 0,type:"2",device:void 0,deviceCode:void 0,energy:void 0,energyCode:void 0,point:void 0,pointCode:void 0,multiple:void 0,xs:void 0,company:void 0,createTime:void 0,updateTime:void 0},this.resetForm("form")},handleQuery:function(){this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(e){this.reset(),this.getTreeselect(),null!=e&&(this.form.parentId=e.id),this.open=!0,this.title="添加二级数据测点配置"},handleUpdate:function(e){var t=this;this.reset(),this.getTreeselect(),void 0!=e&&(this.form.parentId=e.id),Object(n["c"])(e.id).then((function(e){t.form=e.data,t.open=!0,t.title="修改二级数据测点配置"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?Object(n["h"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):Object(n["a"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this;this.$confirm('是否确认删除二级数据测点配置编号为"'+e.id+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["b"])(e.id)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}}),c=s,u=a("2877"),d=Object(u["a"])(c,i,r,!1,null,null,null);t["default"]=d.exports},"9fc4":function(e,t,a){"use strict";var i=a("1de6"),r=a.n(i);r.a},a1590:function(e,t,a){"use strict";a.d(t,"f",(function(){return r})),a.d(t,"e",(function(){return n})),a.d(t,"a",(function(){return o})),a.d(t,"h",(function(){return l})),a.d(t,"c",(function(){return s})),a.d(t,"d",(function(){return c})),a.d(t,"b",(function(){return u})),a.d(t,"g",(function(){return d}));var i=a("b775");function r(e){return Object(i["a"])({url:"/monitor/job/list",method:"get",params:e})}function n(e){return Object(i["a"])({url:"/monitor/job/"+e,method:"get"})}function o(e){return Object(i["a"])({url:"/monitor/job",method:"post",data:e})}function l(e){return Object(i["a"])({url:"/monitor/job",method:"put",data:e})}function s(e){return Object(i["a"])({url:"/monitor/job/"+e,method:"delete"})}function c(e){return Object(i["a"])({url:"/monitor/job/export",method:"get",params:e})}function u(e,t){var a={jobId:e,status:t};return Object(i["a"])({url:"/monitor/job/changeStatus",method:"put",data:a})}function d(e,t){var a={jobId:e,jobGroup:t};return Object(i["a"])({url:"/monitor/job/run",method:"put",data:a})}},a36b:function(e,t,a){e.exports=a.p+"static/img/404.a57b6f31.png"},a547:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard-editor-container"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("企业基本信息")])]),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"text item textItemLi"},[e._v("名称：西夏热电有限公司")]),e._v(" "),a("div",{staticClass:"text item textItemLi"},[e._v("地址：同心南街东100米")]),e._v(" "),a("div",{staticClass:"text item textItemLi"},[e._v("企业类型：电力")]),e._v(" "),a("div",{staticClass:"text item textItemLi"},[e._v("供电电源：网供")]),e._v(" "),a("div",{staticClass:"text item textItemLi"},[e._v("是否启用自定义电价：否")])]),e._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"text item textItemLi"},[e._v("级别：普通")]),e._v(" "),a("div",{staticClass:"text item textItemLi"},[e._v("电压等级：10kv")]),e._v(" "),a("div",{staticClass:"text item textItemLi"},[e._v("服务到期时间：2030-12-31")]),e._v(" "),a("div",{staticClass:"text item textItemLi"},[e._v("\n\t\t\t\t\t基础数据：\n\t\t\t\t\t"),a("div",{staticClass:"el-upload loadBox",staticStyle:{background:"rgb(24, 144, 255)"},on:{click:e.downloadJCXX}},[e._v("下载")])])]),e._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"text item textItemLi"},[e._v("编号：14952")]),e._v(" "),a("div",{staticClass:"text item textItemLi"},[e._v("运行状态：正常")]),e._v(" "),a("div",{staticClass:"text item textItemLi"},[e._v("基本电价：￥0元")]),e._v(" "),a("div",{staticClass:"text item textItemLi"},[e._v("\n\t\t\t\t\t用能单位基础信息：\n\t\t\t\t\t"),a("div",{staticClass:"el-upload loadBox",staticStyle:{background:"#FF6633","margin-right":"10px"},on:{click:e.uploadJCXX}},[e._v("上传")])])])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{"label-position":"left"}},[a("el-form-item",{attrs:{label:e.content}})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=a("bc3a"),o=a.n(n),l={name:"Index",components:{},data:function(){return{tableData:[{date:"李士明",name:"经理",address:"13895259168",email:"xxrdyxgs@163.com"}],lineChartData:"",title:"",open:!1,content:"",load:""}},created:function(){this.getTuBiao()},methods:{cancel:function(){this.open=!1,this.reset()},uploadJCXX:function(){this.open=!0,this.title="用能单位基础信息上传",this.content="您是否已完善数据上传中的“采集数据项配置、用能单位、生产工序、工序单元”四个模块内容填写？",this.load="up"},downloadJCXX:function(){this.open=!0,this.title="用能单位基础信息下载",this.content="您是否已完成端设备注册？",this.load="down"},submitForm:function(){"up"==this.load?(this.open=!1,alert("用能单位基础信息上传成功")):"down"==this.load&&(this.open=!1,alert("用能单位基础信息下载成功"))},getTuBiao:function(){var e=this;o.a.get("/prod-api/xxrd/cydlSeries",{params:{}}).then((function(t){var a=t.data.data.cydlSeries;e.lineChartData={cydlSeries:a}})).catch((function(e){console.log("获取数据失败")}))}}},s=l,c=(a("99c1"),a("2877")),u=Object(c["a"])(s,i,r,!1,null,"54d53a95",null);t["default"]=u.exports},a6d1:function(e,t,a){"use strict";a.d(t,"e",(function(){return r})),a.d(t,"f",(function(){return n})),a.d(t,"g",(function(){return o})),a.d(t,"d",(function(){return l})),a.d(t,"c",(function(){return s})),a.d(t,"a",(function(){return c})),a.d(t,"h",(function(){return u})),a.d(t,"b",(function(){return d}));var i=a("b775");function r(e){return Object(i["a"])({url:"/sirui/companyOneTotalData5/list",method:"get",params:e})}function n(e){return Object(i["a"])({url:"/sirui/companyOneTotalData5/list6",method:"get",params:e})}function o(e){return Object(i["a"])({url:"/sirui/companyOneTotalData5/list7",method:"get",params:e})}function l(e){return Object(i["a"])({url:"/sirui/companyOneTotalData5/list7total",method:"get",params:e})}function s(e){return Object(i["a"])({url:"/sirui/companyOneTotalData5/"+e,method:"get"})}function c(e){return Object(i["a"])({url:"/sirui/companyOneTotalData5",method:"post",data:e})}function u(e){return Object(i["a"])({url:"/sirui/companyOneTotalData5",method:"put",data:e})}function d(e){return Object(i["a"])({url:"/sirui/companyOneTotalData5/"+e,method:"delete"})}},a6d4:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"能源品种",prop:"energy"}},[a("el-select",{attrs:{placeholder:"请选择能源品种",clearable:"",size:"small"},model:{value:e.queryParams.energy,callback:function(t){e.$set(e.queryParams,"energy",t)},expression:"queryParams.energy"}},e._l(e.energyOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"公司名称",prop:"company"}},[a("el-input",{attrs:{placeholder:"请输入公司名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.company,callback:function(t){e.$set(e.queryParams,"company",t)},expression:"queryParams.company"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"测点名称",prop:"point"}},[a("el-input",{attrs:{placeholder:"请输入测点名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.point,callback:function(t){e.$set(e.queryParams,"point",t)},expression:"queryParams.point"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"数据分类",prop:"dataType"}},[a("el-select",{attrs:{placeholder:"请选择数据分类",clearable:"",size:"small"},model:{value:e.queryParams.dataType,callback:function(t){e.$set(e.queryParams,"dataType",t)},expression:"queryParams.dataType"}},e._l(e.dataTypeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"能源用途",prop:"usee"}},[a("el-select",{attrs:{placeholder:"请选择能源用途",clearable:"",size:"small"},model:{value:e.queryParams.usee,callback:function(t){e.$set(e.queryParams,"usee",t)},expression:"queryParams.usee"}},e._l(e.useeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"统计时间",prop:"statDate"}},[a("el-date-picker",{staticStyle:{width:"200px"},attrs:{clearable:"",size:"small",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择统计时间"},model:{value:e.queryParams.statDate,callback:function(t){e.$set(e.queryParams,"statDate",t)},expression:"queryParams.statDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否确认",prop:"isOk"}},[a("el-select",{attrs:{placeholder:"请选择是否确认",clearable:"",size:"small"},model:{value:e.queryParams.isOk,callback:function(t){e.$set(e.queryParams,"isOk",t)},expression:"queryParams.isOk"}},e._l(e.isOkOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"是否上传",prop:"isUp"}},[a("el-select",{attrs:{placeholder:"请选择是否上传",clearable:"",size:"small"},model:{value:e.queryParams.isUp,callback:function(t){e.$set(e.queryParams,"isUp",t)},expression:"queryParams.isUp"}},e._l(e.isUpOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:oneData2:add"],expression:"['sirui:oneData2:add']"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.oneData2List,"row-key":"id","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{label:"能源品种",width:"200",align:"left",prop:"energy"}}),e._v(" "),a("el-table-column",{attrs:{label:"公司名称",align:"center",prop:"company"}}),e._v(" "),a("el-table-column",{attrs:{label:"测点名称",align:"center",prop:"point"}}),e._v(" "),a("el-table-column",{attrs:{label:"数据分类",align:"center",prop:"dataType",formatter:e.dataTypeFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"计算数据",align:"center",prop:"startValue"}}),e._v(" "),a("el-table-column",{attrs:{label:"折标量数据",align:"center",prop:"endValue"}}),e._v(" "),a("el-table-column",{attrs:{label:"能源用途",align:"center",prop:"usee",formatter:e.useeFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"统计时间",align:"center",prop:"statDate",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.statDate,"{y}-{m}-{d}")))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"是否上传",align:"center",prop:"isOk",formatter:e.isOkFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"是否上传",align:"center",prop:"isUp",formatter:e.isUpFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:oneData2:edit"],expression:"['sirui:oneData2:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:oneData2:remove"],expression:"['sirui:oneData2:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"父级菜单",prop:"parentId"}},[a("treeselect",{attrs:{options:e.oneData2Options,normalizer:e.normalizer,placeholder:"请选择父级菜单"},model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"能源品种"}},[a("el-select",{attrs:{placeholder:"请选择能源品种"},model:{value:e.form.energy,callback:function(t){e.$set(e.form,"energy",t)},expression:"form.energy"}},e._l(e.energyOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"公司名称",prop:"company"}},[a("el-input",{attrs:{placeholder:"请输入公司名称"},model:{value:e.form.company,callback:function(t){e.$set(e.form,"company",t)},expression:"form.company"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"测点名称",prop:"point"}},[a("el-input",{attrs:{placeholder:"请输入测点名称"},model:{value:e.form.point,callback:function(t){e.$set(e.form,"point",t)},expression:"form.point"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"数据分类"}},[a("el-select",{attrs:{placeholder:"请选择数据分类"},model:{value:e.form.dataType,callback:function(t){e.$set(e.form,"dataType",t)},expression:"form.dataType"}},e._l(e.dataTypeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"表数据",prop:"number"}},[a("el-input",{attrs:{placeholder:"请输入表数据"},model:{value:e.form.number,callback:function(t){e.$set(e.form,"number",t)},expression:"form.number"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"计算数据",prop:"startValue"}},[a("el-input",{attrs:{placeholder:"请输入计算数据"},model:{value:e.form.startValue,callback:function(t){e.$set(e.form,"startValue",t)},expression:"form.startValue"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"折标量数据",prop:"endValue"}},[a("el-input",{attrs:{placeholder:"请输入折标量数据"},model:{value:e.form.endValue,callback:function(t){e.$set(e.form,"endValue",t)},expression:"form.endValue"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"能源用途"}},[a("el-select",{attrs:{placeholder:"请选择能源用途"},model:{value:e.form.usee,callback:function(t){e.$set(e.form,"usee",t)},expression:"form.usee"}},e._l(e.useeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"单位",prop:"unit"}},[a("el-input",{attrs:{placeholder:"请输入单位"},model:{value:e.form.unit,callback:function(t){e.$set(e.form,"unit",t)},expression:"form.unit"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"数据采集类型"}},[a("el-select",{attrs:{placeholder:"请选择数据采集类型"},model:{value:e.form.inputType,callback:function(t){e.$set(e.form,"inputType",t)},expression:"form.inputType"}},e._l(e.inputTypeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"数据采集频率 "}},[a("el-select",{attrs:{placeholder:"请选择数据采集频率 "},model:{value:e.form.statType,callback:function(t){e.$set(e.form,"statType",t)},expression:"form.statType"}},e._l(e.statTypeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"统计时间",prop:"statDate"}},[a("el-date-picker",{staticStyle:{width:"200px"},attrs:{clearable:"",size:"small",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择统计时间"},model:{value:e.form.statDate,callback:function(t){e.$set(e.form,"statDate",t)},expression:"form.statDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"数据范围"}},[a("el-select",{attrs:{placeholder:"请选择数据范围"},model:{value:e.form.scope,callback:function(t){e.$set(e.form,"scope",t)},expression:"form.scope"}},e._l(e.scopeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"数据有效性"}},[a("el-select",{attrs:{placeholder:"请选择数据有效性"},model:{value:e.form.valid,callback:function(t){e.$set(e.form,"valid",t)},expression:"form.valid"}},e._l(e.validOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"是否上传"}},[a("el-select",{attrs:{placeholder:"请选择是否上传"},model:{value:e.form.isOk,callback:function(t){e.$set(e.form,"isOk",t)},expression:"form.isOk"}},e._l(e.isOkOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"是否上传"}},[a("el-select",{attrs:{placeholder:"请选择是否上传"},model:{value:e.form.isUp,callback:function(t){e.$set(e.form,"isUp",t)},expression:"form.isUp"}},e._l(e.isUpOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=a("b775");function o(e){return Object(n["a"])({url:"/sirui/oneData2/list",method:"get",params:e})}function l(e){return Object(n["a"])({url:"/sirui/oneData2/"+e,method:"get"})}function s(e){return Object(n["a"])({url:"/sirui/oneData2",method:"post",data:e})}function c(e){return Object(n["a"])({url:"/sirui/oneData2",method:"put",data:e})}function u(e){return Object(n["a"])({url:"/sirui/oneData2/"+e,method:"delete"})}var d=a("ca17"),m=a.n(d),p=(a("542c"),{name:"OneData2",components:{Treeselect:m.a},data:function(){return{loading:!0,oneData2List:[],oneData2Options:[],title:"",open:!1,energyOptions:[],dataTypeOptions:[],useeOptions:[],inputTypeOptions:[],statTypeOptions:[],scopeOptions:[],validOptions:[],isOkOptions:[],isUpOptions:[],queryParams:{energy:void 0,company:void 0,point:void 0,dataType:void 0,usee:void 0,inputType:void 0,statType:void 0,statDate:void 0,scope:void 0,valid:void 0,isOk:void 0,isUp:void 0},form:{},rules:{}}},created:function(){var e=this;this.getList(),this.getDicts("sirui_energy_variety").then((function(t){e.energyOptions=t.data})),this.getDicts("sirui_data_type").then((function(t){e.dataTypeOptions=t.data})),this.getDicts("sirui_nyytbm").then((function(t){e.useeOptions=t.data})),this.getDicts("sr_sjsc_inputType").then((function(t){e.inputTypeOptions=t.data})),this.getDicts("sr_sjsc_statType").then((function(t){e.statTypeOptions=t.data})),this.getDicts("sr_sjsc_scope").then((function(t){e.scopeOptions=t.data})),this.getDicts("sirui_valid").then((function(t){e.validOptions=t.data})),this.getDicts("sys_yes_no").then((function(t){e.isOkOptions=t.data})),this.getDicts("sys_yes_no").then((function(t){e.isUpOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,o(this.queryParams).then((function(t){e.oneData2List=e.handleTree(t.data,"id","parentId"),e.loading=!1}))},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.id,label:e.energy,children:e.children}},getTreeselect:function(){var e=this;o().then((function(t){e.oneData2Options=[];var a={id:0,energy:"顶级节点",children:[]};a.children=e.handleTree(t.data,"id","parentId"),e.oneData2Options.push(a)}))},energyFormat:function(e,t){return this.selectDictLabel(this.energyOptions,e.energy)},dataTypeFormat:function(e,t){return this.selectDictLabel(this.dataTypeOptions,e.dataType)},useeFormat:function(e,t){return this.selectDictLabel(this.useeOptions,e.usee)},inputTypeFormat:function(e,t){return this.selectDictLabel(this.inputTypeOptions,e.inputType)},statTypeFormat:function(e,t){return this.selectDictLabel(this.statTypeOptions,e.statType)},scopeFormat:function(e,t){return this.selectDictLabel(this.scopeOptions,e.scope)},validFormat:function(e,t){return this.selectDictLabel(this.validOptions,e.valid)},isOkFormat:function(e,t){return this.selectDictLabel(this.isOkOptions,e.isOk)},isUpFormat:function(e,t){return this.selectDictLabel(this.isUpOptions,e.isUp)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,parentId:void 0,energy:void 0,company:void 0,point:void 0,dataType:void 0,number:void 0,startValue:void 0,endValue:void 0,usee:void 0,unit:void 0,inputType:void 0,statType:void 0,statDate:void 0,scope:void 0,valid:void 0,isOk:void 0,isUp:void 0,createTime:void 0,updateTime:void 0},this.resetForm("form")},handleQuery:function(){this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.getTreeselect(),this.open=!0,this.title="添加一级数据（确认数据）"},handleUpdate:function(e){var t=this;this.reset(),this.getTreeselect(),void 0!=e&&(this.form.parentId=e.id),l(e.id).then((function(e){t.form=e.data,t.open=!0,t.title="修改一级数据（确认数据）"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?c(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):s(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this;this.$confirm('是否确认删除一级数据（确认数据）编号为"'+e.id+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(e.id)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}}),f=p,v=a("2877"),h=Object(v["a"])(f,i,r,!1,null,null,null);t["default"]=h.exports},a6dc:function(e,t,a){"use strict";a.d(t,"d",(function(){return r})),a.d(t,"c",(function(){return n})),a.d(t,"f",(function(){return o})),a.d(t,"e",(function(){return l})),a.d(t,"a",(function(){return s})),a.d(t,"g",(function(){return c})),a.d(t,"b",(function(){return u}));var i=a("b775");function r(e){return Object(i["a"])({url:"/system/menu/list",method:"get",params:e})}function n(e){return Object(i["a"])({url:"/system/menu/"+e,method:"get"})}function o(){return Object(i["a"])({url:"/system/menu/treeselect",method:"get"})}function l(e){return Object(i["a"])({url:"/system/menu/roleMenuTreeselect/"+e,method:"get"})}function s(e){return Object(i["a"])({url:"/system/menu",method:"post",data:e})}function c(e){return Object(i["a"])({url:"/system/menu",method:"put",data:e})}function u(e){return Object(i["a"])({url:"/system/menu/"+e,method:"delete"})}},a85b:function(e,t,a){"use strict";a("456d"),a("ac6a");var i=a("ed08"),r=Object(i["f"])("accept,accept-charset,accesskey,action,align,alt,async,autocomplete,autofocus,autoplay,autosave,bgcolor,border,buffered,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,http-equiv,name,contenteditable,contextmenu,controls,coords,data,datetime,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,method,for,form,formaction,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,ismap,itemprop,keytype,kind,label,lang,language,list,loop,low,manifest,max,maxlength,media,method,GET,POST,min,multiple,email,file,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,seamless,selected,shape,size,type,text,password,sizes,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,type,usemap,value,width,wrap");function n(e,t,a){t.props.value=a,t.on.input=function(t){e.$emit("input",t)}}var o={"el-input":{prepend:function(e,t,a){return e("template",{slot:"prepend"},[t[a]])},append:function(e,t,a){return e("template",{slot:"append"},[t[a]])}},"el-select":{options:function(e,t,a){var i=[];return t.options.forEach((function(t){i.push(e("el-option",{attrs:{label:t.label,value:t.value,disabled:t.disabled}}))})),i}},"el-radio-group":{options:function(e,t,a){var i=[];return t.options.forEach((function(a){"button"===t.optionType?i.push(e("el-radio-button",{attrs:{label:a.value}},[a.label])):i.push(e("el-radio",{attrs:{label:a.value,border:t.border}},[a.label]))})),i}},"el-checkbox-group":{options:function(e,t,a){var i=[];return t.options.forEach((function(a){"button"===t.optionType?i.push(e("el-checkbox-button",{attrs:{label:a.value}},[a.label])):i.push(e("el-checkbox",{attrs:{label:a.value,border:t.border}},[a.label]))})),i}},"el-upload":{"list-type":function(e,t,a){var i=[];return"picture-card"===t["list-type"]?i.push(e("i",{class:"el-icon-plus"})):i.push(e("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-upload"}},[t.buttonText])),t.showTip&&i.push(e("div",{slot:"tip",class:"el-upload__tip"},["只能上传不超过 ",t.fileSize,t.sizeUnit," 的",t.accept,"文件"])),i}}};t["a"]={render:function(e){var t=this,a={attrs:{},props:{},on:{},style:{}},i=JSON.parse(JSON.stringify(this.conf)),l=[],s=o[i.tag];return s&&Object.keys(s).forEach((function(t){var a=s[t];i[t]&&l.push(a(e,i,t))})),Object.keys(i).forEach((function(e){var o=i[e];"vModel"===e?n(t,a,i.defaultValue):a[e]?a[e]=o:r(e)?a.attrs[e]=o:a.props[e]=o})),e(this.conf.tag,a,l)},props:["conf"]}},a8ed:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:srUpload:add"],expression:"['sirui:srUpload:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:srUpload:edit"],expression:"['sirui:srUpload:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:srUpload:remove"],expression:"['sirui:srUpload:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:srUpload:export"],expression:"['sirui:srUpload:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.srUploadList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"ID",align:"center",prop:"uploadId"}}),e._v(" "),a("el-table-column",{attrs:{label:"标题",align:"center",prop:"title"}}),e._v(" "),a("el-table-column",{attrs:{label:"路径",align:"center",prop:"path"}}),e._v(" "),a("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:srUpload:edit"],expression:"['sirui:srUpload:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:srUpload:remove"],expression:"['sirui:srUpload:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"路径",prop:"path"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.path,callback:function(t){e.$set(e.form,"path",t)},expression:"form.path"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=a("9736"),o={name:"SrUpload",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,srUploadList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10},form:{},rules:{title:[{required:!0,message:"标题不能为空",trigger:"blur"}],path:[{required:!0,message:"路径不能为空",trigger:"blur"}]}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(n["e"])(this.queryParams).then((function(t){e.srUploadList=t.rows,e.total=t.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={uploadId:void 0,title:void 0,path:void 0,createBy:void 0,createTime:void 0,updateBy:void 0,updateTime:void 0,remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.uploadId})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加能源报记录"},handleUpdate:function(e){var t=this;this.reset();var a=e.uploadId||this.ids;Object(n["d"])(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改能源报记录"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.uploadId?Object(n["f"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):Object(n["a"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this,a=e.uploadId||this.ids;this.$confirm('是否确认删除能源报记录编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["b"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有能源报记录数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["c"])(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},l=o,s=a("2877"),c=Object(s["a"])(l,i,r,!1,null,null,null);t["default"]=c.exports},a92a:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",e._g(e._b({attrs:{width:"500px","close-on-click-modal":!1,"modal-append-to-body":!1},on:{open:e.onOpen,close:e.onClose}},"el-dialog",e.$attrs,!1),e.$listeners),[a("el-row",{attrs:{gutter:15}},[a("el-form",{ref:"elForm",attrs:{model:e.formData,rules:e.rules,size:"medium","label-width":"100px"}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"生成类型",prop:"type"}},[a("el-radio-group",{model:{value:e.formData.type,callback:function(t){e.$set(e.formData,"type",t)},expression:"formData.type"}},e._l(e.typeOptions,(function(t,i){return a("el-radio-button",{key:i,attrs:{label:t.value,disabled:t.disabled}},[e._v("\n                "+e._s(t.label)+"\n              ")])})),1)],1),e._v(" "),e.showFileName?a("el-form-item",{attrs:{label:"文件名",prop:"fileName"}},[a("el-input",{attrs:{placeholder:"请输入文件名",clearable:""},model:{value:e.formData.fileName,callback:function(t){e.$set(e.formData,"fileName",t)},expression:"formData.fileName"}})],1):e._e()],1)],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.close}},[e._v("\n        取消\n      ")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.handelConfirm}},[e._v("\n        确定\n      ")])],1)],1)],1)},r=[],n=a("5530"),o={inheritAttrs:!1,props:["showFileName"],data:function(){return{formData:{fileName:void 0,type:"file"},rules:{fileName:[{required:!0,message:"请输入文件名",trigger:"blur"}],type:[{required:!0,message:"生成类型不能为空",trigger:"change"}]},typeOptions:[{label:"页面",value:"file"},{label:"弹窗",value:"dialog"}]}},computed:{},watch:{},mounted:function(){},methods:{onOpen:function(){this.showFileName&&(this.formData.fileName="".concat(+new Date,".vue"))},onClose:function(){},close:function(e){this.$emit("update:visible",!1)},handelConfirm:function(){var e=this;this.$refs.elForm.validate((function(t){t&&(e.$emit("confirm",Object(n["a"])({},e.formData)),e.close())}))}}},l=o,s=a("2877"),c=Object(s["a"])(l,i,r,!1,null,null,null);t["default"]=c.exports},a9ba:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},r=[],n=a("313e"),o=a.n(n),l=a("30e5");a("817d");var s={mixins:[l["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=o.a.init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{left:"center",bottom:"10",data:["Industries","Technology","Forex","Gold","Forecasts"]},series:[{name:"WEEKLY WRITE ARTICLES",type:"pie",roseType:"radius",radius:[15,95],center:["50%","38%"],data:[{value:320,name:"Industries"},{value:240,name:"Technology"},{value:149,name:"Forex"},{value:100,name:"Gold"},{value:59,name:"Forecasts"}],animationEasing:"cubicInOut",animationDuration:2600}]})}}},c=s,u=a("2877"),d=Object(u["a"])(c,i,r,!1,null,null,null);t["default"]=d.exports},af78:function(e,t,a){},b380:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-view")},r=[],n=a("2877"),o={},l=Object(n["a"])(o,i,r,!1,null,null,null);t["default"]=l.exports},b3b7:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"工序名称",prop:"process"}},[a("el-input",{attrs:{placeholder:"请输入工序名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.process,callback:function(t){e.$set(e.queryParams,"process",t)},expression:"queryParams.process"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"能源品种",prop:"energy"}},[a("el-select",{attrs:{placeholder:"请选择能源品种",clearable:"",filterable:"",size:"small"},model:{value:e.queryParams.energy,callback:function(t){e.$set(e.queryParams,"energy",t)},expression:"queryParams.energy"}},e._l(e.energyOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"统计时间",prop:"selectDate"}},[a("el-date-picker",{staticStyle:{width:"200px"},attrs:{clearable:"",size:"small",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择统计时间"},model:{value:e.queryParams.selectDate,callback:function(t){e.$set(e.queryParams,"selectDate",t)},expression:"queryParams.selectDate"}})],1),e._v(" "),a("el-form-item",[a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.companyOneTotalData5List,"row-key":"id","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{label:"工序名称",align:"center",prop:"process"}}),e._v(" "),a("el-table-column",{attrs:{label:"设备名称",align:"center",prop:"device"}}),e._v(" "),a("el-table-column",{attrs:{label:"能源品种",align:"center",prop:"energy"}}),e._v(" "),a("el-table-column",{attrs:{label:"能源用途",align:"center",prop:"usee"}}),e._v(" "),a("el-table-column",{attrs:{label:"测点名称",align:"center",prop:"point"}}),e._v(" "),a("el-table-column",{attrs:{label:"数值",align:"center",prop:"startValue"}}),e._v(" "),a("el-table-column",{attrs:{label:"折标量",align:"center",prop:"endValue"}}),e._v(" "),a("el-table-column",{attrs:{label:"折标系数",align:"center",prop:"coefficient"}}),e._v(" "),a("el-table-column",{attrs:{label:"统计时间",align:"center",prop:"selectDate"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:companyOneTotalData5:edit"],expression:"['sirui:companyOneTotalData5:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:companyOneTotalData5:remove"],expression:"['sirui:companyOneTotalData5:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"父级菜单",prop:"parentId"}},[a("treeselect",{attrs:{options:e.companyOneTotalData5Options,normalizer:e.normalizer,placeholder:"请选择父级菜单"},model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"工序名称",prop:"process"}},[a("el-input",{attrs:{placeholder:"请输入工序名称"},model:{value:e.form.process,callback:function(t){e.$set(e.form,"process",t)},expression:"form.process"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"工序编号",prop:"processCode"}},[a("el-input",{attrs:{placeholder:"请输入工序编号"},model:{value:e.form.processCode,callback:function(t){e.$set(e.form,"processCode",t)},expression:"form.processCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"能源品种",prop:"energy"}},[a("el-input",{attrs:{placeholder:"请输入能源品种"},model:{value:e.form.energy,callback:function(t){e.$set(e.form,"energy",t)},expression:"form.energy"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"能源品种编号",prop:"energyCode"}},[a("el-input",{attrs:{placeholder:"请输入能源品种编号"},model:{value:e.form.energyCode,callback:function(t){e.$set(e.form,"energyCode",t)},expression:"form.energyCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"测点名称",prop:"point"}},[a("el-input",{attrs:{placeholder:"请输入测点名称"},model:{value:e.form.point,callback:function(t){e.$set(e.form,"point",t)},expression:"form.point"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"测点位号",prop:"pointCode"}},[a("el-input",{attrs:{placeholder:"请输入测点位号"},model:{value:e.form.pointCode,callback:function(t){e.$set(e.form,"pointCode",t)},expression:"form.pointCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"倍数",prop:"multiple"}},[a("el-input",{attrs:{placeholder:"请输入倍数"},model:{value:e.form.multiple,callback:function(t){e.$set(e.form,"multiple",t)},expression:"form.multiple"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"单位换算系数",prop:"xs"}},[a("el-input",{attrs:{placeholder:"请输入单位换算系数"},model:{value:e.form.xs,callback:function(t){e.$set(e.form,"xs",t)},expression:"form.xs"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=(a("6b54"),a("f576"),a("a6d1")),o=a("ca17"),l=a.n(o),s=(a("542c"),{name:"CompanyOneTotalData5",components:{Treeselect:l.a},data:function(){return{loading:!0,companyOneTotalData5List:[],companyOneTotalData5Options:[],energyOptions:[],title:"",open:!1,queryParams:{process:void 0,device:void 0,statDate:void 0,selectDate:void 0,energy:void 0,type:"3",statType:"2"},form:{},rules:{}}},created:function(){var e=this;this.getList(),this.getBeforeDate(),this.getDicts("sirui_energy_variety").then((function(t){e.energyOptions=t.data}))},updated:function(){this.expandAll()},methods:{expandAll:function(){for(var e=document.getElementsByClassName("el-table__expand-icon--expanded"),t=0;t<e.length;t++)e[t].click()},getBeforeDate:function(){var e=new Date;e.setTime(e.getTime()-864e5);var t=e.getFullYear(),a=e.getMonth(),i=e.getDate();a+=1,a=a.toString().padStart(2,"0"),i=i.toString().padStart(2,"0");var r="".concat(t,"-").concat(a,"-").concat(i);this.$set(this.queryParams,"selectDate",r)},energyFormat:function(e,t){return this.selectDictLabel(this.energyOptions,e.energy)},getList:function(){var e=this;this.loading=!0,Object(n["f"])(this.queryParams).then((function(t){e.companyOneTotalData5List=e.handleTree(t.data,"id","parentId"),e.loading=!1}))},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.id,label:e.process,children:e.children}},getTreeselect:function(){var e=this;Object(n["f"])().then((function(t){e.companyOneTotalData5Options=[];var a={id:0,process:"顶级节点",children:[]};a.children=e.handleTree(t.data,"id","parentId"),e.companyOneTotalData5Options.push(a)}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,parentId:void 0,process:void 0,processCode:void 0,type:"3",device:void 0,deviceCode:void 0,energy:void 0,energyCode:void 0,point:void 0,pointCode:void 0,multiple:void 0,xs:void 0,company:void 0,usee:void 0,createTime:void 0,updateTime:void 0,dId:void 0,number:void 0,startValue:void 0,endValue:void 0,inputType:void 0,statType:"2",scope:void 0,statDate:void 0},this.resetForm("form")},handleQuery:function(){this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.getTreeselect(),this.open=!0,this.title="添加二级数据测点配置"},handleUpdate:function(e){var t=this;this.reset(),this.getTreeselect(),void 0!=e&&(this.form.parentId=e.id),Object(n["c"])(e.id).then((function(e){t.form=e.data,t.open=!0,t.title="修改二级数据测点配置"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?Object(n["h"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):Object(n["a"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this;this.$confirm('是否确认删除二级数据测点配置编号为"'+e.id+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["b"])(e.id)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}}),c=s,u=(a("397a"),a("2877")),d=Object(u["a"])(c,i,r,!1,null,null,null);t["default"]=d.exports},b55f:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"能源名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入能源名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.name,callback:function(t){e.$set(e.queryParams,"name",t)},expression:"queryParams.name"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:referenceRatio:add"],expression:"['sirui:referenceRatio:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:referenceRatio:edit"],expression:"['sirui:referenceRatio:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:referenceRatio:remove"],expression:"['sirui:referenceRatio:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:referenceRatio:export"],expression:"['sirui:referenceRatio:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.referenceRatioList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"ID",align:"center",prop:"ratioId"}}),e._v(" "),a("el-table-column",{attrs:{label:"能源名称",align:"center",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:"平均低位发热量",align:"center",prop:"avgThermalPower"}}),e._v(" "),a("el-table-column",{attrs:{label:"供热标准煤耗率",align:"center",prop:"referenceRatio"}}),e._v(" "),a("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:referenceRatio:edit"],expression:"['sirui:referenceRatio:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:referenceRatio:remove"],expression:"['sirui:referenceRatio:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"能源名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入能源名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"平均低位发热量",prop:"avgThermalPower"}},[a("el-input",{attrs:{placeholder:"请输入平均低位发热量"},model:{value:e.form.avgThermalPower,callback:function(t){e.$set(e.form,"avgThermalPower",t)},expression:"form.avgThermalPower"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"供热标准煤耗率",prop:"referenceRatio"}},[a("el-input",{attrs:{placeholder:"请输入供热标准煤耗率"},model:{value:e.form.referenceRatio,callback:function(t){e.$set(e.form,"referenceRatio",t)},expression:"form.referenceRatio"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=a("b775");function o(e){return Object(n["a"])({url:"/sirui/referenceRatio/list",method:"get",params:e})}function l(e){return Object(n["a"])({url:"/sirui/referenceRatio/"+e,method:"get"})}function s(e){return Object(n["a"])({url:"/sirui/referenceRatio",method:"post",data:e})}function c(e){return Object(n["a"])({url:"/sirui/referenceRatio",method:"put",data:e})}function u(e){return Object(n["a"])({url:"/sirui/referenceRatio/"+e,method:"delete"})}function d(e){return Object(n["a"])({url:"/sirui/referenceRatio/export",method:"get",params:e})}var m={name:"ReferenceRatio",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,referenceRatioList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,name:void 0},form:{},rules:{name:[{required:!0,message:"能源名称不能为空",trigger:"blur"}],avgThermalPower:[{required:!0,message:"平均低位发热量不能为空",trigger:"blur"}],referenceRatio:[{required:!0,message:"供热标准煤耗率不能为空",trigger:"blur"}]}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,o(this.queryParams).then((function(t){e.referenceRatioList=t.rows,e.total=t.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={ratioId:void 0,name:void 0,avgThermalPower:void 0,referenceRatio:void 0,createBy:void 0,createTime:void 0,updateBy:void 0,updateTime:void 0,remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.ratioId})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加折标系数对照"},handleUpdate:function(e){var t=this;this.reset();var a=e.ratioId||this.ids;l(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改折标系数对照"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.ratioId?c(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):s(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this,a=e.ratioId||this.ids;this.$confirm('是否确认删除折标系数对照编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有折标系数对照数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return d(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},p=m,f=a("2877"),v=Object(f["a"])(p,i,r,!1,null,null,null);t["default"]=v.exports},b6b1:function(e,t,a){"use strict";var i=a("6114"),r=a.n(i);r.a},b8c4:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:unit:add"],expression:"['sirui:unit:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:unit:edit"],expression:"['sirui:unit:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:unit:remove"],expression:"['sirui:unit:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:unit:export"],expression:"['sirui:unit:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.unitList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"ID",align:"center",prop:"id"}}),e._v(" "),a("el-table-column",{attrs:{label:"工序单元编码",align:"center",prop:"code"}}),e._v(" "),a("el-table-column",{attrs:{label:"工序单元名称",align:"center",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:"生产工序编码",align:"center",prop:"processCode"}}),e._v(" "),a("el-table-column",{attrs:{label:"投产日期",align:"center",prop:"commDate",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.commDate,"{y}-{m}-{d}")))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"生产能力",align:"center",prop:"designedCapacity"}}),e._v(" "),a("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:unit:edit"],expression:"['sirui:unit:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:unit:remove"],expression:"['sirui:unit:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"工序单元编码",prop:"code"}},[a("el-input",{attrs:{placeholder:"请输入工序单元编码"},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"工序单元名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入工序单元名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"生产工序编码",prop:"processCode"}},[a("el-input",{attrs:{placeholder:"请输入生产工序编码"},model:{value:e.form.processCode,callback:function(t){e.$set(e.form,"processCode",t)},expression:"form.processCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"投产日期",prop:"commDate"}},[a("el-date-picker",{staticStyle:{width:"200px"},attrs:{clearable:"",size:"small",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择投产日期"},model:{value:e.form.commDate,callback:function(t){e.$set(e.form,"commDate",t)},expression:"form.commDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"生产能力",prop:"designedCapacity"}},[a("el-input",{attrs:{placeholder:"请输入生产能力"},model:{value:e.form.designedCapacity,callback:function(t){e.$set(e.form,"designedCapacity",t)},expression:"form.designedCapacity"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=a("b775");function o(e){return Object(n["a"])({url:"/sirui/unit/list",method:"get",params:e})}function l(e){return Object(n["a"])({url:"/sirui/unit/"+e,method:"get"})}function s(e){return Object(n["a"])({url:"/sirui/unit",method:"post",data:e})}function c(e){return Object(n["a"])({url:"/sirui/unit",method:"put",data:e})}function u(e){return Object(n["a"])({url:"/sirui/unit/"+e,method:"delete"})}function d(e){return Object(n["a"])({url:"/sirui/unit/export",method:"get",params:e})}var m={name:"Unit",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,unitList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10},form:{},rules:{}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,o(this.queryParams).then((function(t){e.unitList=t.rows,e.total=t.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,code:void 0,name:void 0,processCode:void 0,commDate:void 0,designedCapacity:void 0,createBy:void 0,createTime:void 0,updateBy:void 0,updateTime:void 0,remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加工序单元"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;l(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改工序单元"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?c(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):s(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除工序单元编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有工序单元数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return d(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},p=m,f=a("2877"),v=Object(f["a"])(p,i,r,!1,null,null,null);t["default"]=v.exports},bab2:function(e,t,a){"use strict";a.r(t);var i=a("ed08");t["default"]={data:function(){return{$_sidebarElm:null,$_resizeHandler:null}},mounted:function(){this.initListener()},activated:function(){this.$_resizeHandler||this.initListener(),this.resize()},beforeDestroy:function(){this.destroyListener()},deactivated:function(){this.destroyListener()},methods:{$_sidebarResizeHandler:function(e){"width"===e.propertyName&&this.$_resizeHandler()},initListener:function(){var e=this;this.$_resizeHandler=Object(i["c"])((function(){e.resize()}),100),window.addEventListener("resize",this.$_resizeHandler),this.$_sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener("transitionend",this.$_sidebarResizeHandler)},destroyListener:function(){window.removeEventListener("resize",this.$_resizeHandler),this.$_resizeHandler=null,this.$_sidebarElm&&this.$_sidebarElm.removeEventListener("transitionend",this.$_sidebarResizeHandler)},resize:function(){var e=this.chart;e&&e.resize()}}}},bb49:function(e,t,a){"use strict";a.r(t);var i=["platform-eleme","eleme","delete-solid","delete","s-tools","setting","user-solid","user","phone","phone-outline","more","more-outline","star-on","star-off","s-goods","goods","warning","warning-outline","question","info","remove","circle-plus","success","error","zoom-in","zoom-out","remove-outline","circle-plus-outline","circle-check","circle-close","s-help","help","minus","plus","check","close","picture","picture-outline","picture-outline-round","upload","upload2","download","camera-solid","camera","video-camera-solid","video-camera","message-solid","bell","s-cooperation","s-order","s-platform","s-fold","s-unfold","s-operation","s-promotion","s-home","s-release","s-ticket","s-management","s-open","s-shop","s-marketing","s-flag","s-comment","s-finance","s-claim","s-custom","s-opportunity","s-data","s-check","s-grid","menu","share","d-caret","caret-left","caret-right","caret-bottom","caret-top","bottom-left","bottom-right","back","right","bottom","top","top-left","top-right","arrow-left","arrow-right","arrow-down","arrow-up","d-arrow-left","d-arrow-right","video-pause","video-play","refresh","refresh-right","refresh-left","finished","sort","sort-up","sort-down","rank","loading","view","c-scale-to-original","date","edit","edit-outline","folder","folder-opened","folder-add","folder-remove","folder-delete","folder-checked","tickets","document-remove","document-delete","document-copy","document-checked","document","document-add","printer","paperclip","takeaway-box","search","monitor","attract","mobile","scissors","umbrella","headset","brush","mouse","coordinate","magic-stick","reading","data-line","data-board","pie-chart","data-analysis","collection-tag","film","suitcase","suitcase-1","receiving","collection","files","notebook-1","notebook-2","toilet-paper","office-building","school","table-lamp","house","no-smoking","smoking","shopping-cart-full","shopping-cart-1","shopping-cart-2","shopping-bag-1","shopping-bag-2","sold-out","sell","present","box","bank-card","money","coin","wallet","discount","price-tag","news","guide","male","female","thumb","cpu","link","connection","open","turn-off","set-up","chat-round","chat-line-round","chat-square","chat-dot-round","chat-dot-square","chat-line-square","message","postcard","position","turn-off-microphone","microphone","close-notification","bangzhu","time","odometer","crop","aim","switch-button","full-screen","copy-document","mic","stopwatch","medal-1","medal","trophy","trophy-1","first-aid-kit","discover","place","location","location-outline","location-information","add-location","delete-location","map-location","alarm-clock","timer","watch-1","watch","lock","unlock","key","service","mobile-phone","bicycle","truck","ship","basketball","football","soccer","baseball","wind-power","light-rain","lightning","heavy-rain","sunrise","sunrise-1","sunset","sunny","cloudy","partly-cloudy","cloudy-and-sunny","moon","moon-night","dish","dish-1","food","chicken","fork-spoon","knife-fork","burger","tableware","sugar","dessert","ice-cream","hot-water","water-cup","coffee-cup","cold-drink","goblet","goblet-full","goblet-square","goblet-square-full","refrigerator","grape","watermelon","cherry","apple","pear","orange","coffee","ice-tea","ice-drink","milk-tea","potato-strips","lollipop","ice-cream-square","ice-cream-round"];t["default"]=i},bbdf:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"工序名称",prop:"process"}},[a("el-input",{attrs:{placeholder:"请输入工序名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.process,callback:function(t){e.$set(e.queryParams,"process",t)},expression:"queryParams.process"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"能源品种",prop:"energy"}},[a("el-select",{attrs:{placeholder:"请选择能源品种",clearable:"",filterable:"",size:"small"},model:{value:e.queryParams.energy,callback:function(t){e.$set(e.queryParams,"energy",t)},expression:"queryParams.energy"}},e._l(e.energyOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"统计时间",prop:"statDate"}},[a("el-date-picker",{staticStyle:{width:"200px"},attrs:{clearable:"",size:"small",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择统计时间"},model:{value:e.queryParams.statDate,callback:function(t){e.$set(e.queryParams,"statDate",t)},expression:"queryParams.statDate"}})],1),e._v(" "),a("el-form-item",[a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")])],1)],1),e._v(" "),a("div",{staticClass:"data-style"},[e._v("汇总数据")]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.totalList,"row-key":"id","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{label:"工序名称",align:"center",prop:"process"}}),e._v(" "),a("el-table-column",{attrs:{label:"能源品种",width:"200",align:"left",prop:"energy"}}),e._v(" "),a("el-table-column",{attrs:{label:"数值",align:"center",prop:"startValue"}}),e._v(" "),a("el-table-column",{attrs:{label:"折标量",align:"center",prop:"endValue"}})],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"父级菜单",prop:"parentId"}},[a("treeselect",{attrs:{options:e.companyOneTotalData5Options,normalizer:e.normalizer,placeholder:"请选择父级菜单"},model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"工序名称",prop:"process"}},[a("el-input",{attrs:{placeholder:"请输入工序名称"},model:{value:e.form.process,callback:function(t){e.$set(e.form,"process",t)},expression:"form.process"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"工序编号",prop:"processCode"}},[a("el-input",{attrs:{placeholder:"请输入工序编号"},model:{value:e.form.processCode,callback:function(t){e.$set(e.form,"processCode",t)},expression:"form.processCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"能源品种",prop:"energy"}},[a("el-input",{attrs:{placeholder:"请输入能源品种"},model:{value:e.form.energy,callback:function(t){e.$set(e.form,"energy",t)},expression:"form.energy"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"能源品种编号",prop:"energyCode"}},[a("el-input",{attrs:{placeholder:"请输入能源品种编号"},model:{value:e.form.energyCode,callback:function(t){e.$set(e.form,"energyCode",t)},expression:"form.energyCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"测点名称",prop:"point"}},[a("el-input",{attrs:{placeholder:"请输入测点名称"},model:{value:e.form.point,callback:function(t){e.$set(e.form,"point",t)},expression:"form.point"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"测点位号",prop:"pointCode"}},[a("el-input",{attrs:{placeholder:"请输入测点位号"},model:{value:e.form.pointCode,callback:function(t){e.$set(e.form,"pointCode",t)},expression:"form.pointCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"倍数",prop:"multiple"}},[a("el-input",{attrs:{placeholder:"请输入倍数"},model:{value:e.form.multiple,callback:function(t){e.$set(e.form,"multiple",t)},expression:"form.multiple"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"单位换算系数",prop:"xs"}},[a("el-input",{attrs:{placeholder:"请输入单位换算系数"},model:{value:e.form.xs,callback:function(t){e.$set(e.form,"xs",t)},expression:"form.xs"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=(a("6b54"),a("f576"),a("a6d1")),o=a("ca17"),l=a.n(o),s=(a("542c"),{name:"CompanyOneTotalData5",components:{Treeselect:l.a},data:function(){return{loading:!0,companyOneTotalData5List:[],totalList:[],companyOneTotalData5Options:[],energyOptions:[],useeOptions:[],title:"",open:!1,queryParams:{process:void 0,device:void 0,statDate:void 0,selectDate:void 0,energy:void 0,type:"2",statType:"0"},form:{},rules:{}}},created:function(){var e=this;this.getTotalList(),this.getNowDate(),this.getDicts("sirui_energy_variety").then((function(t){e.energyOptions=t.data})),this.getDicts("sirui_nyytbm").then((function(t){e.useeOptions=t.data}))},updated:function(){this.expandAll()},methods:{expandAll:function(){for(var e=document.getElementsByClassName("el-table__expand-icon--expanded"),t=0;t<e.length;t++)e[t].click()},getNowDate:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth(),i=e.getDate();a+=1,a=a.toString().padStart(2,"0"),i=i.toString().padStart(2,"0");var r="".concat(t,"-").concat(a,"-").concat(i);this.$set(this.queryParams,"statDate",r)},energyFormat:function(e,t){return this.selectDictLabel(this.energyOptions,e.energy)},useeFormat:function(e,t){return this.selectDictLabel(this.useeOptions,e.usee)},getTotalList:function(){var e=this;this.loading=!0,Object(n["d"])(this.queryParams).then((function(t){e.totalList=e.handleTree(t.data,"id","parentId"),e.loading=!1}))},getList:function(){var e=this;this.loading=!0,Object(n["g"])(this.queryParams).then((function(t){e.companyOneTotalData5List=e.handleTree(t.data,"id","parentId"),e.loading=!1}))},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.id,label:e.process,children:e.children}},getTreeselect:function(){var e=this;Object(n["g"])().then((function(t){e.companyOneTotalData5Options=[];var a={id:0,process:"顶级节点",children:[]};a.children=e.handleTree(t.data,"id","parentId"),e.companyOneTotalData5Options.push(a)}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,parentId:void 0,process:void 0,processCode:void 0,type:"2",device:void 0,deviceCode:void 0,energy:void 0,energyCode:void 0,point:void 0,pointCode:void 0,multiple:void 0,xs:void 0,company:void 0,usee:void 0,createTime:void 0,updateTime:void 0,dId:void 0,number:void 0,startValue:void 0,endValue:void 0,inputType:void 0,statType:"0",scope:void 0,statDate:void 0},this.resetForm("form")},handleQuery:function(){this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.getTreeselect(),this.open=!0,this.title="添加二级数据测点配置"},handleUpdate:function(e){var t=this;this.reset(),this.getTreeselect(),void 0!=e&&(this.form.parentId=e.id),Object(n["c"])(e.id).then((function(e){t.form=e.data,t.open=!0,t.title="修改二级数据测点配置"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?Object(n["h"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):Object(n["a"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this;this.$confirm('是否确认删除二级数据测点配置编号为"'+e.id+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["b"])(e.id)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}}),c=s,u=(a("0f20"),a("2877")),d=Object(u["a"])(c,i,r,!1,null,null,null);t["default"]=d.exports},bfc4:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:"字典名称",prop:"dictType"}},[a("el-select",{attrs:{size:"small"},model:{value:e.queryParams.dictType,callback:function(t){e.$set(e.queryParams,"dictType",t)},expression:"queryParams.dictType"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.dictId,attrs:{label:e.dictName,value:e.dictType}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"字典标签",prop:"dictLabel"}},[a("el-input",{attrs:{placeholder:"请输入字典标签",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.dictLabel,callback:function(t){e.$set(e.queryParams,"dictLabel",t)},expression:"queryParams.dictLabel"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"数据状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:add"],expression:"['system:dict:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:edit"],expression:"['system:dict:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:remove"],expression:"['system:dict:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:export"],expression:"['system:dict:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.dataList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"字典编码",align:"center",prop:"dictCode"}}),e._v(" "),a("el-table-column",{attrs:{label:"字典标签",align:"center",prop:"dictLabel"}}),e._v(" "),a("el-table-column",{attrs:{label:"字典键值",align:"center",prop:"dictValue"}}),e._v(" "),a("el-table-column",{attrs:{label:"字典排序",align:"center",prop:"dictSort"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"status",formatter:e.statusFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:edit"],expression:"['system:dict:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:remove"],expression:"['system:dict:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"字典类型"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.dictType,callback:function(t){e.$set(e.form,"dictType",t)},expression:"form.dictType"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"数据标签",prop:"dictLabel"}},[a("el-input",{attrs:{placeholder:"请输入数据标签"},model:{value:e.form.dictLabel,callback:function(t){e.$set(e.form,"dictLabel",t)},expression:"form.dictLabel"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"数据键值",prop:"dictValue"}},[a("el-input",{attrs:{placeholder:"请输入数据键值"},model:{value:e.form.dictValue,callback:function(t){e.$set(e.form,"dictValue",t)},expression:"form.dictValue"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"显示排序",prop:"dictSort"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.dictSort,callback:function(t){e.$set(e.form,"dictSort",t)},expression:"form.dictSort"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=a("aa3a"),o=a("ed45"),l={name:"Data",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,dataList:[],defaultDictType:"",title:"",open:!1,statusOptions:[],typeOptions:[],queryParams:{pageNum:1,pageSize:10,dictName:void 0,dictType:void 0,status:void 0},form:{},rules:{dictLabel:[{required:!0,message:"数据标签不能为空",trigger:"blur"}],dictValue:[{required:!0,message:"数据键值不能为空",trigger:"blur"}],dictSort:[{required:!0,message:"数据顺序不能为空",trigger:"blur"}]}}},created:function(){var e=this,t=this.$route.params&&this.$route.params.dictId;this.getType(t),this.getTypeList(),this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data}))},methods:{getType:function(e){var t=this;Object(o["e"])(e).then((function(e){t.queryParams.dictType=e.data.dictType,t.defaultDictType=e.data.dictType,t.getList()}))},getTypeList:function(){var e=this;Object(o["f"])().then((function(t){e.typeOptions=t.rows}))},getList:function(){var e=this;this.loading=!0,Object(n["f"])(this.queryParams).then((function(t){e.dataList=t.rows,e.total=t.total,e.loading=!1}))},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={dictCode:void 0,dictLabel:void 0,dictValue:void 0,dictSort:0,status:"0",remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.queryParams.dictType=this.defaultDictType,this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加字典数据",this.form.dictType=this.queryParams.dictType},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.dictCode})),this.single=1!=e.length,this.multiple=!e.length},handleUpdate:function(e){var t=this;this.reset();var a=e.dictCode||this.ids;Object(n["d"])(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改字典数据"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.dictCode?Object(n["g"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):Object(n["a"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this,a=e.dictCode||this.ids;this.$confirm('是否确认删除字典编码为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["b"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["c"])(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},s=l,c=a("2877"),u=Object(c["a"])(s,i,r,!1,null,null,null);t["default"]=u.exports},c0c7:function(e,t,a){"use strict";a.d(t,"h",(function(){return n})),a.d(t,"e",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"j",(function(){return s})),a.d(t,"c",(function(){return c})),a.d(t,"d",(function(){return u})),a.d(t,"i",(function(){return d})),a.d(t,"b",(function(){return m})),a.d(t,"f",(function(){return p})),a.d(t,"k",(function(){return f})),a.d(t,"l",(function(){return v})),a.d(t,"m",(function(){return h})),a.d(t,"g",(function(){return b}));var i=a("b775"),r=a("c38a");function n(e){return Object(i["a"])({url:"/system/user/list",method:"get",params:e})}function o(e){return Object(i["a"])({url:"/system/user/"+Object(r["e"])(e),method:"get"})}function l(e){return Object(i["a"])({url:"/system/user",method:"post",data:e})}function s(e){return Object(i["a"])({url:"/system/user",method:"put",data:e})}function c(e){return Object(i["a"])({url:"/system/user/"+e,method:"delete"})}function u(e){return Object(i["a"])({url:"/system/user/export",method:"get",params:e})}function d(e,t){var a={userId:e,password:t};return Object(i["a"])({url:"/system/user/resetPwd",method:"put",data:a})}function m(e,t){var a={userId:e,status:t};return Object(i["a"])({url:"/system/user/changeStatus",method:"put",data:a})}function p(){return Object(i["a"])({url:"/system/user/profile",method:"get"})}function f(e){return Object(i["a"])({url:"/system/user/profile",method:"put",data:e})}function v(e,t){var a={oldPassword:e,newPassword:t};return Object(i["a"])({url:"/system/user/profile/updatePwd",method:"put",params:a})}function h(e){return Object(i["a"])({url:"/system/user/profile/avatar",method:"post",data:e})}function b(){return Object(i["a"])({url:"/system/user/importTemplate",method:"get"})}},c0e6:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",[a("el-col",{staticClass:"card-box",attrs:{span:12}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("CPU")])]),e._v(" "),a("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[a("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[a("thead",[a("tr",[a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("属性")])]),e._v(" "),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("值")])])])]),e._v(" "),a("tbody",[a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("核心数")])]),e._v(" "),a("td",[e.server.cpu?a("div",{staticClass:"cell"},[e._v(e._s(e.server.cpu.cpuNum))]):e._e()])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("用户使用率")])]),e._v(" "),a("td",[e.server.cpu?a("div",{staticClass:"cell"},[e._v(e._s(e.server.cpu.used)+"%")]):e._e()])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("系统使用率")])]),e._v(" "),a("td",[e.server.cpu?a("div",{staticClass:"cell"},[e._v(e._s(e.server.cpu.sys)+"%")]):e._e()])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("当前空闲率")])]),e._v(" "),a("td",[e.server.cpu?a("div",{staticClass:"cell"},[e._v(e._s(e.server.cpu.free)+"%")]):e._e()])])])])])])],1),e._v(" "),a("el-col",{staticClass:"card-box",attrs:{span:12}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("内存")])]),e._v(" "),a("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[a("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[a("thead",[a("tr",[a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("属性")])]),e._v(" "),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("内存")])]),e._v(" "),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("JVM")])])])]),e._v(" "),a("tbody",[a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("总内存")])]),e._v(" "),a("td",[e.server.mem?a("div",{staticClass:"cell"},[e._v(e._s(e.server.mem.total)+"G")]):e._e()]),e._v(" "),a("td",[e.server.jvm?a("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.total)+"M")]):e._e()])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("已用内存")])]),e._v(" "),a("td",[e.server.mem?a("div",{staticClass:"cell"},[e._v(e._s(e.server.mem.used)+"G")]):e._e()]),e._v(" "),a("td",[e.server.jvm?a("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.used)+"M")]):e._e()])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("剩余内存")])]),e._v(" "),a("td",[e.server.mem?a("div",{staticClass:"cell"},[e._v(e._s(e.server.mem.free)+"G")]):e._e()]),e._v(" "),a("td",[e.server.jvm?a("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.free)+"M")]):e._e()])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("使用率")])]),e._v(" "),a("td",[e.server.mem?a("div",{staticClass:"cell",class:{"text-danger":e.server.mem.usage>80}},[e._v(e._s(e.server.mem.usage)+"%")]):e._e()]),e._v(" "),a("td",[e.server.jvm?a("div",{staticClass:"cell",class:{"text-danger":e.server.jvm.usage>80}},[e._v(e._s(e.server.jvm.usage)+"%")]):e._e()])])])])])])],1),e._v(" "),a("el-col",{staticClass:"card-box",attrs:{span:24}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("服务器信息")])]),e._v(" "),a("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[a("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[a("tbody",[a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("服务器名称")])]),e._v(" "),a("td",[e.server.sys?a("div",{staticClass:"cell"},[e._v(e._s(e.server.sys.computerName))]):e._e()]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v("操作系统")])]),e._v(" "),a("td",[e.server.sys?a("div",{staticClass:"cell"},[e._v(e._s(e.server.sys.osName))]):e._e()])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("服务器IP")])]),e._v(" "),a("td",[e.server.sys?a("div",{staticClass:"cell"},[e._v(e._s(e.server.sys.computerIp))]):e._e()]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v("系统架构")])]),e._v(" "),a("td",[e.server.sys?a("div",{staticClass:"cell"},[e._v(e._s(e.server.sys.osArch))]):e._e()])])])])])])],1),e._v(" "),a("el-col",{staticClass:"card-box",attrs:{span:24}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("Java虚拟机信息")])]),e._v(" "),a("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[a("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[a("tbody",[a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("Java名称")])]),e._v(" "),a("td",[e.server.jvm?a("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.name))]):e._e()]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v("Java版本")])]),e._v(" "),a("td",[e.server.jvm?a("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.version))]):e._e()])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("启动时间")])]),e._v(" "),a("td",[e.server.jvm?a("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.startTime))]):e._e()]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v("运行时长")])]),e._v(" "),a("td",[e.server.jvm?a("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.runTime))]):e._e()])]),e._v(" "),a("tr",[a("td",{attrs:{colspan:"1"}},[a("div",{staticClass:"cell"},[e._v("安装路径")])]),e._v(" "),a("td",{attrs:{colspan:"3"}},[e.server.jvm?a("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.home))]):e._e()])]),e._v(" "),a("tr",[a("td",{attrs:{colspan:"1"}},[a("div",{staticClass:"cell"},[e._v("项目路径")])]),e._v(" "),a("td",{attrs:{colspan:"3"}},[e.server.sys?a("div",{staticClass:"cell"},[e._v(e._s(e.server.sys.userDir))]):e._e()])])])])])])],1),e._v(" "),a("el-col",{staticClass:"card-box",attrs:{span:24}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("磁盘状态")])]),e._v(" "),a("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[a("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[a("thead",[a("tr",[a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("盘符路径")])]),e._v(" "),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("文件系统")])]),e._v(" "),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("盘符类型")])]),e._v(" "),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("总大小")])]),e._v(" "),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("可用大小")])]),e._v(" "),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("已用大小")])]),e._v(" "),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("已用百分比")])])])]),e._v(" "),e.server.sysFiles?a("tbody",e._l(e.server.sysFiles,(function(t){return a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v(e._s(t.dirName))])]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(t.sysTypeName))])]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(t.typeName))])]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(t.total))])]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(t.free))])]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(t.used))])]),e._v(" "),a("td",[a("div",{staticClass:"cell",class:{"text-danger":t.usage>80}},[e._v(e._s(t.usage)+"%")])])])})),0):e._e()])])])],1)],1)],1)},r=[],n=a("cc0b"),o={name:"Server",data:function(){return{loading:[],server:[]}},created:function(){this.getList(),this.openLoading()},methods:{getList:function(){var e=this;Object(n["a"])().then((function(t){e.server=t.data,e.loading.close()}))},openLoading:function(){this.loading=this.$loading({lock:!0,text:"拼命读取中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"})}}},l=o,s=a("2877"),c=Object(s["a"])(l,i,r,!1,null,null,null);t["default"]=c.exports},c1af:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"对应测点名称",prop:"pName"}},[a("el-input",{attrs:{placeholder:"请输入对应测点名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.pName,callback:function(t){e.$set(e.queryParams,"pName",t)},expression:"queryParams.pName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"对应位号",prop:"pCoding"}},[a("el-input",{attrs:{placeholder:"请输入对应位号",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.pCoding,callback:function(t){e.$set(e.queryParams,"pCoding",t)},expression:"queryParams.pCoding"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:RealtimeFollow:edit"],expression:"['sirui:RealtimeFollow:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:RealtimeFollow:remove"],expression:"['sirui:RealtimeFollow:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:RealtimeFollow:export"],expression:"['sirui:RealtimeFollow:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.RealtimeFollowList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"符号",align:"center",prop:"id"}}),e._v(" "),a("el-table-column",{attrs:{label:"对应测点名称",align:"center",prop:"pName"}}),e._v(" "),a("el-table-column",{attrs:{label:"对应位号",align:"center",prop:"pCoding"}}),e._v(" "),a("el-table-column",{attrs:{label:"倍数",align:"center",prop:"xs"}}),e._v(" "),a("el-table-column",{attrs:{label:"单位换算系数",align:"center",prop:"cs"}}),e._v(" "),a("el-table-column",{attrs:{label:"符号",align:"center",prop:"fh"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"符号",prop:"mId"}},[a("el-input",{attrs:{placeholder:"请输入符号"},model:{value:e.form.mId,callback:function(t){e.$set(e.form,"mId",t)},expression:"form.mId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"对应测点名称",prop:"pName"}},[a("el-input",{attrs:{placeholder:"请输入对应测点名称"},model:{value:e.form.pName,callback:function(t){e.$set(e.form,"pName",t)},expression:"form.pName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"对应位号",prop:"pCoding"}},[a("el-input",{attrs:{placeholder:"请输入对应位号"},model:{value:e.form.pCoding,callback:function(t){e.$set(e.form,"pCoding",t)},expression:"form.pCoding"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"倍数",prop:"xs"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.xs,callback:function(t){e.$set(e.form,"xs",t)},expression:"form.xs"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"单位换算系数",prop:"cs"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.cs,callback:function(t){e.$set(e.form,"cs",t)},expression:"form.cs"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"符号",prop:"fh"}},[a("el-input",{attrs:{placeholder:"请输入符号"},model:{value:e.form.fh,callback:function(t){e.$set(e.form,"fh",t)},expression:"form.fh"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=a("2420"),o={name:"RealtimeFollow",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,RealtimeFollowList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,pName:void 0,pCoding:void 0,xs:void 0,cs:void 0,fh:void 0},form:{},rules:{}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(n["e"])(this.queryParams).then((function(t){e.RealtimeFollowList=t.rows,e.total=t.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,mId:void 0,pName:void 0,pCoding:void 0,xs:void 0,cs:void 0,fh:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加实时数据配置从"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;Object(n["d"])(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改实时数据配置从"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?Object(n["f"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):Object(n["a"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除实时数据配置从编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["b"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有实时数据配置从数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["c"])(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},l=o,s=a("2877"),c=Object(s["a"])(l,i,r,!1,null,null,null);t["default"]=c.exports},c7e9:function(e,t,a){"use strict";a.r(t);a("4917"),a("ac6a");var i=a("23f1"),r=function(e){return e.keys()},n=/\.\/(.*)\.svg/,o=r(i).map((function(e){return e.match(n)[1]}));t["default"]=o},c81a:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",e._g(e._b({attrs:{"close-on-click-modal":!1,"modal-append-to-body":!1},on:{open:e.onOpen,close:e.onClose}},"el-dialog",e.$attrs,!1),e.$listeners),[a("el-row",{attrs:{gutter:0}},[a("el-form",{ref:"elForm",attrs:{model:e.formData,rules:e.rules,size:"small","label-width":"100px"}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"选项名",prop:"label"}},[a("el-input",{attrs:{placeholder:"请输入选项名",clearable:""},model:{value:e.formData.label,callback:function(t){e.$set(e.formData,"label",t)},expression:"formData.label"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"选项值",prop:"value"}},[a("el-input",{attrs:{placeholder:"请输入选项值",clearable:""},model:{value:e.formData.value,callback:function(t){e.$set(e.formData,"value",t)},expression:"formData.value"}},[a("el-select",{style:{width:"100px"},attrs:{slot:"append"},slot:"append",model:{value:e.dataType,callback:function(t){e.dataType=t},expression:"dataType"}},e._l(e.dataTypeOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1)],1)],1)],1)],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handelConfirm}},[e._v("\n        确定\n      ")]),e._v(" "),a("el-button",{on:{click:e.close}},[e._v("\n        取消\n      ")])],1)],1)],1)},r=[],n=a("ed08"),o={components:{},inheritAttrs:!1,props:[],data:function(){return{id:100,formData:{label:void 0,value:void 0},rules:{label:[{required:!0,message:"请输入选项名",trigger:"blur"}],value:[{required:!0,message:"请输入选项值",trigger:"blur"}]},dataType:"string",dataTypeOptions:[{label:"字符串",value:"string"},{label:"数字",value:"number"}]}},computed:{},watch:{"formData.value":function(e){this.dataType=Object(n["e"])(e)?"number":"string"}},created:function(){},mounted:function(){},methods:{onOpen:function(){this.formData={label:void 0,value:void 0}},onClose:function(){},close:function(){this.$emit("update:visible",!1)},handelConfirm:function(){var e=this;this.$refs.elForm.validate((function(t){t&&("number"===e.dataType&&(e.formData.value=parseFloat(e.formData.value)),e.formData.id=e.id++,e.$emit("commit",e.formData),e.close())}))}}},l=o,s=a("2877"),c=Object(s["a"])(l,i,r,!1,null,null,null);t["default"]=c.exports},cc0b:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var i=a("b775");function r(){return Object(i["a"])({url:"/monitor/server",method:"get"})}},cc6c:function(e,t,a){e.exports=a.p+"static/img/401.089007e7.gif"},cdb7:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"参数名称",prop:"configName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入参数名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.configName,callback:function(t){e.$set(e.queryParams,"configName",t)},expression:"queryParams.configName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"参数键名",prop:"configKey"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入参数键名",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.configKey,callback:function(t){e.$set(e.queryParams,"configKey",t)},expression:"queryParams.configKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"系统内置",prop:"configType"}},[a("el-select",{attrs:{placeholder:"系统内置",clearable:"",size:"small"},model:{value:e.queryParams.configType,callback:function(t){e.$set(e.queryParams,"configType",t)},expression:"queryParams.configType"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:config:add"],expression:"['system:config:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:config:edit"],expression:"['system:config:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:config:remove"],expression:"['system:config:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:config:export"],expression:"['system:config:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:config:remove"],expression:"['system:config:remove']"}],attrs:{type:"danger",icon:"el-icon-refresh",size:"mini"},on:{click:e.handleClearCache}},[e._v("清理缓存")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.configList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"参数主键",align:"center",prop:"configId"}}),e._v(" "),a("el-table-column",{attrs:{label:"参数名称",align:"center",prop:"configName","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"参数键名",align:"center",prop:"configKey","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"参数键值",align:"center",prop:"configValue"}}),e._v(" "),a("el-table-column",{attrs:{label:"系统内置",align:"center",prop:"configType",formatter:e.typeFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:config:edit"],expression:"['system:config:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:config:remove"],expression:"['system:config:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"参数名称",prop:"configName"}},[a("el-input",{attrs:{placeholder:"请输入参数名称"},model:{value:e.form.configName,callback:function(t){e.$set(e.form,"configName",t)},expression:"form.configName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"参数键名",prop:"configKey"}},[a("el-input",{attrs:{placeholder:"请输入参数键名"},model:{value:e.form.configKey,callback:function(t){e.$set(e.form,"configKey",t)},expression:"form.configKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"参数键值",prop:"configValue"}},[a("el-input",{attrs:{placeholder:"请输入参数键值"},model:{value:e.form.configValue,callback:function(t){e.$set(e.form,"configValue",t)},expression:"form.configValue"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"系统内置",prop:"configType"}},[a("el-radio-group",{model:{value:e.form.configType,callback:function(t){e.$set(e.form,"configType",t)},expression:"form.configType"}},e._l(e.typeOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=a("c0c3"),o={name:"Config",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,configList:[],title:"",open:!1,typeOptions:[],dateRange:[],queryParams:{pageNum:1,pageSize:10,configName:void 0,configKey:void 0,configType:void 0},form:{},rules:{configName:[{required:!0,message:"参数名称不能为空",trigger:"blur"}],configKey:[{required:!0,message:"参数键名不能为空",trigger:"blur"}],configValue:[{required:!0,message:"参数键值不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_yes_no").then((function(t){e.typeOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,Object(n["g"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.configList=t.rows,e.total=t.total,e.loading=!1}))},typeFormat:function(e,t){return this.selectDictLabel(this.typeOptions,e.configType)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={configId:void 0,configName:void 0,configKey:void 0,configValue:void 0,configType:"Y",remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加参数"},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.configId})),this.single=1!=e.length,this.multiple=!e.length},handleUpdate:function(e){var t=this;this.reset();var a=e.configId||this.ids;Object(n["e"])(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改参数"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.configId?Object(n["h"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):Object(n["a"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this,a=e.configId||this.ids;this.$confirm('是否确认删除参数编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["c"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有参数数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["d"])(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))},handleClearCache:function(){var e=this;Object(n["b"])().then((function(t){200===t.code&&e.msgSuccess("清理成功")}))}}},l=o,s=a("2877"),c=Object(s["a"])(l,i,r,!1,null,null,null);t["default"]=c.exports},ce42:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"能源品种",prop:"energy"}},[a("el-select",{attrs:{placeholder:"请选择能源品种",clearable:"",filterable:"",size:"small"},model:{value:e.queryParams.energy,callback:function(t){e.$set(e.queryParams,"energy",t)},expression:"queryParams.energy"}},e._l(e.energyOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"测点名称",prop:"point"}},[a("el-input",{attrs:{placeholder:"请输入测点名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.point,callback:function(t){e.$set(e.queryParams,"point",t)},expression:"queryParams.point"}})],1),e._v(" "),a("el-form-item",[a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.companyOneTotalData3List,"row-key":"id","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{label:"能源品种",align:"left",prop:"energy",formatter:e.energyFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"测点名称",align:"center",prop:"point"}}),e._v(" "),a("el-table-column",{attrs:{label:"测点序号",align:"center",prop:"pointCode"}}),e._v(" "),a("el-table-column",{attrs:{label:"数据分类",align:"center",prop:"dataType",formatter:e.dataTypeFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"单位",align:"center",prop:"unit"}}),e._v(" "),a("el-table-column",{attrs:{label:"能源用途",align:"center",prop:"usee",formatter:e.useeFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:companyOneTotalData3:edit"],expression:"['sirui:companyOneTotalData3:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:companyOneTotalData3:add"],expression:"['sirui:companyOneTotalData3:add']"}],attrs:{size:"mini",type:"text",icon:"el-icon-plus"},on:{click:function(a){return e.handleAdd(t.row)}}},[e._v("新增")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"父级菜单",prop:"parentId"}},[a("treeselect",{attrs:{options:e.companyOneTotalData3Options,normalizer:e.normalizer,placeholder:"请选择父级菜单"},model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"能源品种"}},[a("el-select",{attrs:{placeholder:"请选择能源品种"},model:{value:e.form.energy,callback:function(t){e.$set(e.form,"energy",t)},expression:"form.energy"}},e._l(e.energyOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"所属公司",prop:"company"}},[a("el-select",{attrs:{placeholder:"请选择所属公司"},model:{value:e.form.company,callback:function(t){e.$set(e.form,"company",t)},expression:"form.company"}},[a("el-option",{attrs:{label:"宁夏宝丰能源集团股份有限公司",value:"101"}}),e._v(" "),a("el-option",{attrs:{label:"煤焦化公司",value:"102"}}),e._v(" "),a("el-option",{attrs:{label:"东毅环保科技",value:"103"}}),e._v(" "),a("el-option",{attrs:{label:"峰达公司",value:"104"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"能源品种编码",prop:"energyCode"}},[a("el-input",{attrs:{placeholder:"请输入能源品种编码"},model:{value:e.form.energyCode,callback:function(t){e.$set(e.form,"energyCode",t)},expression:"form.energyCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"测点名称",prop:"point"}},[a("el-input",{attrs:{placeholder:"请输入测点名称"},model:{value:e.form.point,callback:function(t){e.$set(e.form,"point",t)},expression:"form.point"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"测点序号",prop:"pointCode"}},[a("el-input",{attrs:{placeholder:"请输入测点序号"},model:{value:e.form.pointCode,callback:function(t){e.$set(e.form,"pointCode",t)},expression:"form.pointCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"数据分类"}},[a("el-select",{attrs:{placeholder:"请选择数据分类"},model:{value:e.form.dataType,callback:function(t){e.$set(e.form,"dataType",t)},expression:"form.dataType"}},e._l(e.dataTypeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"核算关系",prop:"relation"}},[a("el-input",{attrs:{placeholder:"请输入核算关系"},model:{value:e.form.relation,callback:function(t){e.$set(e.form,"relation",t)},expression:"form.relation"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"单位",prop:"unit"}},[a("el-input",{attrs:{placeholder:"请输入单位"},model:{value:e.form.unit,callback:function(t){e.$set(e.form,"unit",t)},expression:"form.unit"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"能源用途",prop:"usee"}},[a("el-select",{attrs:{placeholder:"请选择能源用途"},model:{value:e.form.usee,callback:function(t){e.$set(e.form,"usee",t)},expression:"form.usee"}},e._l(e.useeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"测点系数",prop:"xs"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.xs,callback:function(t){e.$set(e.form,"xs",t)},expression:"form.xs"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=a("1a35"),o=a("ca17"),l=a.n(o),s=(a("542c"),{name:"CompanyOneTotalData3",components:{Treeselect:l.a},data:function(){return{loading:!0,companyOneTotalData3List:[],companyOneTotalData3Options:[],title:"",open:!1,energyOptions:[],dataTypeOptions:[],useeOptions:[],queryParams:{energy:void 0,point:void 0},form:{},rules:{}}},created:function(){var e=this;this.getList(),this.getDicts("sirui_energy_variety").then((function(t){e.energyOptions=t.data})),this.getDicts("sirui_data_type").then((function(t){e.dataTypeOptions=t.data})),this.getDicts("sirui_nyytbm").then((function(t){e.useeOptions=t.data}))},updated:function(){this.expandAll()},methods:{expandAll:function(){for(var e=document.getElementsByClassName("el-table__expand-icon--expanded"),t=0;t<e.length;t++)e[t].click()},getList:function(){var e=this;this.loading=!0,Object(n["f"])(this.queryParams).then((function(t){e.companyOneTotalData3List=e.handleTree(t.data,"id","parentId"),e.loading=!1}))},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.id,label:e.energy,children:e.children}},getTreeselect:function(){var e=this;Object(n["f"])().then((function(t){e.companyOneTotalData3Options=[];var a={id:0,energy:"顶级节点",children:[]};a.children=e.handleTree(t.data,"id","parentId"),e.companyOneTotalData3Options.push(a)}))},energyFormat:function(e,t){return this.selectDictLabel(this.energyOptions,e.energy)},dataTypeFormat:function(e,t){return this.selectDictLabel(this.dataTypeOptions,e.dataType)},useeFormat:function(e,t){return this.selectDictLabel(this.useeOptions,e.usee)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,parentId:void 0,energy:void 0,energyCode:void 0,point:void 0,pointCode:void 0,dataType:void 0,relation:void 0,unit:void 0,coefficient:void 0,coefficientUnit:void 0,usee:void 0,xs:void 0,company:void 0},this.resetForm("form")},handleQuery:function(){this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(e){this.reset(),this.getTreeselect(),null!=e&&(this.form.parentId=e.id),this.open=!0,this.title="添加公司测点配置主"},handleUpdate:function(e){var t=this;console.log(e),this.reset(),this.getTreeselect(),void 0!=e&&(this.form.parentId=e.id),Object(n["c"])(e.id).then((function(e){t.form=e.data,t.open=!0,t.title="修改公司测点配置主"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?(console.log(e.form),Object(n["i"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())}))):Object(n["a"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this;this.$confirm('是否确认删除公司测点配置主编号为"'+e.id+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["b"])(e.id)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}}),c=s,u=a("2877"),d=Object(u["a"])(c,i,r,!1,null,null,null);t["default"]=d.exports},cef9:function(e,t,a){"use strict";var i=a("0304"),r=a.n(i);r.a},cfbc:function(e,t,a){},d053:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"能源品种",prop:"energy"}},[a("el-select",{attrs:{placeholder:"请选择能源品种",clearable:"",filterable:"",size:"small"},model:{value:e.queryParams.energy,callback:function(t){e.$set(e.queryParams,"energy",t)},expression:"queryParams.energy"}},e._l(e.energyOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"数据分类",prop:"dataType"}},[a("el-select",{attrs:{placeholder:"请选择数据分类",clearable:"",filterable:"",size:"small"},model:{value:e.queryParams.dataType,callback:function(t){e.$set(e.queryParams,"dataType",t)},expression:"queryParams.dataType"}},e._l(e.dataTypeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"统计时间",prop:"statDate"}},[a("el-date-picker",{staticStyle:{width:"200px"},attrs:{clearable:"",size:"small",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择统计时间"},model:{value:e.queryParams.statDate,callback:function(t){e.$set(e.queryParams,"statDate",t)},expression:"queryParams.statDate"}})],1),e._v(" "),a("el-form-item",[a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")])],1)],1),e._v(" "),a("div",{staticClass:"data-style"},[e._v("汇总数据")]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.oneData1TotalList,"row-key":"id","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{label:"能源品种",width:"200",align:"left",prop:"energy"}}),e._v(" "),a("el-table-column",{attrs:{label:"测点名称",align:"center",prop:"point"}}),e._v(" "),a("el-table-column",{attrs:{label:"数据分类",align:"center",prop:"dataType",formatter:e.dataTypeFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"数值",align:"center",prop:"startValue"}}),e._v(" "),a("el-table-column",{attrs:{label:"单位",align:"center",prop:"unit"}}),e._v(" "),a("el-table-column",{attrs:{label:"折标量",align:"center",prop:"endValue"}})],1),e._v(" "),a("div",{staticClass:"data-style"},[e._v("分项数据")]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.oneData1List,"row-key":"id","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"},"row-style":e.TableRowStyle}},[a("el-table-column",{attrs:{label:"能源品种",width:"200",align:"left",prop:"energy"}}),e._v(" "),a("el-table-column",{attrs:{label:"测点名称",align:"center",prop:"point"}}),e._v(" "),a("el-table-column",{attrs:{label:"数据分类",align:"center",prop:"dataType",formatter:e.dataTypeFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"数值",align:"center",prop:"startValue"}}),e._v(" "),a("el-table-column",{attrs:{label:"单位",align:"center",prop:"unit"}}),e._v(" "),a("el-table-column",{attrs:{label:"折标量",align:"center",prop:"endValue"}}),e._v(" "),a("el-table-column",{attrs:{label:"统计时间",align:"center",prop:"statDate"}}),e._v(" "),a("el-table-column",{attrs:{label:"是否确认",align:"center",prop:"isOk",formatter:e.isOkFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.parentId?a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:oneData1:edit"],expression:"['sirui:oneData1:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleConfirm(t.row)}}},[e._v("确认")]):e._e(),e._v(" "),0==t.row.parentId?a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:oneData1:edit"],expression:"['sirui:oneData1:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]):e._e()]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"能源品种"}},[a("el-select",{attrs:{placeholder:"请选择能源品种",disabled:""},model:{value:e.form.energy,callback:function(t){e.$set(e.form,"energy",t)},expression:"form.energy"}},e._l(e.energyOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"数据分类"}},[a("el-select",{attrs:{placeholder:"请选择数据分类",disabled:""},model:{value:e.form.dataType,callback:function(t){e.$set(e.form,"dataType",t)},expression:"form.dataType"}},e._l(e.dataTypeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"数值",prop:"startValue"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.startValue,callback:function(t){e.$set(e.form,"startValue",t)},expression:"form.startValue"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"折标量",prop:"endValue"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.endValue,callback:function(t){e.$set(e.form,"endValue",t)},expression:"form.endValue"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"单位",prop:"unit"}},[a("el-input",{attrs:{placeholder:"请输入单位",disabled:""},model:{value:e.form.unit,callback:function(t){e.$set(e.form,"unit",t)},expression:"form.unit"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"数据采集类型"}},[a("el-select",{attrs:{placeholder:"请选择数据采集类型",disabled:""},model:{value:e.form.inputType,callback:function(t){e.$set(e.form,"inputType",t)},expression:"form.inputType"}},e._l(e.inputTypeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"数据采集频率 "}},[a("el-select",{attrs:{placeholder:"请选择数据采集频率 ",disabled:""},model:{value:e.form.statType,callback:function(t){e.$set(e.form,"statType",t)},expression:"form.statType"}},e._l(e.statTypeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"数据范围"}},[a("el-select",{attrs:{placeholder:"请选择数据范围",disabled:""},model:{value:e.form.scope,callback:function(t){e.$set(e.form,"scope",t)},expression:"form.scope"}},e._l(e.scopeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=(a("6b54"),a("f576"),a("48b1")),o=a("ca17"),l=a.n(o),s=(a("542c"),{name:"OneData1",components:{Treeselect:l.a},data:function(){return{loading:!0,oneData1List:[],oneData1TotalList:[],oneData1Options:[],title:"",open:!1,energyOptions:[],dataTypeOptions:[],useeOptions:[],inputTypeOptions:[],statTypeOptions:[],scopeOptions:[],validOptions:[],isOkOptions:[],isUpOptions:[],queryParams:{energy:void 0,company:void 0,point:void 0,dataType:void 0,statType:void 0,statDate:void 0},form:{},rules:{}}},created:function(){var e=this;this.getNowDate(),this.getList(),this.getTotalList(),this.getDicts("sirui_energy_variety").then((function(t){e.energyOptions=t.data})),this.getDicts("sirui_data_type").then((function(t){e.dataTypeOptions=t.data})),this.getDicts("sirui_nyytbm").then((function(t){e.useeOptions=t.data})),this.getDicts("sr_sjsc_inputType").then((function(t){e.inputTypeOptions=t.data})),this.getDicts("sr_sjsc_statType").then((function(t){e.statTypeOptions=t.data})),this.getDicts("sr_sjsc_scope").then((function(t){e.scopeOptions=t.data})),this.getDicts("sirui_valid").then((function(t){e.validOptions=t.data})),this.getDicts("sys_yes_no").then((function(t){e.isOkOptions=t.data})),this.getDicts("sys_yes_no").then((function(t){e.isUpOptions=t.data}))},updated:function(){this.expandAll()},methods:{expandAll:function(){for(var e=document.getElementsByClassName("el-table__expand-icon--expanded"),t=0;t<e.length;t++)e[t].click()},TableRowStyle:function(e){var t={};if(e.row.startValue<=0)return t.color="red",t},getNowDate:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth(),i=e.getDate();a+=1,a=a.toString().padStart(2,"0"),i=i.toString().padStart(2,"0");var r="".concat(t,"-").concat(a,"-").concat(i);this.$set(this.queryParams,"statDate",r)},getTotalList:function(){var e=this;this.loading=!0,Object(n["e"])(this.queryParams).then((function(t){e.oneData1TotalList=e.handleTree(t.data,"id","parentId"),e.loading=!1}))},getList:function(){var e=this;this.loading=!0,Object(n["g"])(this.queryParams).then((function(t){e.oneData1List=e.handleTree(t.data,"id","parentId"),e.loading=!1}))},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.id,label:e.energy,children:e.children}},getTreeselect:function(){var e=this;Object(n["g"])().then((function(t){e.oneData1Options=[];var a={id:0,energy:"顶级节点",children:[]};a.children=e.handleTree(t.data,"id","parentId"),e.oneData1Options.push(a)}))},energyFormat:function(e,t){return this.selectDictLabel(this.energyOptions,e.energy)},dataTypeFormat:function(e,t){return this.selectDictLabel(this.dataTypeOptions,e.dataType)},useeFormat:function(e,t){return this.selectDictLabel(this.useeOptions,e.usee)},inputTypeFormat:function(e,t){return this.selectDictLabel(this.inputTypeOptions,e.inputType)},statTypeFormat:function(e,t){return this.selectDictLabel(this.statTypeOptions,e.statType)},scopeFormat:function(e,t){return this.selectDictLabel(this.scopeOptions,e.scope)},validFormat:function(e,t){return this.selectDictLabel(this.validOptions,e.valid)},isOkFormat:function(e,t){return this.selectDictLabel(this.isOkOptions,e.isOk)},isUpFormat:function(e,t){return this.selectDictLabel(this.isUpOptions,e.isUp)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,parentId:void 0,energy:void 0,company:void 0,point:void 0,dataType:void 0,number:void 0,startValue:void 0,endValue:void 0,usee:void 0,unit:void 0,inputType:void 0,statType:void 0,statDate:void 0,scope:void 0,valid:void 0,isOk:void 0,isUp:void 0,createTime:void 0,updateTime:void 0},this.resetForm("form")},handleQuery:function(){this.getList(),this.getTotalList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.getTreeselect(),this.open=!0,this.title="添加一级数据（原始记录）"},handleUpdate:function(e){var t=this;this.reset(),this.getTreeselect(),void 0!=e&&(this.form.parentId=e.id),Object(n["d"])(e.id).then((function(e){t.form=e.data,t.open=!0,t.title="修改一级数据（原始记录）"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?Object(n["h"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):Object(n["a"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this;this.$confirm('是否确认删除一级数据（原始记录）编号为"'+e.id+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["c"])(e.id)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleConfirm:function(e){var t=this;this.$confirm('是否确认提交一级数据编号为"'+e.id+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["b"])(e.id)})).then((function(){t.getList(),t.msgSuccess("确认成功")})).catch((function(){}))}}}),c=s,u=(a("1f16"),a("2877")),d=Object(u["a"])(c,i,r,!1,null,null,null);t["default"]=d.exports},d0b2:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"icon-dialog"},[a("el-dialog",e._g(e._b({attrs:{width:"980px","modal-append-to-body":!1},on:{open:e.onOpen,close:e.onClose}},"el-dialog",e.$attrs,!1),e.$listeners),[a("div",{attrs:{slot:"title"},slot:"title"},[e._v("\n      选择图标\n      "),a("el-input",{style:{width:"260px"},attrs:{size:"mini",placeholder:"请输入图标名称","prefix-icon":"el-icon-search",clearable:""},model:{value:e.key,callback:function(t){e.key=t},expression:"key"}})],1),e._v(" "),a("ul",{staticClass:"icon-ul"},e._l(e.iconList,(function(t){return a("li",{key:t,class:e.active===t?"active-item":"",on:{click:function(a){return e.onSelect(t)}}},[a("i",{class:t}),e._v(" "),a("div",[e._v(e._s(t))])])})),0)])],1)},r=[],n=a("de0a"),o=n.map((function(e){return"el-icon-".concat(e)})),l={inheritAttrs:!1,props:["current"],data:function(){return{iconList:o,active:null,key:""}},watch:{key:function(e){this.iconList=e?o.filter((function(t){return t.indexOf(e)>-1})):o}},methods:{onOpen:function(){this.active=this.current,this.key=""},onClose:function(){},onSelect:function(e){this.active=e,this.$emit("select",e),this.$emit("update:visible",!1)}}},s=l,c=(a("4391"),a("2877")),u=Object(c["a"])(s,i,r,!1,null,"52da1df2",null);t["default"]=u.exports},d135:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"工序名称",prop:"process"}},[a("el-input",{attrs:{placeholder:"请输入工序名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.process,callback:function(t){e.$set(e.queryParams,"process",t)},expression:"queryParams.process"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"能源品种",prop:"energy"}},[a("el-select",{attrs:{placeholder:"请选择能源品种",clearable:"",filterable:"",size:"small"},model:{value:e.queryParams.energy,callback:function(t){e.$set(e.queryParams,"energy",t)},expression:"queryParams.energy"}},e._l(e.energyOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"统计时间",prop:"statDate"}},[a("el-date-picker",{staticStyle:{width:"200px"},attrs:{clearable:"",size:"small",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择统计时间"},model:{value:e.queryParams.statDate,callback:function(t){e.$set(e.queryParams,"statDate",t)},expression:"queryParams.statDate"}})],1),e._v(" "),a("el-form-item",[a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.companyOneTotalData5List,"row-key":"id","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{label:"工序名称",align:"center",prop:"process"}}),e._v(" "),a("el-table-column",{attrs:{label:"设备名称",align:"center",prop:"device"}}),e._v(" "),a("el-table-column",{attrs:{label:"能源品种",align:"center",prop:"energy"}}),e._v(" "),a("el-table-column",{attrs:{label:"能源用途",align:"center",prop:"usee",formatter:e.useeFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"测点名称",align:"center",prop:"point"}}),e._v(" "),a("el-table-column",{attrs:{label:"数值",align:"center",prop:"startValue"}}),e._v(" "),a("el-table-column",{attrs:{label:"折标量",align:"center",prop:"endValue"}}),e._v(" "),a("el-table-column",{attrs:{label:"折标系数",align:"center",prop:"coefficient"}}),e._v(" "),a("el-table-column",{attrs:{label:"统计时间",align:"center",prop:"statDate"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:companyOneTotalData5:edit"],expression:"['sirui:companyOneTotalData5:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:companyOneTotalData5:remove"],expression:"['sirui:companyOneTotalData5:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"父级菜单",prop:"parentId"}},[a("treeselect",{attrs:{options:e.companyOneTotalData5Options,normalizer:e.normalizer,placeholder:"请选择父级菜单"},model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"工序名称",prop:"process"}},[a("el-input",{attrs:{placeholder:"请输入工序名称"},model:{value:e.form.process,callback:function(t){e.$set(e.form,"process",t)},expression:"form.process"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"工序编号",prop:"processCode"}},[a("el-input",{attrs:{placeholder:"请输入工序编号"},model:{value:e.form.processCode,callback:function(t){e.$set(e.form,"processCode",t)},expression:"form.processCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"能源品种",prop:"energy"}},[a("el-input",{attrs:{placeholder:"请输入能源品种"},model:{value:e.form.energy,callback:function(t){e.$set(e.form,"energy",t)},expression:"form.energy"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"能源品种编号",prop:"energyCode"}},[a("el-input",{attrs:{placeholder:"请输入能源品种编号"},model:{value:e.form.energyCode,callback:function(t){e.$set(e.form,"energyCode",t)},expression:"form.energyCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"测点名称",prop:"point"}},[a("el-input",{attrs:{placeholder:"请输入测点名称"},model:{value:e.form.point,callback:function(t){e.$set(e.form,"point",t)},expression:"form.point"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"测点位号",prop:"pointCode"}},[a("el-input",{attrs:{placeholder:"请输入测点位号"},model:{value:e.form.pointCode,callback:function(t){e.$set(e.form,"pointCode",t)},expression:"form.pointCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"倍数",prop:"multiple"}},[a("el-input",{attrs:{placeholder:"请输入倍数"},model:{value:e.form.multiple,callback:function(t){e.$set(e.form,"multiple",t)},expression:"form.multiple"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"单位换算系数",prop:"xs"}},[a("el-input",{attrs:{placeholder:"请输入单位换算系数"},model:{value:e.form.xs,callback:function(t){e.$set(e.form,"xs",t)},expression:"form.xs"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=(a("6b54"),a("f576"),a("a6d1")),o=a("ca17"),l=a.n(o),s=(a("542c"),{name:"CompanyOneTotalData5",components:{Treeselect:l.a},data:function(){return{loading:!0,companyOneTotalData5List:[],totalList:[],companyOneTotalData5Options:[],energyOptions:[],useeOptions:[],title:"",open:!1,queryParams:{process:void 0,device:void 0,statDate:void 0,selectDate:void 0,energy:void 0,type:"3",statType:"0"},form:{},rules:{}}},created:function(){var e=this;this.getList(),this.getNowDate(),this.getDicts("sirui_energy_variety").then((function(t){e.energyOptions=t.data})),this.getDicts("sirui_nyytbm").then((function(t){e.useeOptions=t.data}))},updated:function(){this.expandAll()},methods:{expandAll:function(){for(var e=document.getElementsByClassName("el-table__expand-icon--expanded"),t=0;t<e.length;t++)e[t].click()},energyFormat:function(e,t){return this.selectDictLabel(this.energyOptions,e.energy)},useeFormat:function(e,t){return this.selectDictLabel(this.useeOptions,e.usee)},getTotalList:function(){var e=this;this.loading=!0,Object(n["d"])(this.queryParams).then((function(t){e.totalList=e.handleTree(t.data,"id","parentId"),e.loading=!1}))},getList:function(){var e=this;this.loading=!0,Object(n["g"])(this.queryParams).then((function(t){e.companyOneTotalData5List=e.handleTree(t.data,"id","parentId"),e.loading=!1}))},getNowDate:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth(),i=e.getDate();a+=1,a=a.toString().padStart(2,"0"),i=i.toString().padStart(2,"0");var r="".concat(t,"-").concat(a,"-").concat(i);this.$set(this.queryParams,"statDate",r)},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.id,label:e.process,children:e.children}},getTreeselect:function(){var e=this;Object(n["g"])().then((function(t){e.companyOneTotalData5Options=[];var a={id:0,process:"顶级节点",children:[]};a.children=e.handleTree(t.data,"id","parentId"),e.companyOneTotalData5Options.push(a)}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,parentId:void 0,process:void 0,processCode:void 0,type:"3",device:void 0,deviceCode:void 0,energy:void 0,energyCode:void 0,point:void 0,pointCode:void 0,multiple:void 0,xs:void 0,company:void 0,usee:void 0,createTime:void 0,updateTime:void 0,dId:void 0,number:void 0,startValue:void 0,endValue:void 0,inputType:void 0,statType:"0",scope:void 0,statDate:void 0},this.resetForm("form")},handleQuery:function(){this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.getTreeselect(),this.open=!0,this.title="添加二级数据测点配置"},handleUpdate:function(e){var t=this;this.reset(),this.getTreeselect(),void 0!=e&&(this.form.parentId=e.id),Object(n["c"])(e.id).then((function(e){t.form=e.data,t.open=!0,t.title="修改二级数据测点配置"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?Object(n["h"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):Object(n["a"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this;this.$confirm('是否确认删除二级数据测点配置编号为"'+e.id+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["b"])(e.id)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}}),c=s,u=(a("4c69"),a("2877")),d=Object(u["a"])(c,i,r,!1,null,null,null);t["default"]=d.exports},d153:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},r=[],n=a("313e"),o=a.n(n),l=a("feb2");a("817d");var s={mixins:[l["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=o.a.init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{left:"center",bottom:"10",data:["Industries","Technology","Forex","Gold","Forecasts"]},series:[{name:"WEEKLY WRITE ARTICLES",type:"pie",roseType:"radius",radius:[15,95],center:["50%","38%"],data:[{value:320,name:"Industries"},{value:240,name:"Technology"},{value:149,name:"Forex"},{value:100,name:"Gold"},{value:59,name:"Forecasts"}],animationEasing:"cubicInOut",animationDuration:2600}]})}}},c=s,u=a("2877"),d=Object(u["a"])(c,i,r,!1,null,null,null);t["default"]=d.exports},d281:function(e,t,a){},d45a:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"工序名称",prop:"process"}},[a("el-input",{attrs:{placeholder:"请输入工序名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.process,callback:function(t){e.$set(e.queryParams,"process",t)},expression:"queryParams.process"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"设备名称",prop:"device"}},[a("el-input",{attrs:{placeholder:"请输入设备名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.device,callback:function(t){e.$set(e.queryParams,"device",t)},expression:"queryParams.device"}})],1),e._v(" "),a("el-form-item",[a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:companyOneTotalData5:add"],expression:"['sirui:companyOneTotalData5:add']"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.companyOneTotalData5List,"row-key":"id","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{label:"工序名称",align:"center",prop:"process"}}),e._v(" "),a("el-table-column",{attrs:{label:"设备名称",align:"center",prop:"device"}}),e._v(" "),a("el-table-column",{attrs:{label:"能源品种",align:"center",prop:"energy"}}),e._v(" "),a("el-table-column",{attrs:{label:"测点名称",align:"center",prop:"point"}}),e._v(" "),a("el-table-column",{attrs:{label:"测点位号",align:"center",prop:"pointCode"}}),e._v(" "),a("el-table-column",{attrs:{label:"倍数",align:"center",prop:"multiple"}}),e._v(" "),a("el-table-column",{attrs:{label:"单位换算系数",align:"center",prop:"xs"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:companyOneTotalData5:edit"],expression:"['sirui:companyOneTotalData5:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:companyOneTotalData5:add"],expression:"['sirui:companyOneTotalData5:add']"}],attrs:{size:"mini",type:"text",icon:"el-icon-plus"},on:{click:function(a){return e.handleAdd(t.row)}}},[e._v("新增")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"父级菜单",prop:"parentId"}},[a("treeselect",{attrs:{options:e.companyOneTotalData5Options,normalizer:e.normalizer,placeholder:"请选择父级菜单"},model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"工序名称",prop:"process"}},[a("el-input",{attrs:{placeholder:"请输入工序名称"},model:{value:e.form.process,callback:function(t){e.$set(e.form,"process",t)},expression:"form.process"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"工序编号",prop:"processCode"}},[a("el-input",{attrs:{placeholder:"请输入工序编号"},model:{value:e.form.processCode,callback:function(t){e.$set(e.form,"processCode",t)},expression:"form.processCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"设备名称",prop:"device"}},[a("el-input",{attrs:{placeholder:"请输入设备名称"},model:{value:e.form.device,callback:function(t){e.$set(e.form,"device",t)},expression:"form.device"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"设备编号",prop:"deviceCode"}},[a("el-input",{attrs:{placeholder:"请输入设备编号"},model:{value:e.form.deviceCode,callback:function(t){e.$set(e.form,"deviceCode",t)},expression:"form.deviceCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"能源品种",prop:"energy"}},[a("el-input",{attrs:{placeholder:"请输入能源品种"},model:{value:e.form.energy,callback:function(t){e.$set(e.form,"energy",t)},expression:"form.energy"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"能源品种编号",prop:"energyCode"}},[a("el-input",{attrs:{placeholder:"请输入能源品种编号"},model:{value:e.form.energyCode,callback:function(t){e.$set(e.form,"energyCode",t)},expression:"form.energyCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"测点名称",prop:"point"}},[a("el-input",{attrs:{placeholder:"请输入测点名称"},model:{value:e.form.point,callback:function(t){e.$set(e.form,"point",t)},expression:"form.point"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"测点位号",prop:"pointCode"}},[a("el-input",{attrs:{placeholder:"请输入测点位号"},model:{value:e.form.pointCode,callback:function(t){e.$set(e.form,"pointCode",t)},expression:"form.pointCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"倍数",prop:"multiple"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.multiple,callback:function(t){e.$set(e.form,"multiple",t)},expression:"form.multiple"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"单位换算系数",prop:"xs"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.xs,callback:function(t){e.$set(e.form,"xs",t)},expression:"form.xs"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=a("a6d1"),o=a("ca17"),l=a.n(o),s=(a("542c"),{name:"CompanyOneTotalData5",components:{Treeselect:l.a},data:function(){return{loading:!0,companyOneTotalData5List:[],companyOneTotalData5Options:[],title:"",open:!1,queryParams:{process:void 0,device:void 0,type:"3"},form:{},rules:{}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(n["e"])(this.queryParams).then((function(t){e.companyOneTotalData5List=e.handleTree(t.data,"id","parentId"),e.loading=!1}))},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.id,label:e.process,children:e.children}},getTreeselect:function(){var e=this;Object(n["e"])().then((function(t){e.companyOneTotalData5Options=[];var a={id:0,process:"顶级节点",children:[]};a.children=e.handleTree(t.data,"id","parentId"),e.companyOneTotalData5Options.push(a)}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,parentId:void 0,process:void 0,processCode:void 0,type:"3",device:void 0,deviceCode:void 0,energy:void 0,energyCode:void 0,point:void 0,pointCode:void 0,multiple:void 0,xs:void 0,company:void 0,createTime:void 0,updateTime:void 0},this.resetForm("form")},handleQuery:function(){this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(e){this.reset(),this.getTreeselect(),null!=e&&(this.form.parentId=e.id),this.open=!0,this.title="添加三级数据测点配置"},handleUpdate:function(e){var t=this;this.reset(),this.getTreeselect(),void 0!=e&&(this.form.parentId=e.id),Object(n["c"])(e.id).then((function(e){t.form=e.data,t.open=!0,t.title="修改三级数据测点配置"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?Object(n["h"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):Object(n["a"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this;this.$confirm('是否确认删除三级数据测点配置编号为"'+e.id+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["b"])(e.id)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}}),c=s,u=a("2877"),d=Object(u["a"])(c,i,r,!1,null,null,null);t["default"]=d.exports},d4ee:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:process:add"],expression:"['sirui:process:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:process:edit"],expression:"['sirui:process:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:process:remove"],expression:"['sirui:process:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:process:export"],expression:"['sirui:process:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.processList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"ID",align:"center",prop:"id"}}),e._v(" "),a("el-table-column",{attrs:{label:"生产工序编码",align:"center",prop:"code"}}),e._v(" "),a("el-table-column",{attrs:{label:"生产工序名称",align:"center",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:"所属行业",align:"center",prop:"industryCode"}}),e._v(" "),a("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:process:edit"],expression:"['sirui:process:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:process:remove"],expression:"['sirui:process:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"生产工序编码",prop:"code"}},[a("el-input",{attrs:{placeholder:"请输入生产工序编码"},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"生产工序名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入生产工序名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所属行业",prop:"industryCode"}},[a("el-input",{attrs:{placeholder:"请输入所属行业"},model:{value:e.form.industryCode,callback:function(t){e.$set(e.form,"industryCode",t)},expression:"form.industryCode"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=a("b775");function o(e){return Object(n["a"])({url:"/sirui/process/list",method:"get",params:e})}function l(e){return Object(n["a"])({url:"/sirui/process/"+e,method:"get"})}function s(e){return Object(n["a"])({url:"/sirui/process",method:"post",data:e})}function c(e){return Object(n["a"])({url:"/sirui/process",method:"put",data:e})}function u(e){return Object(n["a"])({url:"/sirui/process/"+e,method:"delete"})}function d(e){return Object(n["a"])({url:"/sirui/process/export",method:"get",params:e})}var m={name:"Process",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,processList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10},form:{},rules:{}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,o(this.queryParams).then((function(t){e.processList=t.rows,e.total=t.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,code:void 0,name:void 0,industryCode:void 0,createBy:void 0,createTime:void 0,updateBy:void 0,updateTime:void 0,remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加生产工序 "},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;l(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改生产工序 "}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?c(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):s(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除生产工序 编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有生产工序 数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return d(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},p=m,f=a("2877"),v=Object(f["a"])(p,i,r,!1,null,null,null);t["default"]=v.exports},d50f:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"行政区划编码",prop:"code"}},[a("el-input",{attrs:{placeholder:"请输入行政区划编码",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.code,callback:function(t){e.$set(e.queryParams,"code",t)},expression:"queryParams.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"行政区划全称",prop:"fullname"}},[a("el-input",{attrs:{placeholder:"请输入行政区划全称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.fullname,callback:function(t){e.$set(e.queryParams,"fullname",t)},expression:"queryParams.fullname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"行政区划名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入行政区划名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.name,callback:function(t){e.$set(e.queryParams,"name",t)},expression:"queryParams.name"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}}),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.regionList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{label:"行政区划编码",align:"center",prop:"code"}}),e._v(" "),a("el-table-column",{attrs:{label:"行政区划全称",align:"center",prop:"fullname"}}),e._v(" "),a("el-table-column",{attrs:{label:"行政区划名称",align:"center",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:"上一级行政区划编码",align:"center",prop:"pcode"}}),e._v(" "),a("el-table-column",{attrs:{label:"类型",align:"center",prop:"type"}}),e._v(" "),a("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark"}})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"行政区划编码",prop:"code"}},[a("el-input",{attrs:{placeholder:"请输入行政区划编码"},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"行政区划全称",prop:"fullname"}},[a("el-input",{attrs:{placeholder:"请输入行政区划全称"},model:{value:e.form.fullname,callback:function(t){e.$set(e.form,"fullname",t)},expression:"form.fullname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"行政区划名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入行政区划名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"上一级行政区划编码",prop:"pcode"}},[a("el-input",{attrs:{placeholder:"请输入上一级行政区划编码"},model:{value:e.form.pcode,callback:function(t){e.$set(e.form,"pcode",t)},expression:"form.pcode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"类型"}},[a("el-select",{attrs:{placeholder:"请选择类型"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[a("el-option",{attrs:{label:"请选择字典生成",value:""}})],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=a("b775");function o(e){return Object(n["a"])({url:"/sirui/region/list",method:"get",params:e})}function l(e){return Object(n["a"])({url:"/sirui/region/"+e,method:"get"})}function s(e){return Object(n["a"])({url:"/sirui/region",method:"post",data:e})}function c(e){return Object(n["a"])({url:"/sirui/region",method:"put",data:e})}function u(e){return Object(n["a"])({url:"/sirui/region/"+e,method:"delete"})}function d(e){return Object(n["a"])({url:"/sirui/region/export",method:"get",params:e})}var m={name:"Region",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,regionList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,code:void 0,fullname:void 0,name:void 0,pcode:void 0,type:void 0},form:{},rules:{}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,o(this.queryParams).then((function(t){e.regionList=t.rows,e.total=t.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,code:void 0,fullname:void 0,name:void 0,pcode:void 0,type:void 0,createBy:void 0,createTime:void 0,updateBy:void 0,updateTime:void 0,remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加行政区划(基础数据下载)"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;l(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改行政区划(基础数据下载)"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?c(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):s(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除行政区划(基础数据下载)编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有行政区划(基础数据下载)数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return d(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},p=m,f=a("2877"),v=Object(f["a"])(p,i,r,!1,null,null,null);t["default"]=v.exports},d67e:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"上报周期(日/月)",prop:"reportCycle"}},[a("el-select",{attrs:{placeholder:"请选择上报周期(日/月)",clearable:"",size:"small"},model:{value:e.queryParams.reportCycle,callback:function(t){e.$set(e.queryParams,"reportCycle",t)},expression:"queryParams.reportCycle"}},e._l(e.reportCycleOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"上报公司",prop:"companyId"}},[a("el-input",{attrs:{placeholder:"请输入上报公司",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.companyId,callback:function(t){e.$set(e.queryParams,"companyId",t)},expression:"queryParams.companyId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"上报时间",prop:"reportDate"}},[a("el-date-picker",{staticStyle:{width:"200px"},attrs:{clearable:"",size:"small",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择上报时间"},model:{value:e.queryParams.reportDate,callback:function(t){e.$set(e.queryParams,"reportDate",t)},expression:"queryParams.reportDate"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:report:add"],expression:"['sirui:report:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:report:edit"],expression:"['sirui:report:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:report:remove"],expression:"['sirui:report:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:report:export"],expression:"['sirui:report:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.reportList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"上报ID",align:"center",prop:"reportId"}}),e._v(" "),a("el-table-column",{attrs:{label:"上报周期(日/月)",align:"center",prop:"reportCycle",formatter:e.reportCycleFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"上报分类",align:"center",prop:"reportType"}}),e._v(" "),a("el-table-column",{attrs:{label:"上报公司",align:"center",prop:"companyId"}}),e._v(" "),a("el-table-column",{attrs:{label:"能源品种",align:"center",prop:"energyVarieties"}}),e._v(" "),a("el-table-column",{attrs:{label:"上报单位 ",align:"center",prop:"unit"}}),e._v(" "),a("el-table-column",{attrs:{label:"上报时间",align:"center",prop:"reportDate",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.reportDate,"{y}-{m}-{d}")))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:report:edit"],expression:"['sirui:report:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:report:remove"],expression:"['sirui:report:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"上报周期(日/月)"}},[a("el-select",{attrs:{placeholder:"请选择上报周期(日/月)"},model:{value:e.form.reportCycle,callback:function(t){e.$set(e.form,"reportCycle",t)},expression:"form.reportCycle"}},e._l(e.reportCycleOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"上报分类",prop:"reportType"}},[a("el-input",{attrs:{placeholder:"请输入上报分类"},model:{value:e.form.reportType,callback:function(t){e.$set(e.form,"reportType",t)},expression:"form.reportType"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"上报公司",prop:"companyId"}},[a("el-input",{attrs:{placeholder:"请输入上报公司"},model:{value:e.form.companyId,callback:function(t){e.$set(e.form,"companyId",t)},expression:"form.companyId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"能源品种",prop:"energyVarieties"}},[a("el-input",{attrs:{placeholder:"请输入能源品种"},model:{value:e.form.energyVarieties,callback:function(t){e.$set(e.form,"energyVarieties",t)},expression:"form.energyVarieties"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"上报单位 ",prop:"unit"}},[a("el-input",{attrs:{placeholder:"请输入上报单位 "},model:{value:e.form.unit,callback:function(t){e.$set(e.form,"unit",t)},expression:"form.unit"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"上报时间",prop:"reportDate"}},[a("el-date-picker",{staticStyle:{width:"200px"},attrs:{clearable:"",size:"small",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择上报时间"},model:{value:e.form.reportDate,callback:function(t){e.$set(e.form,"reportDate",t)},expression:"form.reportDate"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=a("0407"),o={name:"Report",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,reportList:[],title:"",open:!1,reportCycleOptions:[],queryParams:{pageNum:1,pageSize:10,reportCycle:void 0,companyId:void 0,reportDate:void 0},form:{},rules:{reportCycle:[{required:!0,message:"上报周期(日/月)不能为空",trigger:"blur"}],reportType:[{required:!0,message:"上报分类不能为空",trigger:"blur"}],companyId:[{required:!0,message:"上报公司不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sr_cycle_code").then((function(t){e.reportCycleOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,Object(n["listReport"])(this.queryParams).then((function(t){e.reportList=t.rows,e.total=t.total,e.loading=!1}))},reportCycleFormat:function(e,t){return this.selectDictLabel(this.reportCycleOptions,e.reportCycle)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={reportId:void 0,reportCycle:void 0,reportType:void 0,companyId:void 0,energyVarieties:void 0,unit:void 0,reportDate:void 0,createBy:void 0,createTime:void 0,updateBy:void 0,updateTime:void 0,remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.reportId})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加行业能源总量指标上传记录"},handleUpdate:function(e){var t=this;this.reset();var a=e.reportId||this.ids;Object(n["d"])(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改行业能源总量指标上传记录"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.reportId?Object(n["g"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):Object(n["a"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this,a=e.reportId||this.ids;this.$confirm('是否确认删除行业能源总量指标上传记录编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["b"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有行业能源总量指标上传记录数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["c"])(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},l=o,s=a("2877"),c=Object(s["a"])(l,i,r,!1,null,null,null);t["default"]=c.exports},d80b:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},r=[],n=a("313e"),o=a.n(n),l=a("8e41"),s=a("bc3a"),c=a.n(s);a("817d");var u=6e3,d={mixins:[l["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null,tuBiaoData4:""}},mounted:function(){},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},created:function(){var e=this;this.getTuBiao(c.a.get("/prod-api/xxrd/nyjkSeriesRhl",{params:{}}).then((function(t){e.tuBiaoData4=t.data.data.rhlSeries,e.$nextTick((function(){e.initChart()}))})).catch((function(e){console.log("获取数据失败")})))},methods:{initChart:function(){this.chart=o.a.init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{top:10,left:"2%",right:"2%",bottom:"3%",containLabel:!0},xAxis:{type:"time",splitLine:{show:!1}},yAxis:[{type:"value",axisTick:{show:!1}}],series:[{name:this.tuBiaoData4[0].seriesName,type:"bar",stack:"vistors",barWidth:"60%",data:this.tuBiaoData4[0].seriesDataEchart,animationDuration:u},{name:this.tuBiaoData4[1].seriesName,type:"bar",stack:"vistors",barWidth:"60%",data:this.tuBiaoData4[1].seriesDataEchart,animationDuration:u},{name:this.tuBiaoData4[2].seriesName,type:"bar",stack:"vistors",barWidth:"60%",data:this.tuBiaoData4[2].seriesDataEchart,animationDuration:u},{name:this.tuBiaoData4[3].seriesName,type:"bar",stack:"vistors",barWidth:"60%",data:this.tuBiaoData4[3].seriesDataEchart,animationDuration:u}]})}}},m=d,p=a("2877"),f=Object(p["a"])(m,i,r,!1,null,null,null);t["default"]=f.exports},d8af:function(e,t,a){"use strict";var i=a("85cd"),r=a.n(i);r.a},d98d:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},r=[],n=a("313e"),o=a.n(n),l=a("bab2");a("817d");var s={mixins:[l["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"350px"},autoResize:{type:Boolean,default:!0},chartData:{type:Object,required:!0}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(e){this.setOptionse(e)}}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=o.a.init(this.$el,"macarons"),this.setOptionse(this.chartData)},setOptionse:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.expectedData,a=e.datasss;this.chart.setOption({xAxis:{data:JSON.parse(a),boundaryGap:!1,axisTick:{show:!1}},grid:{left:10,right:10,bottom:20,top:30,containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross"},padding:[5,10]},yAxis:{name:"千瓦时",axisTick:{show:!1}},legend:{data:["电力产量"]},series:[{name:"电力产量",itemStyle:{normal:{color:"#FF005A",lineStyle:{color:"#FF005A",width:2}}},smooth:!0,type:"line",data:t,animationDuration:2800,animationEasing:"cubicInOut"}]})}}},c=s,u=a("2877"),d=Object(u["a"])(c,i,r,!1,null,null,null);t["default"]=d.exports},da67:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"工序编码",prop:"code"}},[a("el-input",{attrs:{placeholder:"请输入生产工序编码",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.code,callback:function(t){e.$set(e.queryParams,"code",t)},expression:"queryParams.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"工序名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入生产工序名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.name,callback:function(t){e.$set(e.queryParams,"name",t)},expression:"queryParams.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所属行业",prop:"industryCode"}},[a("el-input",{attrs:{placeholder:"请输入所属行业",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.industryCode,callback:function(t){e.$set(e.queryParams,"industryCode",t)},expression:"queryParams.industryCode"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}}),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.processList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{label:"生产工序编码",align:"center",prop:"code"}}),e._v(" "),a("el-table-column",{attrs:{label:"生产工序名称",align:"center",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:"所属行业",align:"center",prop:"industryCode"}})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"生产工序编码",prop:"code"}},[a("el-input",{attrs:{placeholder:"请输入生产工序编码"},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"生产工序名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入生产工序名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所属行业",prop:"industryCode"}},[a("el-input",{attrs:{placeholder:"请输入所属行业"},model:{value:e.form.industryCode,callback:function(t){e.$set(e.form,"industryCode",t)},expression:"form.industryCode"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=a("b775");function o(e){return Object(n["a"])({url:"/sirui/downProcess/list",method:"get",params:e})}function l(e){return Object(n["a"])({url:"/sirui/downProcess/"+e,method:"get"})}function s(e){return Object(n["a"])({url:"/sirui/downProcess",method:"post",data:e})}function c(e){return Object(n["a"])({url:"/sirui/downProcess",method:"put",data:e})}function u(e){return Object(n["a"])({url:"/sirui/downProcess/"+e,method:"delete"})}function d(e){return Object(n["a"])({url:"/sirui/downProcess/export",method:"get",params:e})}var m={name:"Process",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,processList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,code:void 0,name:void 0,industryCode:void 0},form:{},rules:{}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,o(this.queryParams).then((function(t){e.processList=t.rows,e.total=t.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,code:void 0,name:void 0,industryCode:void 0,createBy:void 0,createTime:void 0,updateBy:void 0,updateTime:void 0,remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加【请填写功能名称】"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;l(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改【请填写功能名称】"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?c(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):s(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除【请填写功能名称】编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有【请填写功能名称】数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return d(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},p=m,f=a("2877"),v=Object(f["a"])(p,i,r,!1,null,null,null);t["default"]=v.exports},dd7b:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login"},[a("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules}},[a("h3",{staticClass:"title"},[e._v("能耗监测系统")]),e._v(" "),a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"账号"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}},[a("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"user"},slot:"prefix"})],1)],1),e._v(" "),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}},[a("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"password"},slot:"prefix"})],1)],1),e._v(" "),a("el-checkbox",{staticStyle:{margin:"0px 0px 25px 0px"},model:{value:e.loginForm.rememberMe,callback:function(t){e.$set(e.loginForm,"rememberMe",t)},expression:"loginForm.rememberMe"}},[e._v("记住密码")]),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"}},[a("el-button",{staticStyle:{width:"100%"},attrs:{loading:e.loading,size:"medium",type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e.loading?a("span",[e._v("登 录 中...")]):a("span",[e._v("登 录")])])],1)],1),e._v(" "),e._m(0)],1)},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el-login-footer"},[a("span",[e._v("Copyright © 2020 宁ICP备19001039号-1")])])}],n=a("a78e"),o=a.n(n),l=a("720d"),s=a.n(l),c="MFwwDQYJKoZIhvcNAQEBBQADSwAwSAJBANL378k3RiZHWx5AfJqdH9xRNBmD9wGD\n2iRe41HdTNF8RUhNnHit5NpMNtGL0NPTSSpPjjI1kJfVorRvaQerUgkCAwEAAQ==",u="MIIBUwIBADANBgkqhkiG9w0BAQEFAASCAT0wggE5AgEAAkEA0vfvyTdGJkdbHkB8\nmp0f3FE0GYP3AYPaJF7jUd1M0XxFSE2ceK3k2kw20YvQ09NJKk+OMjWQl9WitG9p\nB6tSCQIDAQABAkA2SimBrWC2/wvauBuYqjCFwLvYiRYqZKThUS3MZlebXJiLB+Ue\n/gUifAAKIg1avttUZsHBHrop4qfJCwAI0+YRAiEA+W3NK/RaXtnRqmoUUkb59zsZ\nUBLpvZgQPfj1MhyHDz0CIQDYhsAhPJ3mgS64NbUZmGWuuNKp5coY2GIj/zYDMJp6\nvQIgUueLFXv/eZ1ekgz2Oi67MNCk5jeTF2BurZqNLR3MSmUCIFT3Q6uHMtsB9Eha\n4u7hS31tj1UWE+D+ADzp59MGnoftAiBeHT7gDMuqeJHPL4b+kC+gzV4FGTfhR9q3\ntTbklZkD2A==";function d(e){var t=new s.a;return t.setPublicKey(c),t.encrypt(e)}function m(e){var t=new s.a;return t.setPrivateKey(u),t.decrypt(e)}var p={name:"Login",data:function(){return{codeUrl:"",cookiePassword:"",loginForm:{username:"",password:"",rememberMe:!1,code:"",uuid:""},loginRules:{username:[{required:!0,trigger:"blur",message:"用户名不能为空"}],password:[{required:!0,trigger:"blur",message:"密码不能为空"}],code:[{required:!0,trigger:"change",message:"验证码不能为空"}]},loading:!1,redirect:void 0}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},created:function(){this.getCookie()},methods:{getCookie:function(){var e=o.a.get("username"),t=o.a.get("password"),a=o.a.get("rememberMe");this.loginForm={username:void 0===e?this.loginForm.username:e,password:void 0===t?this.loginForm.password:m(t),rememberMe:void 0!==a&&Boolean(a)}},handleLogin:function(){var e=this;this.$refs.loginForm.validate((function(t){t&&(e.loading=!0,e.loginForm.rememberMe?(o.a.set("username",e.loginForm.username,{expires:30}),o.a.set("password",d(e.loginForm.password),{expires:30}),o.a.set("rememberMe",e.loginForm.rememberMe,{expires:30})):(o.a.remove("username"),o.a.remove("password"),o.a.remove("rememberMe")),e.$store.dispatch("Login",e.loginForm).then((function(){e.$router.push({path:e.redirect||"/"})})).catch((function(){e.loading=!1})))}))}}},f=p,v=(a("eecc"),a("2877")),h=Object(v["a"])(f,i,r,!1,null,null,null);t["default"]=h.exports},ddfd:function(e,t,a){"use strict";var i=a("628a"),r=a.n(i);r.a},de0a:function(e){e.exports=["platform-eleme","eleme","delete-solid","delete","s-tools","setting","user-solid","user","phone","phone-outline","more","more-outline","star-on","star-off","s-goods","goods","warning","warning-outline","question","info","remove","circle-plus","success","error","zoom-in","zoom-out","remove-outline","circle-plus-outline","circle-check","circle-close","s-help","help","minus","plus","check","close","picture","picture-outline","picture-outline-round","upload","upload2","download","camera-solid","camera","video-camera-solid","video-camera","message-solid","bell","s-cooperation","s-order","s-platform","s-fold","s-unfold","s-operation","s-promotion","s-home","s-release","s-ticket","s-management","s-open","s-shop","s-marketing","s-flag","s-comment","s-finance","s-claim","s-custom","s-opportunity","s-data","s-check","s-grid","menu","share","d-caret","caret-left","caret-right","caret-bottom","caret-top","bottom-left","bottom-right","back","right","bottom","top","top-left","top-right","arrow-left","arrow-right","arrow-down","arrow-up","d-arrow-left","d-arrow-right","video-pause","video-play","refresh","refresh-right","refresh-left","finished","sort","sort-up","sort-down","rank","loading","view","c-scale-to-original","date","edit","edit-outline","folder","folder-opened","folder-add","folder-remove","folder-delete","folder-checked","tickets","document-remove","document-delete","document-copy","document-checked","document","document-add","printer","paperclip","takeaway-box","search","monitor","attract","mobile","scissors","umbrella","headset","brush","mouse","coordinate","magic-stick","reading","data-line","data-board","pie-chart","data-analysis","collection-tag","film","suitcase","suitcase-1","receiving","collection","files","notebook-1","notebook-2","toilet-paper","office-building","school","table-lamp","house","no-smoking","smoking","shopping-cart-full","shopping-cart-1","shopping-cart-2","shopping-bag-1","shopping-bag-2","sold-out","sell","present","box","bank-card","money","coin","wallet","discount","price-tag","news","guide","male","female","thumb","cpu","link","connection","open","turn-off","set-up","chat-round","chat-line-round","chat-square","chat-dot-round","chat-dot-square","chat-line-square","message","postcard","position","turn-off-microphone","microphone","close-notification","bangzhu","time","odometer","crop","aim","switch-button","full-screen","copy-document","mic","stopwatch","medal-1","medal","trophy","trophy-1","first-aid-kit","discover","place","location","location-outline","location-information","add-location","delete-location","map-location","alarm-clock","timer","watch-1","watch","lock","unlock","key","service","mobile-phone","bicycle","truck","ship","basketball","football","soccer","baseball","wind-power","light-rain","lightning","heavy-rain","sunrise","sunrise-1","sunset","sunny","cloudy","partly-cloudy","cloudy-and-sunny","moon","moon-night","dish","dish-1","food","chicken","fork-spoon","knife-fork","burger","tableware","sugar","dessert","ice-cream","hot-water","water-cup","coffee-cup","cold-drink","goblet","goblet-full","goblet-square","goblet-square-full","refrigerator","grape","watermelon","cherry","apple","pear","orange","coffee","ice-tea","ice-drink","milk-tea","potato-strips","lollipop","ice-cream-square","ice-cream-round"]},e0c3:function(e,t,a){"use strict";var i=a("116c"),r=a.n(i);r.a},e35f:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"能耗编码",prop:"code"}},[a("el-input",{attrs:{placeholder:"请输入能耗编码",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.code,callback:function(t){e.$set(e.queryParams,"code",t)},expression:"queryParams.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.name,callback:function(t){e.$set(e.queryParams,"name",t)},expression:"queryParams.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"大类编码",prop:"classcode"}},[a("el-input",{attrs:{placeholder:"请输入大类编码",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.classcode,callback:function(t){e.$set(e.queryParams,"classcode",t)},expression:"queryParams.classcode"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}}),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.typeList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{label:"能耗编码",align:"center",prop:"code"}}),e._v(" "),a("el-table-column",{attrs:{label:"父编码",align:"center",prop:"pcode"}}),e._v(" "),a("el-table-column",{attrs:{label:"名称",align:"center",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:"单位",align:"center",prop:"unit"}}),e._v(" "),a("el-table-column",{attrs:{label:"大类编码",align:"center",prop:"classcode"}}),e._v(" "),a("el-table-column",{attrs:{label:"能耗折标单位",align:"center",prop:"nhzbdw"}}),e._v(" "),a("el-table-column",{attrs:{label:"折标量参考值",align:"center",prop:"zbckz"}}),e._v(" "),a("el-table-column",{attrs:{label:"折标量参考值",align:"center",prop:"dwzbxs"}}),e._v(" "),a("el-table-column",{attrs:{label:"类型",align:"center",prop:"type",formatter:e.typeFormat}})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"能耗编码",prop:"code"}},[a("el-input",{attrs:{placeholder:"请输入能耗编码"},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"父编码",prop:"pcode"}},[a("el-input",{attrs:{placeholder:"请输入父编码"},model:{value:e.form.pcode,callback:function(t){e.$set(e.form,"pcode",t)},expression:"form.pcode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"单位",prop:"unit"}},[a("el-input",{attrs:{placeholder:"请输入单位"},model:{value:e.form.unit,callback:function(t){e.$set(e.form,"unit",t)},expression:"form.unit"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"大类编码",prop:"classcode"}},[a("el-input",{attrs:{placeholder:"请输入大类编码"},model:{value:e.form.classcode,callback:function(t){e.$set(e.form,"classcode",t)},expression:"form.classcode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"能耗折标单位",prop:"nhzbdw"}},[a("el-input",{attrs:{placeholder:"请输入能耗折标单位"},model:{value:e.form.nhzbdw,callback:function(t){e.$set(e.form,"nhzbdw",t)},expression:"form.nhzbdw"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"折标量参考值",prop:"zbckz"}},[a("el-input",{attrs:{placeholder:"请输入折标量参考值"},model:{value:e.form.zbckz,callback:function(t){e.$set(e.form,"zbckz",t)},expression:"form.zbckz"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"折标量参考值",prop:"dwzbxs"}},[a("el-input",{attrs:{placeholder:"请输入折标量参考值"},model:{value:e.form.dwzbxs,callback:function(t){e.$set(e.form,"dwzbxs",t)},expression:"form.dwzbxs"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"type=1 是分类；type=2 是分类+分项"}},[a("el-select",{attrs:{placeholder:"请选择type=1 是分类；type=2 是分类+分项"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[a("el-option",{attrs:{label:"请选择字典生成",value:""}})],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=a("b775");function o(e){return Object(n["a"])({url:"/sirui/downEnergyType/list",method:"get",params:e})}function l(e){return Object(n["a"])({url:"/sirui/downEnergyType/"+e,method:"get"})}function s(e){return Object(n["a"])({url:"/sirui/downEnergyType",method:"post",data:e})}function c(e){return Object(n["a"])({url:"/sirui/downEnergyType",method:"put",data:e})}function u(e){return Object(n["a"])({url:"/sirui/downEnergyType/"+e,method:"delete"})}function d(e){return Object(n["a"])({url:"/sirui/downEnergyType/export",method:"get",params:e})}var m={name:"Type",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,typeList:[],typeOptions:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,code:void 0,pcode:void 0,name:void 0,unit:void 0,classcode:void 0,nhzbdw:void 0,zbckz:void 0,dwzbxs:void 0,type:void 0},form:{},rules:{}}},created:function(){var e=this;this.getList(),this.getDicts("sr_sjsc_collectItem").then((function(t){e.typeOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,o(this.queryParams).then((function(t){e.typeList=t.rows,e.total=t.total,e.loading=!1}))},typeFormat:function(e,t){return this.selectDictLabel(this.typeOptions,e.type)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,code:void 0,pcode:void 0,name:void 0,unit:void 0,classcode:void 0,nhzbdw:void 0,zbckz:void 0,dwzbxs:void 0,type:void 0,createBy:void 0,createTime:void 0,updateBy:void 0,updateTime:void 0,remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加能源类型，提供各类能源的计量单位和折标系数。同时提供非能源产品、经营指标的的计量单位"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;l(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改能源类型，提供各类能源的计量单位和折标系数。同时提供非能源产品、经营指标的的计量单位"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?c(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):s(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除能源类型，提供各类能源的计量单位和折标系数。同时提供非能源产品、经营指标的的计量单位编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有能源类型，提供各类能源的计量单位和折标系数。同时提供非能源产品、经营指标的的计量单位数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return d(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},p=m,f=a("2877"),v=Object(f["a"])(p,i,r,!1,null,null,null);t["default"]=v.exports},e613:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"数据分类",prop:"dataType"}},[a("el-select",{attrs:{placeholder:"请选择数据分类",clearable:"",size:"small"},model:{value:e.queryParams.dataType,callback:function(t){e.$set(e.queryParams,"dataType",t)},expression:"queryParams.dataType"}},e._l(e.dataTypeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"能源品种",prop:"energy"}},[a("el-select",{attrs:{placeholder:"请选择能源品种",clearable:"",size:"small"},model:{value:e.queryParams.energy,callback:function(t){e.$set(e.queryParams,"energy",t)},expression:"queryParams.energy"}},e._l(e.energyOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:writeCompanyData2:add"],expression:"['sirui:writeCompanyData2:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:writeCompanyData2:edit"],expression:"['sirui:writeCompanyData2:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:writeCompanyData2:remove"],expression:"['sirui:writeCompanyData2:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:writeCompanyData2:export"],expression:"['sirui:writeCompanyData2:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.writeCompanyData2List},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"能源品种",align:"center",prop:"id"}}),e._v(" "),a("el-table-column",{attrs:{label:"数据分类",align:"center",prop:"dataType",formatter:e.dataTypeFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"能源品种",align:"center",prop:"energy",formatter:e.energyFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"表数据",align:"center",prop:"number"}}),e._v(" "),a("el-table-column",{attrs:{label:"计算数据",align:"center",prop:"startValue"}}),e._v(" "),a("el-table-column",{attrs:{label:"单位",align:"center",prop:"unit"}}),e._v(" "),a("el-table-column",{attrs:{label:"折标系数",align:"center",prop:"coefficient"}}),e._v(" "),a("el-table-column",{attrs:{label:"折标量",align:"center",prop:"endValue"}}),e._v(" "),a("el-table-column",{attrs:{label:"折标系数单位",align:"center",prop:"coefficientUnit"}}),e._v(" "),a("el-table-column",{attrs:{label:"能源用途",align:"center",prop:"usee",formatter:e.useeFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"数据采集类型：1 管理信息系统；2 生产监控管理系统；3 分布式控制系统；4 现场仪表；5 手工填报",align:"center",prop:"inputType",formatter:e.inputTypeFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"数据采集频率 0 实时、1 日、2 月、3 年",align:"center",prop:"statType",formatter:e.statTypeFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"数据范围：1 全厂；2 生产工序；3 生产工序单元；4 重点耗能设备",align:"center",prop:"scope",formatter:e.scopeFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"统计时间",align:"center",prop:"statDate",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.statDate,"{y}-{m}-{d}")))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"数据有效性",align:"center",prop:"valid",formatter:e.validFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:writeCompanyData2:edit"],expression:"['sirui:writeCompanyData2:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:writeCompanyData2:remove"],expression:"['sirui:writeCompanyData2:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"数据分类"}},[a("el-select",{attrs:{placeholder:"请选择数据分类"},model:{value:e.form.dataType,callback:function(t){e.$set(e.form,"dataType",t)},expression:"form.dataType"}},e._l(e.dataTypeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"能源品种"}},[a("el-select",{attrs:{placeholder:"请选择能源品种"},model:{value:e.form.energy,callback:function(t){e.$set(e.form,"energy",t)},expression:"form.energy"}},e._l(e.energyOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"表数据",prop:"number"}},[a("el-input",{attrs:{placeholder:"请输入表数据"},model:{value:e.form.number,callback:function(t){e.$set(e.form,"number",t)},expression:"form.number"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"计算数据",prop:"startValue"}},[a("el-input",{attrs:{placeholder:"请输入计算数据"},model:{value:e.form.startValue,callback:function(t){e.$set(e.form,"startValue",t)},expression:"form.startValue"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"单位",prop:"unit"}},[a("el-input",{attrs:{placeholder:"请输入单位"},model:{value:e.form.unit,callback:function(t){e.$set(e.form,"unit",t)},expression:"form.unit"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"折标系数",prop:"coefficient"}},[a("el-input",{attrs:{placeholder:"请输入折标系数"},model:{value:e.form.coefficient,callback:function(t){e.$set(e.form,"coefficient",t)},expression:"form.coefficient"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"折标量",prop:"endValue"}},[a("el-input",{attrs:{placeholder:"请输入折标量"},model:{value:e.form.endValue,callback:function(t){e.$set(e.form,"endValue",t)},expression:"form.endValue"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"折标系数单位",prop:"coefficientUnit"}},[a("el-input",{attrs:{placeholder:"请输入折标系数单位"},model:{value:e.form.coefficientUnit,callback:function(t){e.$set(e.form,"coefficientUnit",t)},expression:"form.coefficientUnit"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"能源用途"}},[a("el-select",{attrs:{placeholder:"请选择能源用途"},model:{value:e.form.usee,callback:function(t){e.$set(e.form,"usee",t)},expression:"form.usee"}},e._l(e.useeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"数据采集类型：1 管理信息系统；2 生产监控管理系统；3 分布式控制系统；4 现场仪表；5 手工填报"}},[a("el-select",{attrs:{placeholder:"请选择数据采集类型：1 管理信息系统；2 生产监控管理系统；3 分布式控制系统；4 现场仪表；5 手工填报"},model:{value:e.form.inputType,callback:function(t){e.$set(e.form,"inputType",t)},expression:"form.inputType"}},e._l(e.inputTypeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"数据采集频率 0 实时、1 日、2 月、3 年"}},[a("el-select",{attrs:{placeholder:"请选择数据采集频率 0 实时、1 日、2 月、3 年"},model:{value:e.form.statType,callback:function(t){e.$set(e.form,"statType",t)},expression:"form.statType"}},e._l(e.statTypeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"数据范围：1 全厂；2 生产工序；3 生产工序单元；4 重点耗能设备",prop:"scope"}},[a("el-input",{attrs:{placeholder:"请输入数据范围：1 全厂；2 生产工序；3 生产工序单元；4 重点耗能设备"},model:{value:e.form.scope,callback:function(t){e.$set(e.form,"scope",t)},expression:"form.scope"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"统计时间",prop:"statDate"}},[a("el-date-picker",{staticStyle:{width:"200px"},attrs:{clearable:"",size:"small",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择统计时间"},model:{value:e.form.statDate,callback:function(t){e.$set(e.form,"statDate",t)},expression:"form.statDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"数据有效性"}},[a("el-select",{attrs:{placeholder:"请选择数据有效性"},model:{value:e.form.valid,callback:function(t){e.$set(e.form,"valid",t)},expression:"form.valid"}},e._l(e.validOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"工序",prop:"craft"}},[a("el-input",{attrs:{placeholder:"请输入工序"},model:{value:e.form.craft,callback:function(t){e.$set(e.form,"craft",t)},expression:"form.craft"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"工序单元",prop:"craftUnit"}},[a("el-input",{attrs:{placeholder:"请输入工序单元"},model:{value:e.form.craftUnit,callback:function(t){e.$set(e.form,"craftUnit",t)},expression:"form.craftUnit"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"耗能设备",prop:"device"}},[a("el-input",{attrs:{placeholder:"请输入耗能设备"},model:{value:e.form.device,callback:function(t){e.$set(e.form,"device",t)},expression:"form.device"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否上传   Y:是  N：否",prop:"isOk"}},[a("el-input",{attrs:{placeholder:"请输入是否上传   Y:是  N：否"},model:{value:e.form.isOk,callback:function(t){e.$set(e.form,"isOk",t)},expression:"form.isOk"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否上传   Y:是  N：否",prop:"isUp"}},[a("el-input",{attrs:{placeholder:"请输入是否上传   Y:是  N：否"},model:{value:e.form.isUp,callback:function(t){e.$set(e.form,"isUp",t)},expression:"form.isUp"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=a("b775");function o(e){return Object(n["a"])({url:"/sirui/writeCompanyData2/list",method:"get",params:e})}function l(e){return Object(n["a"])({url:"/sirui/writeCompanyData2/"+e,method:"get"})}function s(e){return Object(n["a"])({url:"/sirui/writeCompanyData2",method:"post",data:e})}function c(e){return Object(n["a"])({url:"/sirui/writeCompanyData2",method:"put",data:e})}function u(e){return Object(n["a"])({url:"/sirui/writeCompanyData2/"+e,method:"delete"})}function d(e){return Object(n["a"])({url:"/sirui/writeCompanyData2/export",method:"get",params:e})}var m={name:"WriteCompanyData2",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,writeCompanyData2List:[],title:"",open:!1,dataTypeOptions:[],energyOptions:[],useeOptions:[],inputTypeOptions:[],statTypeOptions:[],scopeOptions:[],validOptions:[],queryParams:{pageNum:1,pageSize:10,dataType:void 0,energy:void 0},form:{},rules:{}}},created:function(){var e=this;this.getList(),this.getDicts("sirui_data_type").then((function(t){e.dataTypeOptions=t.data})),this.getDicts("sirui_energy_variety").then((function(t){e.energyOptions=t.data})),this.getDicts("sirui_nyytbm").then((function(t){e.useeOptions=t.data})),this.getDicts("sr_sjsc_inputType").then((function(t){e.inputTypeOptions=t.data})),this.getDicts("sr_sjsc_statType").then((function(t){e.statTypeOptions=t.data})),this.getDicts("sr_sjsc_scope").then((function(t){e.scopeOptions=t.data})),this.getDicts("sys_yes_no").then((function(t){e.validOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,o(this.queryParams).then((function(t){e.writeCompanyData2List=t.rows,e.total=t.total,e.loading=!1}))},dataTypeFormat:function(e,t){return this.selectDictLabel(this.dataTypeOptions,e.dataType)},energyFormat:function(e,t){return this.selectDictLabel(this.energyOptions,e.energy)},useeFormat:function(e,t){return this.selectDictLabel(this.useeOptions,e.usee)},inputTypeFormat:function(e,t){return this.selectDictLabel(this.inputTypeOptions,e.inputType)},statTypeFormat:function(e,t){return this.selectDictLabel(this.statTypeOptions,e.statType)},scopeFormat:function(e,t){return this.selectDictLabel(this.scopeOptions,e.scope)},validFormat:function(e,t){return this.selectDictLabel(this.validOptions,e.valid)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,dataType:void 0,energy:void 0,number:void 0,startValue:void 0,unit:void 0,coefficient:void 0,endValue:void 0,coefficientUnit:void 0,usee:void 0,inputType:void 0,statType:void 0,scope:void 0,statDate:void 0,valid:void 0,craft:void 0,craftUnit:void 0,device:void 0,isOk:void 0,isUp:void 0,createTime:void 0,updateTime:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加企业能源总量指标(原始记录)"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;l(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改企业能源总量指标(原始记录)"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?c(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):s(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除企业能源总量指标(原始记录)编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有企业能源总量指标(原始记录)数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return d(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},p=m,f=a("2877"),v=Object(f["a"])(p,i,r,!1,null,null,null);t["default"]=v.exports},e69b:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"任务名称",prop:"jobName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入任务名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.jobName,callback:function(t){e.$set(e.queryParams,"jobName",t)},expression:"queryParams.jobName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"任务组名",prop:"jobGroup"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"请任务组名",clearable:"",size:"small"},model:{value:e.queryParams.jobGroup,callback:function(t){e.$set(e.queryParams,"jobGroup",t)},expression:"queryParams.jobGroup"}},e._l(e.jobGroupOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"执行状态",prop:"status"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"请选择执行状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"执行时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:remove"],expression:"['monitor:job:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:remove"],expression:"['monitor:job:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:e.handleClean}},[e._v("清空")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:jobLog:export"],expression:"['monitor:jobLog:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.jobLogList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"日志编号",width:"80",align:"center",prop:"jobLogId"}}),e._v(" "),a("el-table-column",{attrs:{label:"任务名称",align:"center",prop:"jobName","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"任务组名",align:"center",prop:"jobGroup",formatter:e.jobGroupFormat,"show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"调用目标字符串",align:"center",prop:"invokeTarget","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"日志信息",align:"center",prop:"jobMessage","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"执行状态",align:"center",prop:"status",formatter:e.statusFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"执行时间",align:"center",prop:"createTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:query"],expression:"['monitor:job:query']"}],attrs:{size:"mini",type:"text",icon:"el-icon-view"},on:{click:function(a){return e.handleView(t.row)}}},[e._v("详细")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:"调度日志详细",visible:e.open,width:"700px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px",size:"mini"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"日志序号："}},[e._v(e._s(e.form.jobLogId))]),e._v(" "),a("el-form-item",{attrs:{label:"任务名称："}},[e._v(e._s(e.form.jobName))])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"任务分组："}},[e._v(e._s(e.form.jobGroup))]),e._v(" "),a("el-form-item",{attrs:{label:"执行时间："}},[e._v(e._s(e.form.createTime))])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"调用方法："}},[e._v(e._s(e.form.invokeTarget))])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"日志信息："}},[e._v(e._s(e.form.jobMessage))])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"执行状态："}},[0==e.form.status?a("div",[e._v("正常")]):1==e.form.status?a("div",[e._v("失败")]):e._e()])],1),e._v(" "),a("el-col",{attrs:{span:24}},[1==e.form.status?a("el-form-item",{attrs:{label:"异常信息："}},[e._v(e._s(e.form.exceptionInfo))]):e._e()],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.open=!1}}},[e._v("关 闭")])],1)],1)],1)},r=[],n=a("ade3"),o=a("65f2"),l={name:"JobLog",data:function(){return Object(n["a"])({loading:!0,ids:[],multiple:!0,total:0,jobLogList:[],open:!1,dateRange:[],form:{},statusOptions:[],jobGroupOptions:[],queryParams:{pageNum:1,pageSize:10,jobName:void 0,jobGroup:void 0,status:void 0}},"form",{})},created:function(){var e=this;this.getList(),this.getDicts("sys_job_status").then((function(t){e.statusOptions=t.data})),this.getDicts("sys_job_group").then((function(t){e.jobGroupOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,Object(o["d"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.jobLogList=t.rows,e.total=t.total,e.loading=!1}))},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},jobGroupFormat:function(e,t){return this.selectDictLabel(this.jobGroupOptions,e.jobGroup)},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.jobLogId})),this.multiple=!e.length},handleView:function(e){this.open=!0,this.form=e},handleDelete:function(e){var t=this,a=this.ids;this.$confirm('是否确认删除调度日志编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["b"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleClean:function(){var e=this;this.$confirm("是否确认清空所有调度日志数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["a"])()})).then((function(){e.getList(),e.msgSuccess("清空成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有调度日志数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["c"])(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},s=l,c=a("2877"),u=Object(c["a"])(s,i,r,!1,null,null,null);t["default"]=u.exports},e7e8:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:machineSet:add"],expression:"['sirui:machineSet:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:machineSet:edit"],expression:"['sirui:machineSet:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:machineSet:remove"],expression:"['sirui:machineSet:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:machineSet:export"],expression:"['sirui:machineSet:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.machineSetList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"ID",align:"center",prop:"setId"}}),e._v(" "),a("el-table-column",{attrs:{label:"铭牌容量(MW)",align:"center",prop:"setCapacity"}}),e._v(" "),a("el-table-column",{attrs:{label:"投产日期",align:"center",prop:"applyDate"}}),e._v(" "),a("el-table-column",{attrs:{label:"机组类型",align:"center",prop:"setType"}}),e._v(" "),a("el-table-column",{attrs:{label:"锅炉型式",align:"center",prop:"boilerType"}}),e._v(" "),a("el-table-column",{attrs:{label:"点火方式 ",align:"center",prop:"ignitionMode"}}),e._v(" "),a("el-table-column",{attrs:{label:"冷却方式",align:"center",prop:"waterRecursiveType"}}),e._v(" "),a("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:machineSet:edit"],expression:"['sirui:machineSet:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:machineSet:remove"],expression:"['sirui:machineSet:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"容量(MW)",prop:"setCapacity"}},[a("el-input",{attrs:{placeholder:"请输入铭牌容量(MW)"},model:{value:e.form.setCapacity,callback:function(t){e.$set(e.form,"setCapacity",t)},expression:"form.setCapacity"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"投产日期",prop:"applyDate"}},[a("el-input",{attrs:{placeholder:"请输入投产日期"},model:{value:e.form.applyDate,callback:function(t){e.$set(e.form,"applyDate",t)},expression:"form.applyDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"机组类型"}},[a("el-input",{attrs:{placeholder:"请输入机组类型"},model:{value:e.form.setType,callback:function(t){e.$set(e.form,"setType",t)},expression:"form.setType"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"锅炉型式"}},[a("el-input",{attrs:{placeholder:"请输入锅炉型式"},model:{value:e.form.boilerType,callback:function(t){e.$set(e.form,"boilerType",t)},expression:"form.boilerType"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"点火方式 ",prop:"ignitionMode"}},[a("el-input",{attrs:{placeholder:"请输入点火方式 "},model:{value:e.form.ignitionMode,callback:function(t){e.$set(e.form,"ignitionMode",t)},expression:"form.ignitionMode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"冷却方式"}},[a("el-input",{attrs:{placeholder:"请输入冷却方式"},model:{value:e.form.waterRecursiveType,callback:function(t){e.$set(e.form,"waterRecursiveType",t)},expression:"form.waterRecursiveType"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=a("b775");function o(e){return Object(n["a"])({url:"/sirui/machineSet/list",method:"get",params:e})}function l(e){return Object(n["a"])({url:"/sirui/machineSet/"+e,method:"get"})}function s(e){return Object(n["a"])({url:"/sirui/machineSet",method:"post",data:e})}function c(e){return Object(n["a"])({url:"/sirui/machineSet",method:"put",data:e})}function u(e){return Object(n["a"])({url:"/sirui/machineSet/"+e,method:"delete"})}function d(e){return Object(n["a"])({url:"/sirui/machineSet/export",method:"get",params:e})}var m={name:"MachineSet",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,machineSetList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,applyDate:void 0,setType:void 0,boilerType:void 0,ignitionMode:void 0,waterRecursiveType:void 0},form:{},rules:{applyDate:[{required:!0,message:"投产日期不能为空",trigger:"blur"}],setType:[{required:!0,message:"机组类型不能为空",trigger:"blur"}],boilerType:[{required:!0,message:"锅炉型式不能为空",trigger:"blur"}]}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,o(this.queryParams).then((function(t){e.machineSetList=t.rows,e.total=t.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={setId:void 0,setCapacity:void 0,applyDate:void 0,setType:void 0,boilerType:void 0,ignitionMode:void 0,waterRecursiveType:void 0,createBy:void 0,createTime:void 0,updateBy:void 0,updateTime:void 0,remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.setId})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加机组台账"},handleUpdate:function(e){var t=this;this.reset();var a=e.setId||this.ids;l(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改机组台账"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.setId?c(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):s(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this,a=e.setId||this.ids;this.$confirm('是否确认删除机组台账编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有机组台账数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return d(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},p=m,f=a("2877"),v=Object(f["a"])(p,i,r,!1,null,null,null);t["default"]=v.exports},ea64:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"panel-group",attrs:{gutter:40}},[a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(t){return e.handleSetLineChartData("newVisitis")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-people"},[a("svg-icon",{attrs:{"icon-class":"peoples","class-name":"card-panel-icon"}})],1),e._v(" "),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v("\n          访客\n        ")]),e._v(" "),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":102400,duration:2600}})],1)])]),e._v(" "),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(t){return e.handleSetLineChartData("messages")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-message"},[a("svg-icon",{attrs:{"icon-class":"message","class-name":"card-panel-icon"}})],1),e._v(" "),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v("\n          消息\n        ")]),e._v(" "),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":81212,duration:3e3}})],1)])]),e._v(" "),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(t){return e.handleSetLineChartData("purchases")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-money"},[a("svg-icon",{attrs:{"icon-class":"money","class-name":"card-panel-icon"}})],1),e._v(" "),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v("\n          金额\n        ")]),e._v(" "),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":9280,duration:3200}})],1)])]),e._v(" "),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(t){return e.handleSetLineChartData("shoppings")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-shopping"},[a("svg-icon",{attrs:{"icon-class":"shopping","class-name":"card-panel-icon"}})],1),e._v(" "),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v("\n          订单\n        ")]),e._v(" "),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":13600,duration:3600}})],1)])])],1)},r=[],n=a("ec1b"),o=a.n(n),l={components:{CountTo:o.a},methods:{handleSetLineChartData:function(e){this.$emit("handleSetLineChartData",e)}}},s=l,c=(a("04c8"),a("2877")),u=Object(c["a"])(s,i,r,!1,null,"5eb36e98",null);t["default"]=u.exports},eab4:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},r=[],n=a("313e"),o=a.n(n),l=a("feb2");a("817d");var s={mixins:[l["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"350px"},autoResize:{type:Boolean,default:!0},chartData:{type:String,required:!0}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(e){this.setOptions(e)}}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=o.a.init(this.$el,"macarons"),this.setOptions(this.chartData)},setOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.cydlSeries;this.chart.setOption({xAxis:{type:"time",splitLine:{show:!1}},grid:{left:10,right:10,bottom:20,top:30,containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross"},padding:[5,10]},yAxis:{axisTick:{show:!1}},legend:{data:[t[0].seriesName,t[1].seriesName,t[2].seriesName,t[3].seriesName]},series:[{name:t[0].seriesName,itemStyle:{normal:{color:"#FF005A",lineStyle:{color:"#FF005A",width:2}}},smooth:!0,type:"line",data:t[0].seriesDataEchart,animationDuration:2800,animationEasing:"cubicInOut"},{name:t[1].seriesName,smooth:!0,type:"line",itemStyle:{normal:{color:"#3888fa",lineStyle:{color:"#3888fa",width:2},areaStyle:{color:"#f3f8ff"}}},data:t[1].seriesDataEchart,animationDuration:2800,animationEasing:"quadraticOut"},{name:t[2].seriesName,smooth:!0,type:"line",itemStyle:{normal:{color:"#dd960f",lineStyle:{color:"#dd960f",width:2},areaStyle:{color:"#f3f8ff"}}},data:t[2].seriesDataEchart,animationDuration:2800,animationEasing:"quadraticOut"},{name:t[3].seriesName,smooth:!0,type:"line",itemStyle:{normal:{color:"#8b0037",lineStyle:{color:"#8b0037",width:2},areaStyle:{color:"#f3f8ff"}}},data:t[3].seriesDataEchart,animationDuration:2800,animationEasing:"quadraticOut"}]})}}},c=s,u=a("2877"),d=Object(u["a"])(c,i,r,!1,null,null,null);t["default"]=d.exports},ebc3:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"设备编码",prop:"code"}},[a("el-input",{attrs:{placeholder:"请输入设备编码",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.code,callback:function(t){e.$set(e.queryParams,"code",t)},expression:"queryParams.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"设备名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入设备名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.name,callback:function(t){e.$set(e.queryParams,"name",t)},expression:"queryParams.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"生产工序",prop:"processCode"}},[a("el-select",{attrs:{placeholder:"请选择生产工序",clearable:"",filterable:""},model:{value:e.queryParams.processCode,callback:function(t){e.$set(e.queryParams,"processCode",t)},expression:"queryParams.processCode"}},e._l(e.processList,(function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:device:add"],expression:"['sirui:device:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:device:edit"],expression:"['sirui:device:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:device:remove"],expression:"['sirui:device:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:device:export"],expression:"['sirui:device:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.deviceList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"设备编码",align:"center",prop:"code"}}),e._v(" "),a("el-table-column",{attrs:{label:"设备名称",align:"center",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:"生产工序编码",align:"center",prop:"processCode"}}),e._v(" "),a("el-table-column",{attrs:{label:"工序单元编码",align:"center",prop:"processUnitCode"}}),e._v(" "),a("el-table-column",{attrs:{label:"设备等级 ",align:"center",prop:"grade",formatter:e.gradeFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:device:edit"],expression:"['sirui:device:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sirui:device:remove"],expression:"['sirui:device:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"设备编码",prop:"code"}},[a("el-input",{attrs:{placeholder:"请输入设备编码"},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"耗能设备",prop:"name"}},[a("el-select",{attrs:{placeholder:"请选择耗能设备",clearable:"",filterable:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}},e._l(e.irtuDeviceList,(function(e){return a("el-option",{key:e.idesc,attrs:{label:e.idesc,value:e.idesc}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"生产工序",prop:"processCode"}},[a("el-select",{attrs:{placeholder:"请选择生产工序",clearable:"",filterable:""},model:{value:e.form.processCode,callback:function(t){e.$set(e.form,"processCode",t)},expression:"form.processCode"}},e._l(e.processList,(function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"工序单元",prop:"processUnitCode"}},[a("el-select",{attrs:{placeholder:"请选择生产工序单元",clearable:"",filterable:""},model:{value:e.form.processUnitCode,callback:function(t){e.$set(e.form,"processUnitCode",t)},expression:"form.processUnitCode"}},e._l(e.processUnitList,(function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"设备等级",prop:"grade"}},[a("el-select",{attrs:{placeholder:"请选择设备等级",clearable:"",filterable:""},model:{value:e.form.grade,callback:function(t){e.$set(e.form,"grade",t)},expression:"form.grade"}},e._l(e.gradeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"能源品种 ",prop:"energyId"}},[a("el-select",{attrs:{placeholder:"请选择能源用途",clearable:"",filterable:""},model:{value:e.form.energyId,callback:function(t){e.$set(e.form,"energyId",t)},expression:"form.energyId"}},e._l(e.energyList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"能源用途",prop:"energyUse"}},[a("el-select",{attrs:{placeholder:"请选择能源用途",clearable:"",filterable:""},model:{value:e.form.energyUse,callback:function(t){e.$set(e.form,"energyUse",t)},expression:"form.energyUse"}},e._l(e.energyUseOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"能源单位换算系数",prop:"xs"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.xs,callback:function(t){e.$set(e.form,"xs",t)},expression:"form.xs"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=a("b775");function o(e){return Object(n["a"])({url:"/sirui/device/list",method:"get",params:e})}function l(){return Object(n["a"])({url:"/sirui/variety/list1",method:"get"})}function s(){return Object(n["a"])({url:"/sirui/process/list1",method:"get"})}function c(){return Object(n["a"])({url:"/sirui/unit/list1",method:"get"})}function u(){return Object(n["a"])({url:"/sirui/irtu/list",method:"get"})}function d(e){return Object(n["a"])({url:"/sirui/device/"+e,method:"get"})}function m(e){return Object(n["a"])({url:"/sirui/device",method:"post",data:e})}function p(e){return Object(n["a"])({url:"/sirui/device",method:"put",data:e})}function f(e){return Object(n["a"])({url:"/sirui/device/"+e,method:"delete"})}function v(e){return Object(n["a"])({url:"/sirui/device/export",method:"get",params:e})}var h={name:"Device",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,deviceList:[],energyList:[],processList:[],processUnitList:[],irtuDeviceList:[],energyUseOptions:[],gradeOptions:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,code:void 0,name:void 0,grade:void 0,xs:void 0},form:{},rules:{}}},created:function(){var e=this;this.getList(),this.getProcessList(),this.getProcessUnitList(),this.getEnergyList(),this.getIrtuDeviceList(),this.getDicts("sirui_nyytbm").then((function(t){e.energyUseOptions=t.data})),this.getDicts("sr_device_grade").then((function(t){e.gradeOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,o(this.queryParams).then((function(t){e.deviceList=t.rows,e.total=t.total,e.loading=!1}))},getEnergyList:function(){var e=this;l().then((function(t){e.energyList=t.rows}))},getProcessList:function(){var e=this;s().then((function(t){e.processList=t.rows}))},getProcessUnitList:function(){var e=this;c().then((function(t){e.processUnitList=t.rows}))},getIrtuDeviceList:function(){var e=this;u().then((function(t){e.irtuDeviceList=t.rows}))},gradeFormat:function(e,t){return this.selectDictLabel(this.gradeOptions,e.grade)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,code:void 0,name:void 0,processCode:void 0,processUnitCode:void 0,commDate:void 0,designedCapacity:void 0,createBy:void 0,createTime:void 0,updateBy:void 0,updateTime:void 0,remark:void 0,grade:void 0,xs:void 0,energyId:void 0,energyUse:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加耗能设备"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;d(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改耗能设备"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?p(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):m(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除耗能设备编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return f(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有耗能设备数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return v(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},b=h,y=a("2877"),g=Object(y["a"])(b,i,r,!1,null,null,null);t["default"]=g.exports},ec55:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"errPage-container"},[a("el-button",{staticClass:"pan-back-btn",attrs:{icon:"arrow-left"},on:{click:e.back}},[e._v("\n    返回\n  ")]),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("h1",{staticClass:"text-jumbo text-ginormous"},[e._v("\n        401错误!\n      ")]),e._v(" "),a("h2",[e._v("您没有访问权限！")]),e._v(" "),a("h6",[e._v("对不起，您没有访问权限，请不要进行非法操作！您可以返回主页面")]),e._v(" "),a("ul",{staticClass:"list-unstyled"},[a("li",{staticClass:"link-type"},[a("router-link",{attrs:{to:"/"}},[e._v("\n            回首页\n          ")])],1)])]),e._v(" "),a("el-col",{attrs:{span:12}},[a("img",{attrs:{src:e.errGif,width:"313",height:"428",alt:"Girl has dropped her ice cream."}})])],1)],1)},r=[],n=a("cc6c"),o=a.n(n),l={name:"Page401",data:function(){return{errGif:o.a+"?"+ +new Date}},methods:{back:function(){this.$route.query.noGoBack?this.$router.push({path:"/"}):this.$router.go(-1)}}},s=l,c=(a("9800"),a("2877")),u=Object(c["a"])(s,i,r,!1,null,"2ebd819d",null);t["default"]=u.exports},ed083:function(e,t,a){},ed45:function(e,t,a){"use strict";a.d(t,"f",(function(){return r})),a.d(t,"e",(function(){return n})),a.d(t,"a",(function(){return o})),a.d(t,"h",(function(){return l})),a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return c})),a.d(t,"d",(function(){return u})),a.d(t,"g",(function(){return d}));var i=a("b775");function r(e){return Object(i["a"])({url:"/system/dict/type/list",method:"get",params:e})}function n(e){return Object(i["a"])({url:"/system/dict/type/"+e,method:"get"})}function o(e){return Object(i["a"])({url:"/system/dict/type",method:"post",data:e})}function l(e){return Object(i["a"])({url:"/system/dict/type",method:"put",data:e})}function s(e){return Object(i["a"])({url:"/system/dict/type/"+e,method:"delete"})}function c(){return Object(i["a"])({url:"/system/dict/type/clearCache",method:"delete"})}function u(e){return Object(i["a"])({url:"/system/dict/type/export",method:"get",params:e})}function d(){return Object(i["a"])({url:"/system/dict/type/optionselect",method:"get"})}},ed69:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"basicInfoForm",attrs:{model:e.info,rules:e.rules,"label-width":"150px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"表名称",prop:"tableName"}},[a("el-input",{attrs:{placeholder:"请输入仓库名称"},model:{value:e.info.tableName,callback:function(t){e.$set(e.info,"tableName",t)},expression:"info.tableName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"表描述",prop:"tableComment"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.info.tableComment,callback:function(t){e.$set(e.info,"tableComment",t)},expression:"info.tableComment"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"实体类名称",prop:"className"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.info.className,callback:function(t){e.$set(e.info,"className",t)},expression:"info.className"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"作者",prop:"functionAuthor"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.info.functionAuthor,callback:function(t){e.$set(e.info,"functionAuthor",t)},expression:"info.functionAuthor"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",rows:3},model:{value:e.info.remark,callback:function(t){e.$set(e.info,"remark",t)},expression:"info.remark"}})],1)],1)],1)],1)},r=[],n={name:"BasicInfoForm",props:{info:{type:Object,default:null}},data:function(){return{rules:{tableName:[{required:!0,message:"请输入表名称",trigger:"blur"}],tableComment:[{required:!0,message:"请输入表描述",trigger:"blur"}],className:[{required:!0,message:"请输入实体类名称",trigger:"blur"}],functionAuthor:[{required:!0,message:"请输入作者",trigger:"blur"}]}}}},o=n,l=a("2877"),s=Object(l["a"])(o,i,r,!1,null,null,null);t["default"]=s.exports},ee46:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{model:e.user,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"旧密码",prop:"oldPassword"}},[a("el-input",{attrs:{placeholder:"请输入旧密码",type:"password"},model:{value:e.user.oldPassword,callback:function(t){e.$set(e.user,"oldPassword",t)},expression:"user.oldPassword"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"新密码",prop:"newPassword"}},[a("el-input",{attrs:{placeholder:"请输入新密码",type:"password"},model:{value:e.user.newPassword,callback:function(t){e.$set(e.user,"newPassword",t)},expression:"user.newPassword"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"确认密码",prop:"confirmPassword"}},[a("el-input",{attrs:{placeholder:"请确认密码",type:"password"},model:{value:e.user.confirmPassword,callback:function(t){e.$set(e.user,"confirmPassword",t)},expression:"user.confirmPassword"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.submit}},[e._v("保存")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.close}},[e._v("关闭")])],1)],1)},r=[],n=a("c0c7"),o={data:function(){var e=this,t=function(t,a,i){e.user.newPassword!==a?i(new Error("两次输入的密码不一致")):i()};return{test:"1test",user:{oldPassword:void 0,newPassword:void 0,confirmPassword:void 0},rules:{oldPassword:[{required:!0,message:"旧密码不能为空",trigger:"blur"}],newPassword:[{required:!0,message:"新密码不能为空",trigger:"blur"},{min:6,max:20,message:"长度在 6 到 20 个字符",trigger:"blur"}],confirmPassword:[{required:!0,message:"确认密码不能为空",trigger:"blur"},{required:!0,validator:t,trigger:"blur"}]}}},methods:{submit:function(){var e=this;this.$refs["form"].validate((function(t){t&&Object(n["l"])(e.user.oldPassword,e.user.newPassword).then((function(t){200===t.code&&e.msgSuccess("修改成功")}))}))},close:function(){this.$store.dispatch("tagsView/delView",this.$route),this.$router.push({path:"/index"})}}},l=o,s=a("2877"),c=Object(s["a"])(l,i,r,!1,null,null,null);t["default"]=c.exports},eecc:function(e,t,a){"use strict";var i=a("8dd8"),r=a.n(i);r.a},ef00:function(e,t,a){},ef1c:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},r=[],n=a("313e"),o=a.n(n),l=a("30e5");a("817d");var s=3e3,c={mixins:[l["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=o.a.init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},radar:{radius:"66%",center:["50%","42%"],splitNumber:8,splitArea:{areaStyle:{color:"rgba(127,95,132,.3)",opacity:1,shadowBlur:45,shadowColor:"rgba(0,0,0,.5)",shadowOffsetX:0,shadowOffsetY:15}},indicator:[{name:"Sales",max:1e4},{name:"Administration",max:2e4},{name:"Information Techology",max:2e4},{name:"Customer Support",max:2e4},{name:"Development",max:2e4},{name:"Marketing",max:2e4}]},legend:{left:"center",bottom:"10",data:["Allocated Budget","Expected Spending","Actual Spending"]},series:[{type:"radar",symbolSize:0,areaStyle:{normal:{shadowBlur:13,shadowColor:"rgba(0,0,0,.2)",shadowOffsetX:0,shadowOffsetY:10,opacity:1}},data:[{value:[5e3,7e3,12e3,11e3,15e3,14e3],name:"Allocated Budget"},{value:[4e3,9e3,15e3,15e3,13e3,11e3],name:"Expected Spending"},{value:[5500,11e3,12e3,15e3,12e3,12e3],name:"Actual Spending"}],animationDuration:s}]})}}},u=c,d=a("2877"),m=Object(d["a"])(u,i,r,!1,null,null,null);t["default"]=m.exports},f368:function(e,t,a){},f3b5:function(e,t,a){},f794:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"菜单名称"}},[a("el-input",{attrs:{placeholder:"请输入菜单名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.menuName,callback:function(t){e.$set(e.queryParams,"menuName",t)},expression:"queryParams.menuName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"菜单状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:menu:add"],expression:"['system:menu:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.menuList,"row-key":"menuId","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{prop:"menuName",label:"菜单名称","show-overflow-tooltip":!0,width:"160"}}),e._v(" "),a("el-table-column",{attrs:{prop:"icon",label:"图标",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("svg-icon",{attrs:{"icon-class":e.row.icon}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"orderNum",label:"排序",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"perms",label:"权限标识","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"component",label:"组件路径","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",formatter:e.statusFormat,width:"80"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:menu:edit"],expression:"['system:menu:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:menu:add"],expression:"['system:menu:add']"}],attrs:{size:"mini",type:"text",icon:"el-icon-plus"},on:{click:function(a){return e.handleAdd(t.row)}}},[e._v("新增")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:menu:remove"],expression:"['system:menu:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"600px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"上级菜单"}},[a("treeselect",{attrs:{options:e.menuOptions,normalizer:e.normalizer,"show-count":!0,placeholder:"选择上级菜单"},model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"菜单类型",prop:"menuType"}},[a("el-radio-group",{model:{value:e.form.menuType,callback:function(t){e.$set(e.form,"menuType",t)},expression:"form.menuType"}},[a("el-radio",{attrs:{label:"M"}},[e._v("目录")]),e._v(" "),a("el-radio",{attrs:{label:"C"}},[e._v("菜单")]),e._v(" "),a("el-radio",{attrs:{label:"F"}},[e._v("按钮")])],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},["F"!=e.form.menuType?a("el-form-item",{attrs:{label:"菜单图标"}},[a("el-popover",{attrs:{placement:"bottom-start",width:"460",trigger:"click"},on:{show:function(t){return e.$refs["iconSelect"].reset()}}},[a("IconSelect",{ref:"iconSelect",on:{selected:e.selected}}),e._v(" "),a("el-input",{attrs:{slot:"reference",placeholder:"点击选择图标",readonly:""},slot:"reference",model:{value:e.form.icon,callback:function(t){e.$set(e.form,"icon",t)},expression:"form.icon"}},[e.form.icon?a("svg-icon",{staticClass:"el-input__icon",staticStyle:{height:"32px",width:"16px"},attrs:{slot:"prefix","icon-class":e.form.icon},slot:"prefix"}):a("i",{staticClass:"el-icon-search el-input__icon",attrs:{slot:"prefix"},slot:"prefix"})],1)],1)],1):e._e()],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"菜单名称",prop:"menuName"}},[a("el-input",{attrs:{placeholder:"请输入菜单名称"},model:{value:e.form.menuName,callback:function(t){e.$set(e.form,"menuName",t)},expression:"form.menuName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"显示排序",prop:"orderNum"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.orderNum,callback:function(t){e.$set(e.form,"orderNum",t)},expression:"form.orderNum"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},["F"!=e.form.menuType?a("el-form-item",{attrs:{label:"是否外链"}},[a("el-radio-group",{model:{value:e.form.isFrame,callback:function(t){e.$set(e.form,"isFrame",t)},expression:"form.isFrame"}},[a("el-radio",{attrs:{label:"0"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:"1"}},[e._v("否")])],1)],1):e._e()],1),e._v(" "),a("el-col",{attrs:{span:12}},["F"!=e.form.menuType?a("el-form-item",{attrs:{label:"路由地址",prop:"path"}},[a("el-input",{attrs:{placeholder:"请输入路由地址"},model:{value:e.form.path,callback:function(t){e.$set(e.form,"path",t)},expression:"form.path"}})],1):e._e()],1),e._v(" "),"C"==e.form.menuType?a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"组件路径",prop:"component"}},[a("el-input",{attrs:{placeholder:"请输入组件路径"},model:{value:e.form.component,callback:function(t){e.$set(e.form,"component",t)},expression:"form.component"}})],1)],1):e._e(),e._v(" "),a("el-col",{attrs:{span:12}},["M"!=e.form.menuType?a("el-form-item",{attrs:{label:"权限标识"}},[a("el-input",{attrs:{placeholder:"请权限标识",maxlength:"50"},model:{value:e.form.perms,callback:function(t){e.$set(e.form,"perms",t)},expression:"form.perms"}})],1):e._e()],1),e._v(" "),a("el-col",{attrs:{span:12}},["F"!=e.form.menuType?a("el-form-item",{attrs:{label:"显示状态"}},[a("el-radio-group",{model:{value:e.form.visible,callback:function(t){e.$set(e.form,"visible",t)},expression:"form.visible"}},e._l(e.visibleOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1):e._e()],1),e._v(" "),a("el-col",{attrs:{span:12}},["F"!=e.form.menuType?a("el-form-item",{attrs:{label:"菜单状态"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1):e._e()],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=a("a6dc"),o=a("ca17"),l=a.n(o),s=(a("542c"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"icon-body"},[a("el-input",{staticStyle:{position:"relative"},attrs:{clearable:"",placeholder:"请输入图标名称"},on:{clear:e.filterIcons},nativeOn:{input:function(t){return e.filterIcons(t)}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}},[a("i",{staticClass:"el-icon-search el-input__icon",attrs:{slot:"suffix"},slot:"suffix"})]),e._v(" "),a("div",{staticClass:"icon-list"},e._l(e.iconList,(function(t,i){return a("div",{key:i,on:{click:function(a){return e.selectedIcon(t)}}},[a("svg-icon",{staticStyle:{height:"30px",width:"16px"},attrs:{"icon-class":t}}),e._v(" "),a("span",[e._v(e._s(t))])],1)})),0)],1)}),c=[],u=(a("6762"),a("2fdb"),a("7f7f"),a("4917"),a("ac6a"),a("23f1")),d=function(e){return e.keys()},m=/\.\/(.*)\.svg/,p=d(u).map((function(e){return e.match(m)[1]})),f=p,v={name:"IconSelect",data:function(){return{name:"",iconList:f}},methods:{filterIcons:function(){var e=this;this.iconList=f,this.name&&(this.iconList=this.iconList.filter((function(t){return t.includes(e.name)})))},selectedIcon:function(e){this.$emit("selected",e),document.body.click()},reset:function(){this.name="",this.iconList=f}}},h=v,b=(a("1498"),a("2877")),y=Object(b["a"])(h,s,c,!1,null,"2eaaa5c8",null),g=y.exports,_={name:"Menu",components:{Treeselect:l.a,IconSelect:g},data:function(){return{loading:!0,menuList:[],menuOptions:[],title:"",open:!1,visibleOptions:[],statusOptions:[],queryParams:{menuName:void 0,visible:void 0},form:{},rules:{menuName:[{required:!0,message:"菜单名称不能为空",trigger:"blur"}],orderNum:[{required:!0,message:"菜单顺序不能为空",trigger:"blur"}],path:[{required:!0,message:"路由地址不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_show_hide").then((function(t){e.visibleOptions=t.data})),this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data}))},methods:{selected:function(e){this.form.icon=e},getList:function(){var e=this;this.loading=!0,Object(n["d"])(this.queryParams).then((function(t){e.menuList=e.handleTree(t.data,"menuId"),e.loading=!1}))},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.menuId,label:e.menuName,children:e.children}},getTreeselect:function(){var e=this;Object(n["d"])().then((function(t){e.menuOptions=[];var a={menuId:0,menuName:"主类目",children:[]};a.children=e.handleTree(t.data,"menuId"),e.menuOptions.push(a)}))},visibleFormat:function(e,t){return"F"==e.menuType?"":this.selectDictLabel(this.visibleOptions,e.visible)},statusFormat:function(e,t){return"F"==e.menuType?"":this.selectDictLabel(this.statusOptions,e.status)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={menuId:void 0,parentId:0,menuName:void 0,icon:void 0,menuType:"M",orderNum:void 0,isFrame:"1",visible:"0",status:"0"},this.resetForm("form")},handleQuery:function(){this.getList()},handleAdd:function(e){this.reset(),this.getTreeselect(),null!=e&&(this.form.parentId=e.menuId),this.open=!0,this.title="添加菜单"},handleUpdate:function(e){var t=this;this.reset(),this.getTreeselect(),Object(n["c"])(e.menuId).then((function(e){t.form=e.data,t.open=!0,t.title="修改菜单"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.menuId?Object(n["g"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):Object(n["a"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this;this.$confirm('是否确认删除名称为"'+e.menuName+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(n["b"])(e.menuId)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}},x=_,k=Object(b["a"])(x,i,r,!1,null,null,null);t["default"]=k.exports},fbc4:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"panel-group",attrs:{gutter:40}},e._l(e.menu,(function(t){return a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel"},[a("div",{staticClass:"card-panel-icon-wrapper icon-people"},[a("svg-icon",{attrs:{"icon-class":"peoples","class-name":"card-panel-icon"}})],1),e._v(" "),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v("\n\t        "+e._s(t.lable)+"\n\t      ")]),e._v(" "),a("p",{staticStyle:{"font-size":"0.8rem"}},[e._v(e._s(t.value))])])])])})),1)},r=[],n=a("bc3a"),o=a.n(n),l=a("ec1b"),s=a.n(l),c={components:{CountTo:s.a},data:function(){return{menu:[]}},created:function(){var e=this;o.a.get("/prod-api/xxrd/cydl",{params:{}}).then((function(t){e.menu=t.data.data.cydl})).catch((function(e){console.log("获取数据失败")}))},methods:{handleSetLineChartData:function(e){this.$emit("handleSetLineChartData",e)}}},u=c,d=(a("69bb"),a("2877")),m=Object(d["a"])(u,i,r,!1,null,"95e11474",null);t["default"]=m.exports},fcb1:function(e,t,a){"use strict";var i=a("4b00"),r=a.n(i);r.a},fcb7:function(e,t,a){"use strict";a.d(t,"d",(function(){return r})),a.d(t,"e",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"g",(function(){return l})),a.d(t,"f",(function(){return s})),a.d(t,"a",(function(){return c})),a.d(t,"h",(function(){return u})),a.d(t,"b",(function(){return d}));var i=a("b775");function r(e){return Object(i["a"])({url:"/system/dept/list",method:"get",params:e})}function n(e){return Object(i["a"])({url:"/system/dept/list/exclude/"+e,method:"get"})}function o(e){return Object(i["a"])({url:"/system/dept/"+e,method:"get"})}function l(){return Object(i["a"])({url:"/system/dept/treeselect",method:"get"})}function s(e){return Object(i["a"])({url:"/system/dept/roleDeptTreeselect/"+e,method:"get"})}function c(e){return Object(i["a"])({url:"/system/dept",method:"post",data:e})}function u(e){return Object(i["a"])({url:"/system/dept",method:"put",data:e})}function d(e){return Object(i["a"])({url:"/system/dept/"+e,method:"delete"})}},feb2:function(e,t,a){"use strict";a.r(t);var i=a("ed08");t["default"]={data:function(){return{$_sidebarElm:null,$_resizeHandler:null}},mounted:function(){this.initListener()},activated:function(){this.$_resizeHandler||this.initListener(),this.resize()},beforeDestroy:function(){this.destroyListener()},deactivated:function(){this.destroyListener()},methods:{$_sidebarResizeHandler:function(e){"width"===e.propertyName&&this.$_resizeHandler()},initListener:function(){var e=this;this.$_resizeHandler=Object(i["c"])((function(){e.resize()}),100),window.addEventListener("resize",this.$_resizeHandler),this.$_sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener("transitionend",this.$_sidebarResizeHandler)},destroyListener:function(){window.removeEventListener("resize",this.$_resizeHandler),this.$_resizeHandler=null,this.$_sidebarElm&&this.$_sidebarElm.removeEventListener("transitionend",this.$_sidebarResizeHandler)},resize:function(){var e=this.chart;e&&e.resize()}}}},ffee:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"行业全名",prop:"fullname"}},[a("el-input",{attrs:{placeholder:"请输入行业全名",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.fullname,callback:function(t){e.$set(e.queryParams,"fullname",t)},expression:"queryParams.fullname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"行业名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入行业名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.name,callback:function(t){e.$set(e.queryParams,"name",t)},expression:"queryParams.name"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}}),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.industryList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{label:"生产工序编码",align:"center",prop:"code"}}),e._v(" "),a("el-table-column",{attrs:{label:"上一级行业编码",align:"center",prop:"pcode"}}),e._v(" "),a("el-table-column",{attrs:{label:"行业全名",align:"center",prop:"fullname"}}),e._v(" "),a("el-table-column",{attrs:{label:"行业名称",align:"center",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:"是否能源加工转换类行业",align:"center",prop:"jgzh",formatter:e.jgzhFormat}})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"生产工序编码",prop:"code"}},[a("el-input",{attrs:{placeholder:"请输入生产工序编码"},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"上一级行业编码",prop:"pcode"}},[a("el-input",{attrs:{placeholder:"请输入上一级行业编码"},model:{value:e.form.pcode,callback:function(t){e.$set(e.form,"pcode",t)},expression:"form.pcode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"行业全名",prop:"fullname"}},[a("el-input",{attrs:{placeholder:"请输入行业全名"},model:{value:e.form.fullname,callback:function(t){e.$set(e.form,"fullname",t)},expression:"form.fullname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"行业名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入行业名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否能源加工转换类行业"}},[a("el-select",{attrs:{placeholder:"请选择是否能源加工转换类行业"},model:{value:e.form.jgzh,callback:function(t){e.$set(e.form,"jgzh",t)},expression:"form.jgzh"}},e._l(e.jgzhOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},r=[],n=a("b775");function o(e){return Object(n["a"])({url:"/sirui/industry/list",method:"get",params:e})}function l(e){return Object(n["a"])({url:"/sirui/industry/"+e,method:"get"})}function s(e){return Object(n["a"])({url:"/sirui/industry",method:"post",data:e})}function c(e){return Object(n["a"])({url:"/sirui/industry",method:"put",data:e})}function u(e){return Object(n["a"])({url:"/sirui/industry/"+e,method:"delete"})}function d(e){return Object(n["a"])({url:"/sirui/industry/export",method:"get",params:e})}var m={name:"Industry",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,industryList:[],title:"",open:!1,jgzhOptions:[],queryParams:{pageNum:1,pageSize:10,fullname:void 0,name:void 0},form:{},rules:{}}},created:function(){var e=this;this.getList(),this.getDicts("sr_sjsc_jgzh").then((function(t){e.jgzhOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,o(this.queryParams).then((function(t){console.log(t.rows),e.industryList=t.rows,e.total=t.total,e.loading=!1}))},jgzhFormat:function(e,t){return this.selectDictLabel(this.jgzhOptions,e.jgzh)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,code:void 0,pcode:void 0,fullname:void 0,name:void 0,jgzh:void 0,createBy:void 0,createTime:void 0,updateBy:void 0,updateTime:void 0,remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加行业(基础数据下载)"},handleUpdate:function(e){var t=this;this.reset();var a=e.id||this.ids;l(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改行业(基础数据下载)"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?c(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):s(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm('是否确认删除行业(基础数据下载)编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有行业(基础数据下载)数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return d(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},p=m,f=a("2877"),v=Object(f["a"])(p,i,r,!1,null,null,null);t["default"]=v.exports}}]);